/**
 * Relay v5.0.0
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("relay-runtime"),require("fbjs/lib/invariant"),require("fbjs/lib/areEqual"),require("fbjs/lib/warning"),require("fbjs/lib/mapObject"),require("fbjs/lib/forEachObject")):"function"==typeof define&&define.amd?define(["react","relay-runtime","fbjs/lib/invariant","fbjs/lib/areEqual","fbjs/lib/warning","fbjs/lib/mapObject","fbjs/lib/forEachObject"],t):"object"==typeof exports?exports.ReactRelay=t(require("react"),require("relay-runtime"),require("fbjs/lib/invariant"),require("fbjs/lib/areEqual"),require("fbjs/lib/warning"),require("fbjs/lib/mapObject"),require("fbjs/lib/forEachObject")):e.ReactRelay=t(e.react,e["relay-runtime"],e["fbjs/lib/invariant"],e["fbjs/lib/areEqual"],e["fbjs/lib/warning"],e["fbjs/lib/mapObject"],e["fbjs/lib/forEachObject"])}(window,function(e,t,r,n,o,a,i){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=17)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";var n=r(0),o=r(1).__internal.createRelayContext;e.exports=o(n)},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t){e.exports=r},function(e,t,r){var n=r(4);e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){n(e,t,r[t])})}return e}},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t){e.exports=n},function(e,t,r){"use strict";function n(e){return e.displayName||e.name||"Component"}e.exports={getComponentName:n,getContainerName:function(e){return"Relay("+n(e)+")"}}},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,r){"use strict";var n=r(2)(r(13)),o=r(0),a=r(3),i=r(19),s=r(5),u=r(20),c=r(21),l=r(9),f=l.getComponentName,p=l.getContainerName;e.exports=function(e,t,r){var l,h,v=p(e);function d(n){if(null==h||n.__relayContext.environment!==l){var o=(l=n.__relayContext.environment).unstable_internal.getFragment,a=u(t,o);h=r(e,a),d.getDerivedStateFromProps=h.getDerivedStateFromProps}return new h(n)}function _(e,t){var r=c(a);return r||s(!1),o.createElement(d,(0,n.default)({},e,{__relayContext:r,componentRef:e.componentRef||t}))}return i(f(e),t),d.prototype=o.Component.prototype,d.displayName=v,_.displayName=v,o.forwardRef(_)}},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},function(e,t,r){"use strict";var n=r(5),o=r(22),a=r(23);function i(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&o(e.environment)&&a(e.variables)}e.exports={assertRelayContext:function(e){return i(e)||n(!1),e},isRelayContext:i}},function(e,t,r){"use strict";var n=r(2)(r(4)),o=r(5),a=r(1),i=a.isRelayModernEnvironment,s=a.__internal.fetchQuery,u=function(){function e(e){(0,n.default)(this,"_selectionReferences",[]),(0,n.default)(this,"_callOnDataChangeWhenSet",!1),null!=e&&(this._cacheSelectionReference=e.cacheSelectionReference,this._selectionReferences=e.selectionReferences)}var t=e.prototype;return t.getSelectionReferences=function(){return{cacheSelectionReference:this._cacheSelectionReference,selectionReferences:this._selectionReferences}},t.lookupInStore=function(e,t){return e.check(t.root)?(this._retainCachedOperation(e,t),e.lookup(t.fragment,t)):null},t.execute=function(e){var t=this,r=e.environment,n=e.operation,o=e.cacheConfig,a=e.preservePreviousReferences,u=void 0!==a&&a,c=r.retain(n.root),l=null!=o?{networkCacheConfig:o}:{},f=function(){t._selectionReferences=t._selectionReferences.concat(c)},p=function(){u||t.disposeSelectionReferences(),t._selectionReferences=t._selectionReferences.concat(c)},h=function(){t._selectionReferences=t._selectionReferences.concat(c)};return i(r)?s(r,n,l).do({error:f,complete:p,unsubscribe:h}):r.execute({operation:n,cacheConfig:o}).do({error:f,complete:p,unsubscribe:h})},t.setOnDataChange=function(e){this._fetchOptions||o(!1),"function"==typeof e&&(this._fetchOptions.onDataChangeCallbacks=this._fetchOptions.onDataChangeCallbacks||[],this._fetchOptions.onDataChangeCallbacks.push(e),this._callOnDataChangeWhenSet&&(null!=this._error?e({error:this._error}):null!=this._snapshot&&e({snapshot:this._snapshot})))},t.fetch=function(e){var t,r=this,n=e.cacheConfig,o=e.environment,a=e.operation,i=e.onDataChange,s=!1;this.disposeRequest();var u=this._fetchOptions&&this._fetchOptions.onDataChangeCallbacks;this._fetchOptions={cacheConfig:n,environment:o,onDataChangeCallbacks:u||[],operation:a},i&&-1===this._fetchOptions.onDataChangeCallbacks.indexOf(i)&&this._fetchOptions.onDataChangeCallbacks.push(i);var c=this.execute({environment:o,operation:a,cacheConfig:n}).finally(function(){r._pendingRequest=null}).subscribe({next:function(){r._callOnDataChangeWhenSet=!0,r._error=null,r._onQueryDataAvailable({notifyFirstResult:s})},error:function(e){r._callOnDataChangeWhenSet=!0,r._error=e,r._snapshot=null;var n=r._fetchOptions&&r._fetchOptions.onDataChangeCallbacks;s?n&&n.forEach(function(t){t({error:e})}):t=e}});if(this._pendingRequest={dispose:function(){c.unsubscribe()}},s=!0,t)throw t;return this._snapshot},t.retry=function(){return this._fetchOptions||o(!1),this.fetch({cacheConfig:this._fetchOptions.cacheConfig,environment:this._fetchOptions.environment,operation:this._fetchOptions.operation,onDataChange:null})},t.dispose=function(){this.disposeRequest(),this.disposeSelectionReferences()},t.disposeRequest=function(){this._error=null,this._snapshot=null,this._pendingRequest&&this._pendingRequest.dispose(),this._rootSubscription&&(this._rootSubscription.dispose(),this._rootSubscription=null)},t._retainCachedOperation=function(e,t){this._disposeCacheSelectionReference(),this._cacheSelectionReference=e.retain(t.root)},t._disposeCacheSelectionReference=function(){this._cacheSelectionReference&&this._cacheSelectionReference.dispose(),this._cacheSelectionReference=null},t.disposeSelectionReferences=function(){this._disposeCacheSelectionReference(),this._selectionReferences.forEach(function(e){return e.dispose()}),this._selectionReferences=[]},t._onQueryDataAvailable=function(e){var t=this,r=e.notifyFirstResult;this._fetchOptions||o(!1);var n=this._fetchOptions,a=n.environment,i=n.onDataChangeCallbacks,s=n.operation;if(!this._snapshot&&(this._snapshot=a.lookup(s.fragment,s),this._rootSubscription=a.subscribe(this._snapshot,function(e){if(null!=t._fetchOptions){var r=t._fetchOptions.onDataChangeCallbacks;Array.isArray(r)&&r.forEach(function(t){return t({snapshot:e})})}}),this._snapshot&&r&&Array.isArray(i))){var u=this._snapshot;i.forEach(function(e){return e({snapshot:u})})}},e}();e.exports=u},function(e,t){e.exports=o},function(e,t,r){"use strict";var n=r(3),o=r(18),a=r(24),i=r(26),s=r(27),u=r(1);e.exports={QueryRenderer:i,MutationTypes:u.MutationTypes,RangeOperations:u.RangeOperations,ReactRelayContext:n,applyOptimisticMutation:u.applyOptimisticMutation,commitLocalUpdate:u.commitLocalUpdate,commitMutation:u.commitMutation,createFragmentContainer:o.createContainer,createPaginationContainer:a.createContainer,createRefetchContainer:s.createContainer,fetchQuery:u.fetchQuery,graphql:u.graphql,requestSubscription:u.requestSubscription}},function(e,t,r){"use strict";var n=r(2),o=n(r(6)),a=n(r(10)),i=n(r(11)),s=n(r(7)),u=n(r(4)),c=r(0),l=r(8),f=r(12),p=r(9).getContainerName,h=r(14).assertRelayContext,v=r(1).isScalarAndEqual;function d(e,t){var r,n,f=p(e);return n=r=function(r){function n(e){var n;n=r.call(this,e)||this,(0,u.default)((0,i.default)(n),"_handleFragmentDataUpdate",function(){var e=n.state.resolver;n.setState(function(t){return e===t.resolver?{data:t.resolver.resolve(),relayProp:_(t.relayProp.environment)}:null})});var o=h(e.__relayContext),a=(0,o.environment.unstable_internal.createFragmentSpecResolver)(o,f,t,e);return n.state={data:a.resolve(),prevProps:e,prevPropsContext:o,relayProp:_(o.environment),resolver:a},n}(0,s.default)(n,r),n.getDerivedStateFromProps=function(e,r){var n=r.prevProps,o=h(e.__relayContext),a=o.environment.unstable_internal,i=a.createFragmentSpecResolver,s=a.getDataIDsFromObject,u=s(t,n),c=s(t,e),p=r.resolver;if(r.prevPropsContext.environment!==o.environment||r.prevPropsContext.variables!==o.variables||!l(u,c))return{data:(p=i(o,f,t,e)).resolve(),prevPropsContext:o,prevProps:e,relayProp:_(o.environment),resolver:p};p.setProps(e);var v=p.resolve();return v!==r.data?{data:v,prevProps:e,prevPropsContext:o,relayProp:_(o.environment)}:null};var p=n.prototype;return p.componentDidMount=function(){this._subscribeToNewResolver(),this._rerenderIfStoreHasChanged()},p.componentDidUpdate=function(e,t){this.state.resolver!==t.resolver&&(t.resolver.dispose(),this._subscribeToNewResolver()),this._rerenderIfStoreHasChanged()},p.componentWillUnmount=function(){this.state.resolver.dispose()},p.shouldComponentUpdate=function(e,r){if(r.data!==this.state.data)return!0;for(var n=Object.keys(e),o=0;o<n.length;o++){var a=n[o];if("__relayContext"===a){if(r.prevPropsContext.environment!==this.state.prevPropsContext.environment||r.prevPropsContext.variables!==this.state.prevPropsContext.variables)return!0}else if(!t.hasOwnProperty(a)&&!v(e[a],this.props[a]))return!0}return!1},p._rerenderIfStoreHasChanged=function(){var e=this.state,t=e.data,r=e.resolver.resolve();t!==r&&this.setState({data:r})},p._subscribeToNewResolver=function(){this.state.resolver.setCallback(this._handleFragmentDataUpdate)},p.render=function(){var t=this.props,r=t.componentRef,n=(t.__relayContext,(0,a.default)(t,["componentRef","__relayContext"]));return c.createElement(e,(0,o.default)({},n,this.state.data,{ref:r,relay:this.state.relayProp}))},n}(c.Component),(0,u.default)(r,"displayName",f),n}function _(e){return{environment:e}}e.exports={createContainer:function(e,t){return f(e,t,d)}}},function(e,t,r){"use strict";var n=r(5);e.exports=function(e,t){for(var r in t&&"object"==typeof t||n(!1),t)if(t.hasOwnProperty(r)){var o=t[r];(!o||"object"!=typeof o&&"function"!=typeof o)&&n(!1)}}},function(e,t){e.exports=a},function(e,t,r){"use strict";var n=r(0).__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o=n.ReactCurrentDispatcher,a=n.ReactCurrentOwner;e.exports=function(e){return(null!=o?o.current:a.currentDispatcher).readContext(e)}},function(e,t,r){"use strict";e.exports=function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.check&&"function"==typeof e.lookup&&"function"==typeof e.retain&&"function"==typeof e.sendQuery&&"function"==typeof e.execute&&"function"==typeof e.subscribe}},function(e,t,r){"use strict";e.exports=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}},function(e,t,r){"use strict";var n=r(2),o=n(r(13)),a=n(r(10)),i=n(r(11)),s=n(r(7)),u=n(r(4)),c=n(r(6)),l=r(0),f=r(3),p=r(15),h=r(8),v=r(12),d=r(25),_=r(5),b=(r(16),r(9)),y=b.getComponentName,m=b.getContainerName,C=r(14).assertRelayContext,g=r(1),x=g.ConnectionInterface,R=g.Observable,P=g.getFragmentOwners,S=g.isScalarAndEqual,O="forward";function F(e){return"function"==typeof e?{error:e,complete:e,unsubscribe:function(t){"function"==typeof e&&e()}}:e||{}}function q(e,t,r){y(e);var n,v,b=m(e),g=function(e){var t=null,r=!1;for(var n in e){var o=e[n],a=o.metadata&&o.metadata.connection;void 0!==o.metadata&&(r=!0),a&&(1!==a.length&&_(!1),t&&_(!1),t=(0,c.default)({},a[0],{fragmentName:n}))}return r&&null===t&&_(!1),t||{}}(t),q=r.getConnectionFromProps||function(e){var t=e.path;return t||_(!1),function(r){for(var n=r[e.fragmentName],o=0;o<t.length;o++){if(!n||"object"!=typeof n)return null;n=n[t[o]]}return n}}(g),D=r.direction||g.direction;D||_(!1);var j=r.getFragmentVariables||function(e){var t=e.count;return t||_(!1),function(e,r){return(0,c.default)({},e,(0,u.default)({},t,r))}}(g);return v=n=function(n){function v(e){var r;r=n.call(this,e)||this,(0,u.default)((0,i.default)(r),"_handleFragmentDataUpdate",function(){r.setState({data:r._resolver.resolve()})}),(0,u.default)((0,i.default)(r),"_hasMore",function(){var e=r._getConnectionData();return!!(e&&e.hasMore&&e.cursor)}),(0,u.default)((0,i.default)(r),"_isLoading",function(){return!!r._refetchSubscription}),(0,u.default)((0,i.default)(r),"_refetchConnection",function(e,t,n){if(!r._canFetchPage("refetchConnection"))return{dispose:function(){}};r._refetchVariables=n;var o={count:e,cursor:null,totalCount:e};return{dispose:r._fetchPage(o,F(t),{force:!0}).unsubscribe}}),(0,u.default)((0,i.default)(r),"_loadMore",function(e,t,n){if(!r._canFetchPage("loadMore"))return{dispose:function(){}};var o=F(t),a=r._getConnectionData();if(!a)return R.create(function(e){return e.complete()}).subscribe(o),null;var i=a.edgeCount+e;if(n&&n.force)return r._refetchConnection(i,t);var s=x.get(),u=(s.END_CURSOR,s.START_CURSOR,{count:e,cursor:a.cursor,totalCount:i});return{dispose:r._fetchPage(u,o,n).unsubscribe}});var o=C(e.__relayContext),a=o.environment.unstable_internal.createFragmentSpecResolver;return r._isARequestInFlight=!1,r._refetchSubscription=null,r._refetchVariables=null,r._resolver=a(o,b,t,e,r._handleFragmentDataUpdate),r.state={data:r._resolver.resolve(),prevContext:o,contextForChildren:o,relayProp:r._buildRelayProp(o)},r._isUnmounted=!1,r._hasFetched=!1,r}(0,s.default)(v,n);var y=v.prototype;return y.UNSAFE_componentWillReceiveProps=function(e){var r=C(e.__relayContext),n=r.environment.unstable_internal,o=n.createFragmentSpecResolver,a=n.getDataIDsFromObject,i=a(t,this.props),s=a(t,e);r.environment===this.state.prevContext.environment&&r.variables===this.state.prevContext.variables&&h(i,s)?this._hasFetched||this._resolver.setProps(e):(this._cleanup(),this._resolver=o(r,b,t,e,this._handleFragmentDataUpdate),this.setState({prevContext:r,contextForChildren:r,relayProp:this._buildRelayProp(r)}));var u=this._resolver.resolve();u!==this.state.data&&this.setState({data:u})},y.componentWillUnmount=function(){this._isUnmounted=!0,this._cleanup()},y.shouldComponentUpdate=function(e,r){if(r.data!==this.state.data||r.relayProp!==this.state.relayProp)return!0;for(var n=Object.keys(e),o=0;o<n.length;o++){var a=n[o];if("__relayContext"===a){if(r.prevContext.environment!==this.state.prevContext.environment||r.prevContext.variables!==this.state.prevContext.variables)return!0}else if(!t.hasOwnProperty(a)&&!S(e[a],this.props[a]))return!0}return!1},y._buildRelayProp=function(e){return{hasMore:this._hasMore,isLoading:this._isLoading,loadMore:this._loadMore,refetchConnection:this._refetchConnection,environment:e.environment}},y._getConnectionData=function(){var e=this.props,t=(e.componentRef,(0,a.default)(e,["componentRef"])),r=(0,c.default)({},t,this.state.data),n=q(r);if(null==n)return null;var o=x.get(),i=o.EDGES,s=o.PAGE_INFO,u=o.HAS_NEXT_PAGE,l=o.HAS_PREV_PAGE,f=o.END_CURSOR,p=o.START_CURSOR;"object"!=typeof n&&_(!1);var h=n[i],v=n[s];if(null==h||null==v)return null;Array.isArray(h)||_(!1),"object"!=typeof v&&_(!1);var d=D===O?v[u]:v[l],b=D===O?v[f]:v[p];return"boolean"!=typeof d||0!==h.length&&void 0===b?null:{cursor:b,edgeCount:h.length,hasMore:d}},y._getQueryFetcher=function(){return this._queryFetcher||(this._queryFetcher=new p),this._queryFetcher},y._canFetchPage=function(e){return!this._isUnmounted},y._fetchPage=function(e,n,o){var i,s,u=this,l=C(this.props.__relayContext).environment,f=l.unstable_internal,p=f.createOperationDescriptor,v=f.getRequest,b=f.getVariablesFromObject,y=this.props,m=(y.componentRef,y.__relayContext,(0,a.default)(y,["componentRef","__relayContext"])),g=(0,c.default)({},m,this.state.data),x=P(t,m);d(t,function(e,t){var r,n,o,a=x[t],s=Array.isArray(a)?null!==(r=null===(n=a[0])||void 0===n?void 0:n.variables)&&void 0!==r?r:{}:null!==(o=null==a?void 0:a.variables)&&void 0!==o?o:{};i=(0,c.default)({},i,s)}),s=b({},t,m,x),s=(0,c.default)({},i,s,this._refetchVariables);var S=r.getVariables(g,{count:e.count,cursor:e.cursor},s);("object"!=typeof S||null===S)&&_(!1),S=(0,c.default)({},S,this._refetchVariables),s=(0,c.default)({},S,s);var O=o?{force:!!o.force}:void 0,F=p(v(r.query),S),q=null;this._refetchSubscription&&this._refetchSubscription.unsubscribe(),this._hasFetched=!0;var D=function(){u._refetchSubscription===q&&(u._refetchSubscription=null,u._isARequestInFlight=!1)};return this._isARequestInFlight=!0,q=this._getQueryFetcher().execute({environment:l,operation:F,cacheConfig:O,preservePreviousReferences:!0}).mergeMap(function(t){return R.create(function(t){!function(t,r){var n=(0,c.default)({},u.props.__relayContext.variables,s),o=u._resolver.resolve();u._resolver.setVariables(j(s,e.totalCount),F.node);var a=u._resolver.resolve();h(o,a)?r():u.setState({data:a,contextForChildren:{environment:u.props.__relayContext.environment,variables:n}},r)}(0,function(){t.next(),t.complete()})})}).do({error:D,complete:D,unsubscribe:D}).subscribe(n||{}),this._refetchSubscription=this._isARequestInFlight?q:null,q},y._cleanup=function(){this._resolver.dispose(),this._refetchVariables=null,this._hasFetched=!1,this._refetchSubscription&&(this._refetchSubscription.unsubscribe(),this._refetchSubscription=null,this._isARequestInFlight=!1),this._queryFetcher&&this._queryFetcher.dispose()},y.render=function(){var t=this.props,r=t.componentRef,n=(t.__relayContext,(0,a.default)(t,["componentRef","__relayContext"]));return l.createElement(f.Provider,{value:this.state.contextForChildren},l.createElement(e,(0,o.default)({},n,this.state.data,{ref:r,relay:this.state.relayProp})))},v}(l.Component),(0,u.default)(n,"displayName",b),v}e.exports={createContainer:function(e,t,r){return v(e,t,function(e,t){return q(e,t,r)})}}},function(e,t){e.exports=i},function(e,t,r){"use strict";var n=r(2),o=n(r(6)),a=n(r(7)),i=r(0),s=r(3),u=r(15),c=r(8),l=(r(1).deepFreeze,{}),f="STORE_THEN_NETWORK",p=function(e){function t(t){var r;r=e.call(this,t)||this;var n,a,i={handleDataChange:null,handleRetryAfterError:null};if(t.query){var s=t.query;a=d((0,t.environment.unstable_internal.getRequest)(s).params,t.variables),n=l[a]?l[a].queryFetcher:new u}else n=new u;return r.state=(0,o.default)({prevPropsEnvironment:t.environment,prevPropsVariables:t.variables,prevQuery:t.query,queryFetcher:n,retryCallbacks:i},_(t,n,i,a)),r}(0,a.default)(t,e),t.getDerivedStateFromProps=function(e,t){if(t.prevQuery!==e.query||t.prevPropsEnvironment!==e.environment||!c(t.prevPropsVariables,e.variables)){var r,n=e.query,a=t.queryFetcher.getSelectionReferences();if(t.queryFetcher.disposeRequest(),n){var i=d((0,e.environment.unstable_internal.getRequest)(n).params,e.variables);r=l[i]?l[i].queryFetcher:new u(a)}else r=new u(a);return(0,o.default)({prevQuery:e.query,prevPropsEnvironment:e.environment,prevPropsVariables:e.variables,queryFetcher:r},_(e,r,t.retryCallbacks))}return null};var r=t.prototype;return r.componentDidMount=function(){var e=this,t=this.state,r=t.retryCallbacks,n=t.queryFetcher,o=t.requestCacheKey;o&&delete l[o],r.handleDataChange=function(t){var r=null==t.error?null:t.error,n=null==t.snapshot?null:t.snapshot;e.setState(function(e){var t=e.requestCacheKey;return t&&delete l[t],n===e.snapshot&&r===e.error?null:{renderProps:v(r,n,e.queryFetcher,e.retryCallbacks),snapshot:n,requestCacheKey:null}})},r.handleRetryAfterError=function(t){return e.setState(function(e){var t=e.requestCacheKey;return t&&delete l[t],{renderProps:{error:null,props:null,retry:null},requestCacheKey:null}})},this.props.query&&n.setOnDataChange(r.handleDataChange)},r.componentDidUpdate=function(){var e=this.state.requestCacheKey;e&&(delete l[e],delete this.state.requestCacheKey)},r.componentWillUnmount=function(){this.state.queryFetcher.dispose()},r.shouldComponentUpdate=function(e,t){return e.render!==this.props.render||t.renderProps!==this.state.renderProps},r.render=function(){var e=this.state,t=e.renderProps,r=e.relayContext;return i.createElement(s.Provider,{value:r},this.props.render(t))},t}(i.Component);function h(e,t){return{environment:e,variables:t}}function v(e,t,r,n){return{error:e||null,props:t?t.data:null,retry:function(){var t=r.retry();t&&"function"==typeof n.handleDataChange?n.handleDataChange({snapshot:t}):e&&"function"==typeof n.handleRetryAfterError&&n.handleRetryAfterError(e)}}}function d(e,t){var r=e.id||e.text;return JSON.stringify({id:String(r),variables:t})}function _(e,t,r,n){var o=e.environment,a=e.query,i=e.variables,s=o;if(!a)return t.dispose(),{error:null,relayContext:h(s,i),renderProps:{error:null,props:{},retry:null},requestCacheKey:null};var u=s.unstable_internal,c=u.createOperationDescriptor,p=(0,u.getRequest)(a),_=c(p,i),b=h(s,_.variables);if("string"==typeof n&&l[n]){var y=l[n].snapshot;return y?{error:null,relayContext:b,renderProps:v(null,y,t,r),snapshot:y,requestCacheKey:n}:{error:null,relayContext:b,renderProps:{error:null,props:null,retry:null},snapshot:null,requestCacheKey:n}}try{var m=e.dataFrom===f?t.lookupInStore(s,_):null,C=t.fetch({cacheConfig:e.cacheConfig,dataFrom:e.dataFrom,environment:s,onDataChange:r.handleDataChange,operation:_})||m;return n=n||d(p.params,e.variables),l[n]={queryFetcher:t,snapshot:C},C?{error:null,relayContext:b,renderProps:v(null,C,t,r),snapshot:C,requestCacheKey:n}:{error:null,relayContext:b,renderProps:{error:null,props:null,retry:null},snapshot:null,requestCacheKey:n}}catch(e){return{error:e,relayContext:b,renderProps:v(e,null,t,r),snapshot:null,requestCacheKey:n}}}e.exports=p},function(e,t,r){"use strict";var n=r(2),o=n(r(13)),a=n(r(10)),i=n(r(6)),s=n(r(11)),u=n(r(7)),c=n(r(4)),l=r(0),f=r(3),p=r(15),h=r(8),v=r(12),d=(r(16),r(9).getContainerName),_=r(14).assertRelayContext,b=r(1),y=b.Observable,m=b.getFragmentOwners,C=b.isScalarAndEqual;function g(e,t){return{environment:e,refetch:t}}e.exports={createContainer:function(e,t,r){return v(e,t,function(e,t){return function(e,t,r){var n,v,b=d(e);return v=n=function(n){function v(e){var o;o=n.call(this,e)||this,(0,c.default)((0,s.default)(o),"_handleFragmentDataUpdate",function(){var e=o.state.resolver;o.setState(function(t){return e===t.resolver?{data:t.resolver.resolve()}:null})}),(0,c.default)((0,s.default)(o),"_refetch",function(e,t,n,a){if(o._isUnmounted)return{dispose:function(){}};var s=_(o.props.__relayContext),u=s.environment,c=s.variables,l="function"==typeof e?e(o._getFragmentVariables()):e;l=(0,i.default)({},c,l);var f,p=t?(0,i.default)({},l,t):l,h=a?{force:!!a.force}:void 0,v="function"==typeof n?{next:n,error:n}:n||{},d=o.props.__relayContext.environment.unstable_internal,b=(0,d.createOperationDescriptor)((0,d.getRequest)(r),l);return o.state.localVariables=l,o._refetchSubscription&&o._refetchSubscription.unsubscribe(),"store-or-network"===(null==a?void 0:a.fetchPolicy)&&null!=o._getQueryFetcher().lookupInStore(u,b)?(o.state.resolver.setVariables(p,b.node),o.setState(function(e){return{data:e.resolver.resolve(),contextForChildren:{environment:o.props.__relayContext.environment,variables:p}}},function(){v.next&&v.next(),v.complete&&v.complete()}),{dispose:function(){}}):(o._getQueryFetcher().execute({environment:u,operation:b,cacheConfig:h,preservePreviousReferences:!0}).mergeMap(function(e){return o.state.resolver.setVariables(p,b.node),y.create(function(e){return o.setState(function(e){return{data:e.resolver.resolve(),contextForChildren:{environment:o.props.__relayContext.environment,variables:p}}},function(){e.next(),e.complete()})})}).finally(function(){o._refetchSubscription===f&&(o._refetchSubscription=null)}).subscribe((0,i.default)({},v,{start:function(e){o._refetchSubscription=f=e,v.start&&v.start(e)}})),{dispose:function(){f&&f.unsubscribe()}})});var a=_(e.__relayContext);o._refetchSubscription=null;var u=(0,a.environment.unstable_internal.createFragmentSpecResolver)(a,b,t,e);return o.state={data:u.resolve(),localVariables:null,prevProps:e,prevPropsContext:a,contextForChildren:a,relayProp:g(a.environment,o._refetch),resolver:u},o._isUnmounted=!1,o}(0,u.default)(v,n);var d=v.prototype;return d.componentDidMount=function(){this._subscribeToNewResolver()},d.componentDidUpdate=function(e,t){this.state.resolver!==t.resolver&&(t.resolver.dispose(),this._queryFetcher&&this._queryFetcher.dispose(),this._refetchSubscription&&this._refetchSubscription.unsubscribe(),this._subscribeToNewResolver())},v.getDerivedStateFromProps=function(e,r){var n=r.prevProps,o=_(e.__relayContext),a=o.environment.unstable_internal,i=a.createFragmentSpecResolver,s=a.getDataIDsFromObject,u=s(t,n),c=s(t,e),l=r.resolver;if(r.prevPropsContext.environment!==o.environment||r.prevPropsContext.variables!==o.variables||!h(u,c))return{data:(l=i(o,b,t,e)).resolve(),localVariables:null,prevProps:e,prevPropsContext:o,contextForChildren:o,relayProp:g(o.environment,r.relayProp.refetch),resolver:l};r.localVariables||l.setProps(e);var f=l.resolve();return f!==r.data?{data:f,prevProps:e}:null},d.componentWillUnmount=function(){this._isUnmounted=!0,this.state.resolver.dispose(),this._queryFetcher&&this._queryFetcher.dispose(),this._refetchSubscription&&this._refetchSubscription.unsubscribe()},d.shouldComponentUpdate=function(e,r){if(r.data!==this.state.data||r.relayProp!==this.state.relayProp)return!0;for(var n=Object.keys(e),o=0;o<n.length;o++){var a=n[o];if("__relayContext"===a){if(this.state.prevPropsContext.environment!==r.prevPropsContext.environment||this.state.prevPropsContext.variables!==r.prevPropsContext.variables)return!0}else if(!t.hasOwnProperty(a)&&!C(e[a],this.props[a]))return!0}return!1},d._subscribeToNewResolver=function(){var e=this.state,t=e.data,r=e.resolver;r.setCallback(this._handleFragmentDataUpdate);var n=r.resolve();t!==n&&this.setState({data:n})},d._getFragmentVariables=function(){return(0,this.props.__relayContext.environment.unstable_internal.getVariablesFromObject)({},t,this.props,m(t,this.props))},d._getQueryFetcher=function(){return this._queryFetcher||(this._queryFetcher=new p),this._queryFetcher},d.render=function(){var t=this.props,r=t.componentRef,n=(t.__relayContext,(0,a.default)(t,["componentRef","__relayContext"])),i=this.state,s=i.relayProp,u=i.contextForChildren;return l.createElement(f.Provider,{value:u},l.createElement(e,(0,o.default)({},n,this.state.data,{ref:r,relay:s})))},v}(l.Component),(0,c.default)(n,"displayName",b),v}(e,t,r)})}}}])});