{"ast":null,"code":"var _Array$isArray = require(\"@babel/runtime-corejs2/core-js/array/is-array\");\n\nvar _Date$now = require(\"@babel/runtime-corejs2/core-js/date/now\");\n\nvar _parseInt = require(\"@babel/runtime-corejs2/core-js/parse-int\");\n\nvar _JSON$stringify = require(\"@babel/runtime-corejs2/core-js/json/stringify\");\n\nvar _Object$keys = require(\"@babel/runtime-corejs2/core-js/object/keys\");\n\nvar _Promise = require(\"@babel/runtime-corejs2/core-js/promise\");\n\nvar _Object$assign = require(\"@babel/runtime-corejs2/core-js/object/assign\");\n\nvar _Object$setPrototypeOf = require(\"@babel/runtime-corejs2/core-js/object/set-prototype-of\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n!function (e) {\n  var t = {};\n\n  function i(n) {\n    if (t[n]) return t[n].exports;\n    var r = t[n] = {\n      i: n,\n      l: !1,\n      exports: {}\n    };\n    return e[n].call(r.exports, r, r.exports, i), r.l = !0, r.exports;\n  }\n\n  i.m = e, i.c = t, i.d = function (e, t, n) {\n    i.o(e, t) || _Object$defineProperty(e, t, {\n      configurable: !1,\n      enumerable: !0,\n      get: n\n    });\n  }, i.r = function (e) {\n    _Object$defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n  }, i.n = function (e) {\n    var t = e && e.__esModule ? function () {\n      return e.default;\n    } : function () {\n      return e;\n    };\n    return i.d(t, \"a\", t), t;\n  }, i.o = function (e, t) {\n    return Object.prototype.hasOwnProperty.call(e, t);\n  }, i.p = \"\", i(i.s = 35);\n}([function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return n;\n  });\n  _Object$setPrototypeOf || Array;\n  _Object$assign;\n\n  function n(e, t, i, n) {\n    return new (i || (i = _Promise))(function (r, o) {\n      function s(e) {\n        try {\n          c(n.next(e));\n        } catch (e) {\n          o(e);\n        }\n      }\n\n      function a(e) {\n        try {\n          c(n.throw(e));\n        } catch (e) {\n          o(e);\n        }\n      }\n\n      function c(e) {\n        e.done ? r(e.value) : new i(function (t) {\n          t(e.value);\n        }).then(s, a);\n      }\n\n      c((n = n.apply(e, t || [])).next());\n    });\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return n;\n  });\n\n  class n {\n    static shouldLog() {\n      try {\n        if (true || void 0 === window.localStorage) return !1;\n        const e = window.localStorage.getItem(\"loglevel\");\n        return !(!e || \"trace\" !== e.toLowerCase());\n      } catch (e) {\n        return !1;\n      }\n    }\n\n    static setLevel(e) {\n      if (false && void 0 !== window.localStorage) try {\n        window.localStorage.setItem(\"loglevel\", e), n.proxyMethodsCreated = void 0, n.createProxyMethods();\n      } catch (e) {\n        return;\n      }\n    }\n\n    static createProxyMethods() {\n      if (void 0 !== n.proxyMethodsCreated) return;\n      n.proxyMethodsCreated = !0;\n      const e = {\n        log: \"debug\",\n        trace: \"trace\",\n        info: \"info\",\n        warn: \"warn\",\n        error: \"error\"\n      };\n\n      for (const t of _Object$keys(e)) {\n        const i = void 0 !== console[t],\n              r = e[t],\n              o = i && (n.shouldLog() || \"error\" === r);\n        n[r] = o ? console[t].bind(console) : function () {};\n      }\n    }\n\n  }\n\n  n.createProxyMethods();\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n = i(13);\n\n  class r extends n.a {\n    constructor(e = \"The asynchronous operation has timed out.\") {\n      super(e), this.message = e, _Object$setPrototypeOf(this, r.prototype);\n    }\n\n  }\n\n  i.d(t, \"a\", function () {\n    return o;\n  });\n\n  class o {\n    static contains(e, t) {\n      return !!e && -1 !== e.indexOf(t);\n    }\n\n    static getConsoleStyle(e) {\n      return \"code\" == e ? 'padding: 0 1px 1px 5px;border: 1px solid #ddd;border-radius: 3px;font-family: Monaco,\"DejaVu Sans Mono\",\"Courier New\",monospace;color: #444;' : \"bold\" == e ? \"font-weight: 600;color: rgb(51, 51, 51);\" : \"alert\" == e ? \"font-weight: 600;color: red;\" : \"event\" == e ? \"color: green;\" : \"postmessage\" == e ? \"color: orange;\" : \"serviceworkermessage\" == e ? \"color: purple;\" : \"\";\n    }\n\n    static trimUndefined(e) {\n      for (var t in e) e.hasOwnProperty(t) && void 0 === e[t] && delete e[t];\n\n      return e;\n    }\n\n    static capitalize(e) {\n      return e.charAt(0).toUpperCase() + e.slice(1);\n    }\n\n    static stringify(e) {\n      return _JSON$stringify(e, (e, t) => \"function\" == typeof t ? \"[Function]\" : t, 4);\n    }\n\n    static encodeHashAsUriComponent(e) {\n      let t = \"\";\n\n      const i = _Object$keys(e);\n\n      for (var n of i) {\n        const i = e[n];\n        t += `${encodeURIComponent(n)}=${encodeURIComponent(i)}`;\n      }\n\n      return t;\n    }\n\n    static timeoutPromise(e, t) {\n      const i = new _Promise((e, i) => {\n        setTimeout(() => {\n          i(new r());\n        }, t);\n      });\n      return _Promise.race([e, i]);\n    }\n\n    static getValueOrDefault(e, t) {\n      return void 0 !== e && null !== e ? e : t;\n    }\n\n    static padStart(e, t, i) {\n      let n = e;\n\n      for (; n.length < t;) n = i + n;\n\n      return n;\n    }\n\n    static parseVersionString(e) {\n      const t = e.toString().split(\".\"),\n            i = o.padStart(t[0], 2, \"0\");\n      let n;\n      return n = t[1] ? o.padStart(t[1], 2, \"0\") : \"00\", Number(`${i}.${n}`);\n    }\n\n    static isVersionAtLeast(e, t) {\n      return this.parseVersionString(e) >= t;\n    }\n\n    static enforceAppId(e) {\n      if (!e) throw new Error(\"App id cannot be empty\");\n    }\n\n    static enforcePlayerId(e) {\n      if (!e) throw new Error(\"Player id cannot be empty\");\n    }\n\n  }\n\n  t.b = o;\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n,\n      r = i(0);\n  !function (e) {\n    e.Development = \"Development\", e.Staging = \"Staging\", e.Production = \"Production\";\n  }(n || (n = {}));\n  var o = i(25),\n      s = i(4),\n      InvalidArgumentError = i(14),\n      a = i(15),\n      c = i(6),\n      d = i(10),\n      u = i(8);\n  i.d(t, \"a\", function () {\n    return g;\n  });\n  const l = 4e3,\n        p = 3001;\n\n  class g {\n    static getBuildEnv() {\n      return n.Production;\n    }\n\n    static getApiEnv() {\n      return n.Production;\n    }\n\n    static getIntegration(e) {\n      return r.a(this, void 0, void 0, function* () {\n        if (d.a.isSafari()) return a.a.Secure;\n        const t = window === window.top,\n              i = \"https:\" === window.location.protocol;\n\n        if (void 0 === e) {\n          if (\"undefined\" == typeof OneSignal || !OneSignal.context || !OneSignal.context.appConfig) throw new InvalidArgumentError.a(\"usingProxyOrigin\", InvalidArgumentError.b.Empty);\n          e = !!OneSignal.context.appConfig.subdomain;\n        }\n\n        if (t) return i ? e ? a.a.SecureProxy : a.a.Secure : !u.b.isLocalhostAllowedAsSecureOrigin() || \"localhost\" !== location.hostname && \"127.0.0.1\" !== location.hostname ? a.a.InsecureProxy : a.a.Secure;\n\n        if (i) {\n          return (yield g.isFrameContextInsecure()) ? a.a.InsecureProxy : e ? a.a.SecureProxy : a.a.Secure;\n        }\n\n        return a.a.InsecureProxy;\n      });\n    }\n\n    static isFrameContextInsecure() {\n      return r.a(this, void 0, void 0, function* () {\n        if (window === window.top || !(\"serviceWorker\" in navigator) || void 0 === navigator.serviceWorker.getRegistration) return !1;\n        return !(yield c.b.getRegistration());\n      });\n    }\n\n    static isInsecureOrigin() {\n      return \"http:\" === window.location.protocol;\n    }\n\n    static getWindowEnv() {\n      return true ? \"undefined\" != typeof self && \"undefined\" != typeof ServiceWorkerGlobalScope ? s.a.ServiceWorker : s.a.Unknown : window === window.top ? -1 !== location.href.indexOf(\"initOneSignal\") || \"/subscribe\" === location.pathname && \"\" === location.search && (location.hostname.endsWith(\".onesignal.com\") || location.hostname.endsWith(\".os.tc\") || -1 !== location.hostname.indexOf(\".localhost\") && g.getBuildEnv() === n.Development) ? s.a.OneSignalSubscriptionPopup : s.a.Host : \"/webPushIframe\" === location.pathname ? s.a.OneSignalProxyFrame : \"/webPushModal\" === location.pathname ? s.a.OneSignalSubscriptionModal : s.a.CustomIframe;\n    }\n\n    static getTestEnv() {\n      return o.a.None;\n    }\n\n    static getBuildEnvPrefix(e = g.getBuildEnv()) {\n      switch (e) {\n        case n.Development:\n          return \"Dev-\";\n\n        case n.Staging:\n          return \"Staging-\";\n\n        case n.Production:\n          return \"\";\n\n        default:\n          throw new InvalidArgumentError.a(\"buildEnv\", InvalidArgumentError.b.EnumOutOfRange);\n      }\n    }\n\n    static getOneSignalApiUrl(e = g.getApiEnv()) {\n      switch (e) {\n        case n.Development:\n          return new URL(`https://localhost:${p}/api/v1`);\n\n        case n.Staging:\n          return new URL(`https://${window.location.host}/api/v1`);\n\n        case n.Production:\n          return new URL(\"https://onesignal.com/api/v1\");\n\n        default:\n          throw new InvalidArgumentError.a(\"buildEnv\", InvalidArgumentError.b.EnumOutOfRange);\n      }\n    }\n\n    static getOneSignalResourceUrlPath(e = g.getBuildEnv()) {\n      let t;\n      const i = l;\n\n      switch (e) {\n        case n.Development:\n          t = `http://localhost:${i}`;\n          break;\n\n        case n.Staging:\n          t = `https://${window.location.host}`;\n          break;\n\n        case n.Production:\n          t = \"https://onesignal.com\";\n          break;\n\n        default:\n          throw new InvalidArgumentError.a(\"buildEnv\", InvalidArgumentError.b.EnumOutOfRange);\n      }\n\n      return new URL(`${t}/sdks`);\n    }\n\n    static getOneSignalCssFileName(e = g.getBuildEnv()) {\n      switch (e) {\n        case n.Development:\n          return \"Dev-OneSignalSDKStyles.css\";\n\n        case n.Staging:\n          return \"Staging-OneSignalSDKStyles.css\";\n\n        case n.Production:\n          return \"OneSignalSDKStyles.css\";\n\n        default:\n          throw new InvalidArgumentError.a(\"buildEnv\", InvalidArgumentError.b.EnumOutOfRange);\n      }\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n;\n  i.d(t, \"a\", function () {\n    return n;\n  }), function (e) {\n    e.ServiceWorker = \"ServiceWorker\", e.Host = \"Host\", e.OneSignalSubscriptionPopup = \"Popup\", e.OneSignalSubscriptionModal = \"Modal\", e.OneSignalProxyFrame = \"ProxyFrame\", e.CustomIframe = \"CustomFrame\", e.Unknown = \"Unknown\";\n  }(n || (n = {}));\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n = i(0);\n\n  class r {\n    constructor() {\n      this._events = {};\n    }\n\n    on(e, t) {\n      return this._events[e] = this._events[e] || [], this._events[e].push(t), this;\n    }\n\n    once(e, t) {\n      const i = this;\n\n      function n() {\n        i.off(e, n), t.apply(this, arguments);\n      }\n\n      return n.listener = t, this.on(e, n), this;\n    }\n\n    off(e, t) {\n      const i = this._events[e];\n\n      if (void 0 !== i) {\n        for (let e = 0; e < i.length; e += 1) if (i[e] === t || i[e].listener === t) {\n          i.splice(e, 1);\n          break;\n        }\n\n        0 === i.length && this.removeAllListeners(e);\n      }\n\n      return this;\n    }\n\n    removeAllListeners(e) {\n      try {\n        e ? delete this._events[e] : this._events = {};\n      } catch (e) {}\n\n      return this;\n    }\n\n    listeners(e) {\n      try {\n        return this._events[e];\n      } catch (e) {\n        return;\n      }\n    }\n\n    numberOfListeners(e) {\n      const t = this.listeners(e);\n      return t ? t.length : 0;\n    }\n\n    emit(...e) {\n      return n.a(this, void 0, void 0, function* () {\n        const t = e.shift();\n        let i = this._events[t];\n\n        if (void 0 !== i) {\n          const t = (i = i.slice(0)).length;\n\n          for (let n = 0; n < t; n += 1) yield i[n].apply(this, e);\n        }\n\n        return this;\n      });\n    }\n\n  }\n\n  var o = i(1),\n      s = i(2);\n\n  class a {\n    constructor(e) {\n      this.databaseName = e, this.emitter = new r();\n    }\n\n    open(e) {\n      return new _Promise(t => {\n        try {\n          var i = indexedDB.open(e, 1);\n        } catch (e) {}\n\n        if (!i) return null;\n        i.onerror = this.onDatabaseOpenError, i.onblocked = this.onDatabaseOpenBlocked, i.onupgradeneeded = this.onDatabaseUpgradeNeeded, i.onsuccess = () => {\n          this.database = i.result, this.database.onerror = this.onDatabaseError, this.database.onversionchange = this.onDatabaseVersionChange, t(this.database);\n        };\n      });\n    }\n\n    ensureDatabaseOpen() {\n      return n.a(this, void 0, void 0, function* () {\n        return this.openLock || (this.openLock = this.open(this.databaseName)), yield this.openLock, this.database;\n      });\n    }\n\n    onDatabaseOpenError(e) {\n      e.preventDefault();\n      const t = e.target.error;\n      s.b.contains(t.message, \"The operation failed for reasons unrelated to the database itself and not covered by any other error code\") || s.b.contains(t.message, \"A mutation operation was attempted on a database that did not allow mutations\") ? o.a.warn(\"OneSignal: IndexedDb web storage is not available on this origin since this profile's IndexedDb schema has been upgraded in a newer version of Firefox. See: https://bugzilla.mozilla.org/show_bug.cgi?id=1236557#c6\") : o.a.warn(\"OneSignal: Fatal error opening IndexedDb database:\", t);\n    }\n\n    onDatabaseError(e) {\n      o.a.debug(\"IndexedDb: Generic database error\", e.target.errorCode);\n    }\n\n    onDatabaseOpenBlocked() {\n      o.a.debug(\"IndexedDb: Blocked event\");\n    }\n\n    onDatabaseVersionChange(e) {\n      o.a.debug(\"IndexedDb: versionchange event\");\n    }\n\n    onDatabaseUpgradeNeeded(e) {\n      o.a.debug(\"IndexedDb: Database is being rebuilt or upgraded (upgradeneeded event).\");\n      const t = e.target.result;\n      t.createObjectStore(\"Ids\", {\n        keyPath: \"type\"\n      }), t.createObjectStore(\"NotificationOpened\", {\n        keyPath: \"url\"\n      }), t.createObjectStore(\"Options\", {\n        keyPath: \"key\"\n      }), \"undefined\" != typeof OneSignal && (OneSignal._isNewVisitor = !0);\n    }\n\n    get(e, t) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield this.ensureDatabaseOpen(), t ? yield new _Promise((i, n) => {\n          var r = this.database.transaction(e).objectStore(e).get(t);\n          r.onsuccess = () => {\n            i(r.result);\n          }, r.onerror = () => {\n            n(r.error);\n          };\n        }) : yield new _Promise((t, i) => {\n          let n = {},\n              r = this.database.transaction(e).objectStore(e).openCursor();\n          r.onsuccess = e => {\n            var i = e.target.result;\n\n            if (i) {\n              let e = i.key;\n              n[e] = i.value, i.continue();\n            } else t(n);\n          }, r.onerror = () => {\n            i(r.error);\n          };\n        });\n      });\n    }\n\n    put(e, t) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield this.ensureDatabaseOpen(), yield new _Promise((i, n) => {\n          try {\n            let r = this.database.transaction([e], \"readwrite\").objectStore(e).put(t);\n            r.onsuccess = () => {\n              i(t);\n            }, r.onerror = e => {\n              o.a.error(\"Database PUT Transaction Error:\", e), n(e);\n            };\n          } catch (e) {\n            o.a.error(\"Database PUT Error:\", e), n(e);\n          }\n        });\n      });\n    }\n\n    remove(e, t) {\n      if (t) var i = \"delete\";else i = \"clear\";\n      return new _Promise((n, r) => {\n        try {\n          let s = this.database.transaction([e], \"readwrite\").objectStore(e)[i](t);\n          s.onsuccess = () => {\n            n(t);\n          }, s.onerror = e => {\n            o.a.error(\"Database REMOVE Transaction Error:\", e), r(e);\n          };\n        } catch (e) {\n          o.a.error(\"Database REMOVE Error:\", e), r(e);\n        }\n      });\n    }\n\n  }\n\n  class c {}\n\n  class d {}\n\n  class u {\n    serialize() {\n      return {\n        deviceId: this.deviceId,\n        subscriptionToken: this.subscriptionToken,\n        optedOut: this.optedOut,\n        createdAt: this.createdAt,\n        expirationTime: this.expirationTime\n      };\n    }\n\n    static deserialize(e) {\n      const t = new u();\n      return t.deviceId = e.deviceId, t.subscriptionToken = e.subscriptionToken, t.optedOut = e.optedOut, t.createdAt = e.createdAt, t.expirationTime = e.expirationTime, t;\n    }\n\n  }\n\n  var l = i(25),\n      p = i(4);\n\n  class g {\n    constructor(e, t, i) {\n      this.emailId = e, this.emailAddress = t, this.emailAuthHash = i;\n    }\n\n    serialize() {\n      return {\n        emailAddress: this.emailAddress,\n        emailAuthHash: this.emailAuthHash,\n        emailId: this.emailId\n      };\n    }\n\n    static deserialize(e) {\n      return new g(e.emailId, e.emailAddress, e.emailAuthHash);\n    }\n\n  }\n\n  var f,\n      h,\n      b = i(3),\n      m = i(8);\n  i.d(t, \"a\", function () {\n    return v;\n  }), (h = f || (f = {}))[h.SET = 0] = \"SET\";\n\n  class v {\n    constructor(e) {\n      this.databaseName = e, this.emitter = new r(), this.database = new a(this.databaseName);\n    }\n\n    static resetInstance() {\n      v.databaseInstance = null;\n    }\n\n    static get singletonInstance() {\n      return v.databaseInstanceName || (v.databaseInstanceName = \"ONE_SIGNAL_SDK_DB\"), v.databaseInstance || (v.databaseInstance = new v(v.databaseInstanceName)), v.databaseInstance;\n    }\n\n    static applyDbResultFilter(e, t, i) {\n      switch (e) {\n        case \"Options\":\n          return i && t ? i.value : i && !t ? i : null;\n\n        case \"Ids\":\n          return i && t ? i.id : i && !t ? i : null;\n\n        case \"NotificationOpened\":\n          return i && t ? {\n            data: i.data,\n            timestamp: i.timestamp\n          } : i && !t ? i : null;\n\n        default:\n          return i || null;\n      }\n    }\n\n    get(e, t) {\n      return n.a(this, void 0, void 0, function* () {\n        if (b.a.getWindowEnv() !== p.a.ServiceWorker && m.b.isUsingSubscriptionWorkaround() && b.a.getTestEnv() === l.a.None) return yield new _Promise(i => n.a(this, void 0, void 0, function* () {\n          OneSignal.proxyFrameHost.message(OneSignal.POSTMAM_COMMANDS.REMOTE_DATABASE_GET, [{\n            table: e,\n            key: t\n          }], e => {\n            let t = e.data[0];\n            i(t);\n          });\n        }));\n        {\n          const i = yield this.database.get(e, t);\n          return v.applyDbResultFilter(e, t, i);\n        }\n      });\n    }\n\n    put(e, t) {\n      return n.a(this, void 0, void 0, function* () {\n        yield new _Promise((i, r) => n.a(this, void 0, void 0, function* () {\n          b.a.getWindowEnv() !== p.a.ServiceWorker && m.b.isUsingSubscriptionWorkaround() && b.a.getTestEnv() === l.a.None ? OneSignal.proxyFrameHost.message(OneSignal.POSTMAM_COMMANDS.REMOTE_DATABASE_PUT, [{\n            table: e,\n            keypath: t\n          }], n => {\n            n.data === OneSignal.POSTMAM_COMMANDS.REMOTE_OPERATION_COMPLETE ? i() : r(`(Database) Attempted remote IndexedDB put(${e}, ${t}), but did not get success response.`);\n          }) : (yield this.database.put(e, t), i());\n        })), this.emitter.emit(v.EVENTS.SET, t);\n      });\n    }\n\n    remove(e, t) {\n      return b.a.getWindowEnv() !== p.a.ServiceWorker && m.b.isUsingSubscriptionWorkaround() && b.a.getTestEnv() === l.a.None ? new _Promise((i, n) => {\n        OneSignal.proxyFrameHost.message(OneSignal.POSTMAM_COMMANDS.REMOTE_DATABASE_REMOVE, [{\n          table: e,\n          keypath: t\n        }], r => {\n          r.data === OneSignal.POSTMAM_COMMANDS.REMOTE_OPERATION_COMPLETE ? i() : n(`(Database) Attempted remote IndexedDB remove(${e}, ${t}), but did not get success response.`);\n        });\n      }) : this.database.remove(e, t);\n    }\n\n    getAppConfig() {\n      return n.a(this, void 0, void 0, function* () {\n        const e = {},\n              t = yield this.get(\"Ids\", \"appId\");\n        return e.appId = t, e.subdomain = yield this.get(\"Options\", \"subdomain\"), e.vapidPublicKey = yield this.get(\"Options\", \"vapidPublicKey\"), e.emailAuthRequired = yield this.get(\"Options\", \"emailAuthRequired\"), e;\n      });\n    }\n\n    getExternalUserId() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield this.get(\"Ids\", \"externalUserId\");\n      });\n    }\n\n    setExternalUserId(e) {\n      return n.a(this, void 0, void 0, function* () {\n        const t = s.b.getValueOrDefault(e, \"\");\n        \"\" === t ? yield this.remove(\"Ids\", \"externalUserId\") : yield this.put(\"Ids\", {\n          type: \"externalUserId\",\n          id: t\n        });\n      });\n    }\n\n    setAppConfig(e) {\n      return n.a(this, void 0, void 0, function* () {\n        e.appId && (yield this.put(\"Ids\", {\n          type: \"appId\",\n          id: e.appId\n        })), e.subdomain && (yield this.put(\"Options\", {\n          key: \"subdomain\",\n          value: e.subdomain\n        })), !0 === e.httpUseOneSignalCom ? yield this.put(\"Options\", {\n          key: \"httpUseOneSignalCom\",\n          value: !0\n        }) : !1 === e.httpUseOneSignalCom && (yield this.put(\"Options\", {\n          key: \"httpUseOneSignalCom\",\n          value: !1\n        })), !0 === e.emailAuthRequired ? yield this.put(\"Options\", {\n          key: \"emailAuthRequired\",\n          value: !0\n        }) : !1 === e.emailAuthRequired && (yield this.put(\"Options\", {\n          key: \"emailAuthRequired\",\n          value: !1\n        })), e.vapidPublicKey && (yield this.put(\"Options\", {\n          key: \"vapidPublicKey\",\n          value: e.vapidPublicKey\n        }));\n      });\n    }\n\n    getAppState() {\n      return n.a(this, void 0, void 0, function* () {\n        const e = new c();\n        return e.defaultNotificationUrl = yield this.get(\"Options\", \"defaultUrl\"), e.defaultNotificationTitle = yield this.get(\"Options\", \"defaultTitle\"), e.lastKnownPushEnabled = yield this.get(\"Options\", \"isPushEnabled\"), e.clickedNotifications = yield this.get(\"NotificationOpened\"), e;\n      });\n    }\n\n    setAppState(e) {\n      return n.a(this, void 0, void 0, function* () {\n        if (e.defaultNotificationUrl && (yield this.put(\"Options\", {\n          key: \"defaultUrl\",\n          value: e.defaultNotificationUrl\n        })), (e.defaultNotificationTitle || \"\" === e.defaultNotificationTitle) && (yield this.put(\"Options\", {\n          key: \"defaultTitle\",\n          value: e.defaultNotificationTitle\n        })), null != e.lastKnownPushEnabled && (yield this.put(\"Options\", {\n          key: \"isPushEnabled\",\n          value: e.lastKnownPushEnabled\n        })), e.clickedNotifications) {\n          const t = _Object$keys(e.clickedNotifications);\n\n          for (let i of t) {\n            const t = e.clickedNotifications[i];\n            t ? yield this.put(\"NotificationOpened\", {\n              url: i,\n              data: t.data,\n              timestamp: t.timestamp\n            }) : null === t && (yield this.remove(\"NotificationOpened\", i));\n          }\n        }\n      });\n    }\n\n    getServiceWorkerState() {\n      return n.a(this, void 0, void 0, function* () {\n        const e = new d();\n        return e.workerVersion = yield this.get(\"Ids\", \"WORKER1_ONE_SIGNAL_SW_VERSION\"), e.updaterWorkerVersion = yield this.get(\"Ids\", \"WORKER2_ONE_SIGNAL_SW_VERSION\"), e;\n      });\n    }\n\n    setServiceWorkerState(e) {\n      return n.a(this, void 0, void 0, function* () {\n        e.workerVersion && (yield this.put(\"Ids\", {\n          type: \"WORKER1_ONE_SIGNAL_SW_VERSION\",\n          id: e.workerVersion\n        })), e.updaterWorkerVersion && (yield this.put(\"Ids\", {\n          type: \"WORKER2_ONE_SIGNAL_SW_VERSION\",\n          id: e.updaterWorkerVersion\n        }));\n      });\n    }\n\n    getSubscription() {\n      return n.a(this, void 0, void 0, function* () {\n        const e = new u();\n        e.deviceId = yield this.get(\"Ids\", \"userId\"), e.subscriptionToken = yield this.get(\"Ids\", \"registrationId\");\n        const t = yield this.get(\"Options\", \"optedOut\"),\n              i = yield this.get(\"Options\", \"subscription\"),\n              n = yield this.get(\"Options\", \"subscriptionCreatedAt\"),\n              r = yield this.get(\"Options\", \"subscriptionExpirationTime\");\n        return e.optedOut = null != t ? t : null != i && !i, e.createdAt = n, e.expirationTime = r, e;\n      });\n    }\n\n    setSubscription(e) {\n      return n.a(this, void 0, void 0, function* () {\n        e.deviceId && (yield this.put(\"Ids\", {\n          type: \"userId\",\n          id: e.deviceId\n        })), void 0 !== e.subscriptionToken && (yield this.put(\"Ids\", {\n          type: \"registrationId\",\n          id: e.subscriptionToken\n        })), null != e.optedOut && (yield this.put(\"Options\", {\n          key: \"optedOut\",\n          value: e.optedOut\n        })), null != e.createdAt && (yield this.put(\"Options\", {\n          key: \"subscriptionCreatedAt\",\n          value: e.createdAt\n        })), null != e.expirationTime ? yield this.put(\"Options\", {\n          key: \"subscriptionExpirationTime\",\n          value: e.expirationTime\n        }) : yield this.remove(\"Options\", \"subscriptionExpirationTime\");\n      });\n    }\n\n    getEmailProfile() {\n      return n.a(this, void 0, void 0, function* () {\n        const e = yield this.get(\"Ids\", \"emailProfile\");\n        return e ? g.deserialize(e) : new g();\n      });\n    }\n\n    setEmailProfile(e) {\n      return n.a(this, void 0, void 0, function* () {\n        e && (yield this.put(\"Ids\", {\n          type: \"emailProfile\",\n          id: e.serialize()\n        }));\n      });\n    }\n\n    setProvideUserConsent(e) {\n      return n.a(this, void 0, void 0, function* () {\n        yield this.put(\"Options\", {\n          key: \"userConsent\",\n          value: e\n        });\n      });\n    }\n\n    getProvideUserConsent() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield this.get(\"Options\", \"userConsent\");\n      });\n    }\n\n    static rebuild() {\n      return n.a(this, void 0, void 0, function* () {\n        return _Promise.all([v.singletonInstance.remove(\"Ids\"), v.singletonInstance.remove(\"NotificationOpened\"), v.singletonInstance.remove(\"Options\")]);\n      });\n    }\n\n    static on(...e) {\n      return n.a(this, void 0, void 0, function* () {\n        return v.singletonInstance.emitter.on.apply(v.singletonInstance.emitter, e);\n      });\n    }\n\n    static setEmailProfile(e) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.setEmailProfile(e);\n      });\n    }\n\n    static getEmailProfile() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.getEmailProfile();\n      });\n    }\n\n    static setSubscription(e) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.setSubscription(e);\n      });\n    }\n\n    static getSubscription() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.getSubscription();\n      });\n    }\n\n    static setProvideUserConsent(e) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.setProvideUserConsent(e);\n      });\n    }\n\n    static getProvideUserConsent() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.getProvideUserConsent();\n      });\n    }\n\n    static setServiceWorkerState(e) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.setServiceWorkerState(e);\n      });\n    }\n\n    static getServiceWorkerState() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.getServiceWorkerState();\n      });\n    }\n\n    static setAppState(e) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.setAppState(e);\n      });\n    }\n\n    static getAppState() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.getAppState();\n      });\n    }\n\n    static setAppConfig(e) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.setAppConfig(e);\n      });\n    }\n\n    static getAppConfig() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.getAppConfig();\n      });\n    }\n\n    static getExternalUserId() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.getExternalUserId();\n      });\n    }\n\n    static setExternalUserId(e) {\n      return n.a(this, void 0, void 0, function* () {\n        yield v.singletonInstance.setExternalUserId(e);\n      });\n    }\n\n    static remove(e, t) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.remove(e, t);\n      });\n    }\n\n    static put(e, t) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.put(e, t);\n      });\n    }\n\n    static get(e, t) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.get(e, t);\n      });\n    }\n\n  }\n\n  v.EVENTS = f;\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"b\", function () {\n    return c;\n  }), i.d(t, \"a\", function () {\n    return n;\n  });\n  var n,\n      r = i(0),\n      o = i(1),\n      s = i(16),\n      a = i(8);\n\n  class c {\n    static getRegistration() {\n      return r.a(this, void 0, void 0, function* () {\n        try {\n          return yield navigator.serviceWorker.getRegistration(location.href);\n        } catch (e) {\n          return o.a.warn(\"[Service Worker Status] Error Checking service worker registration\", location.href, e), null;\n        }\n      });\n    }\n\n    static getServiceWorkerHref(e, t) {\n      let i = \"\";\n      if (e === n.WorkerA) i = t.workerBPath.getFullPath();else if (e === n.WorkerB || e === n.ThirdParty || e === n.None) i = t.workerAPath.getFullPath();else if (e === n.Bypassed) throw new s.a(s.b.UnsupportedEnvironment);\n      return new URL(i, a.a.getBaseUrl()).href;\n    }\n\n  }\n\n  !function (e) {\n    e.WorkerA = \"Worker A (Main)\", e.WorkerB = \"Worker B (Updater)\", e.ThirdParty = \"3rd Party\", e.Installing = \"Installing\", e.None = \"None\", e.Bypassed = \"Bypassed\", e.Indeterminate = \"Indeterminate\";\n  }(n || (n = {}));\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"b\", function () {\n    return n;\n  }), i.d(t, \"a\", function () {\n    return p;\n  });\n  var n,\n      r = i(0),\n      o = i(14),\n      s = i(3),\n      a = i(6),\n      c = i(4),\n      d = i(10),\n      u = i(1);\n  !function (e) {\n    e.WorkerVersion = \"GetWorkerVersion\", e.Subscribe = \"Subscribe\", e.SubscribeNew = \"SubscribeNew\", e.AmpSubscriptionState = \"amp-web-push-subscription-state\", e.AmpSubscribe = \"amp-web-push-subscribe\", e.AmpUnsubscribe = \"amp-web-push-unsubscribe\", e.NotificationDisplayed = \"notification.displayed\", e.NotificationClicked = \"notification.clicked\", e.NotificationDismissed = \"notification.dismissed\", e.RedirectPage = \"command.redirect\";\n  }(n || (n = {}));\n\n  class l {\n    constructor() {\n      this.replies = {};\n    }\n\n    addListener(e, t, i) {\n      const n = {\n        callback: t,\n        onceListenerOnly: i\n      },\n            r = this.replies[e.toString()];\n      r ? r.push(n) : this.replies[e.toString()] = [n];\n    }\n\n    findListenersForMessage(e) {\n      return this.replies[e.toString()] || [];\n    }\n\n    deleteListenerRecords(e) {\n      this.replies[e.toString()] = null;\n    }\n\n    deleteAllListenerRecords() {\n      this.replies = {};\n    }\n\n    deleteListenerRecord(e, t) {\n      const i = this.replies[e.toString()];\n      if (null != i) for (let e = i.length - 1; e >= 0; e--) {\n        i[e] === t && i.splice(e, 1);\n      }\n    }\n\n  }\n\n  class p {\n    constructor(e, t = new l()) {\n      this.context = e, this.replies = t;\n    }\n\n    broadcast(e, t) {\n      return r.a(this, void 0, void 0, function* () {\n        if (s.a.getWindowEnv() !== c.a.ServiceWorker) return;\n        const i = yield self.clients.matchAll({\n          type: \"window\",\n          includeUncontrolled: !0\n        });\n\n        for (const n of i) u.a.debug(`[Worker Messenger] [SW -> Page] Broadcasting '${e.toString()}' to window client ${n.url}.`), n.postMessage({\n          command: e,\n          payload: t\n        });\n      });\n    }\n\n    unicast(e, t, i) {\n      return r.a(this, void 0, void 0, function* () {\n        if (s.a.getWindowEnv() === c.a.ServiceWorker) {\n          if (!i) throw new o.a(\"windowClient\", o.b.Empty);\n          u.a.debug(`[Worker Messenger] [SW -> Page] Unicasting '${e.toString()}' to window client ${i.url}.`), i.postMessage({\n            command: e,\n            payload: t\n          });\n        } else (yield this.isWorkerControllingPage()) || u.a.debug(\"[Worker Messenger] The page is not controlled by the service worker yet. Waiting...\", self.registration), yield this.waitUntilWorkerControlsPage(), u.a.debug(`[Worker Messenger] [Page -> SW] Unicasting '${e.toString()}' to service worker.`), navigator.serviceWorker.controller.postMessage({\n          command: e,\n          payload: t\n        });\n      });\n    }\n\n    listen(e) {\n      return r.a(this, void 0, void 0, function* () {\n        if (!d.a.supportsServiceWorkers()) return;\n        s.a.getWindowEnv() === c.a.ServiceWorker ? (self.addEventListener(\"message\", this.onWorkerMessageReceivedFromPage.bind(this)), u.a.debug(\"[Worker Messenger] Service worker is now listening for messages.\")) : yield this.listenForPage(e);\n      });\n    }\n\n    listenForPage(e) {\n      return r.a(this, void 0, void 0, function* () {\n        e || ((yield this.isWorkerControllingPage()) || u.a.debug(`(${location.origin}) [Worker Messenger] The page is not controlled by the service worker yet. Waiting...`, self.registration), yield this.waitUntilWorkerControlsPage(), u.a.debug(`(${location.origin}) [Worker Messenger] The page is now controlled by the service worker.`)), navigator.serviceWorker.addEventListener(\"message\", this.onPageMessageReceivedFromServiceWorker.bind(this)), u.a.debug(`(${location.origin}) [Worker Messenger] Page is now listening for messages.`);\n      });\n    }\n\n    onWorkerMessageReceivedFromPage(e) {\n      const t = e.data;\n      if (!t || !t.command) return;\n      const i = this.replies.findListenersForMessage(t.command),\n            n = [],\n            r = [];\n      u.a.debug(\"[Worker Messenger] Service worker received message:\", e.data);\n\n      for (let e of i) e.onceListenerOnly && n.push(e), r.push(e);\n\n      for (let e = n.length - 1; e >= 0; e--) {\n        const i = n[e];\n        this.replies.deleteListenerRecord(t.command, i);\n      }\n\n      for (let e of r) e.callback.apply(null, [t.payload]);\n    }\n\n    onPageMessageReceivedFromServiceWorker(e) {\n      const t = e.data;\n      if (!t || !t.command) return;\n      const i = this.replies.findListenersForMessage(t.command),\n            n = [],\n            r = [];\n      u.a.debug(\"[Worker Messenger] Page received message:\", e.data);\n\n      for (let e of i) e.onceListenerOnly && n.push(e), r.push(e);\n\n      for (let e = n.length - 1; e >= 0; e--) {\n        const i = n[e];\n        this.replies.deleteListenerRecord(t.command, i);\n      }\n\n      for (let e of r) e.callback.apply(null, [t.payload]);\n    }\n\n    on(e, t) {\n      this.replies.addListener(e, t, !1);\n    }\n\n    once(e, t) {\n      this.replies.addListener(e, t, !0);\n    }\n\n    off(e) {\n      e ? this.replies.deleteListenerRecords(e) : this.replies.deleteAllListenerRecords();\n    }\n\n    isWorkerControllingPage() {\n      return r.a(this, void 0, void 0, function* () {\n        if (s.a.getWindowEnv() === c.a.ServiceWorker) return !!self.registration.active;\n        {\n          const e = yield this.context.serviceWorkerManager.getActiveState();\n          return e === a.a.WorkerA || e === a.a.WorkerB;\n        }\n      });\n    }\n\n    waitUntilWorkerControlsPage() {\n      return r.a(this, void 0, void 0, function* () {\n        return new _Promise(e => r.a(this, void 0, void 0, function* () {\n          if (yield this.isWorkerControllingPage()) e();else {\n            s.a.getWindowEnv() === c.a.ServiceWorker ? self.addEventListener(\"activate\", t => r.a(this, void 0, void 0, function* () {\n              (yield this.isWorkerControllingPage()) && e();\n            })) : navigator.serviceWorker.addEventListener(\"controllerchange\", t => r.a(this, void 0, void 0, function* () {\n              (yield this.isWorkerControllingPage()) && e();\n            }));\n          }\n        }));\n      });\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  (function (e) {\n    i.d(t, \"a\", function () {\n      return d;\n    });\n    var n = i(11),\n        r = i.n(n),\n        o = i(3),\n        s = i(4),\n        a = i(1),\n        c = i(2);\n\n    class d {\n      static getBaseUrl() {\n        return location.origin;\n      }\n\n      static isLocalhostAllowedAsSecureOrigin() {\n        return OneSignal.config && OneSignal.config.userConfig && !0 === OneSignal.config.userConfig.allowLocalhostAsSecureOrigin;\n      }\n\n      static isUsingSubscriptionWorkaround() {\n        const e = o.a.getWindowEnv();\n        if (!OneSignal.config) throw new Error(`(${e.toString()}) isUsingSubscriptionWorkaround() cannot be called until OneSignal.config exists.`);\n        if (r.a.safari) return !1;\n        const t = this.isLocalhostAllowedAsSecureOrigin();\n        return d.internalIsUsingSubscriptionWorkaround(OneSignal.config.subdomain, t);\n      }\n\n      static internalIsUsingSubscriptionWorkaround(e, t) {\n        if (r.a.safari) return !1;\n        if (!0 === t && (\"localhost\" === location.hostname || \"127.0.0.1\" === location.hostname)) return !1;\n        const i = o.a.getWindowEnv();\n        return !(i !== s.a.Host && i !== s.a.CustomIframe || !e && \"http:\" !== location.protocol);\n      }\n\n      static redetectBrowserUserAgent() {\n        return \"\" === r.a.name && \"\" === r.a.version ? r.a._detect(navigator.userAgent) : r.a;\n      }\n\n      static isValidUuid(e) {\n        return /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/.test(e);\n      }\n\n      static getRandomUuid() {\n        let t = \"\";\n        const i = true ? e.crypto : window.crypto || window.msCrypto;\n        return t = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, i ? function (e) {\n          var t = i.getRandomValues(new Uint8Array(1))[0] % 16 | 0;\n          return (\"x\" == e ? t : 3 & t | 8).toString(16);\n        } : function (e) {\n          var t = 16 * Math.random() | 0;\n          return (\"x\" == e ? t : 3 & t | 8).toString(16);\n        });\n      }\n\n      static logMethodCall(e, ...t) {\n        return a.a.debug(`Called %c${e}(${t.map(c.a.stringify).join(\", \")})`, c.a.getConsoleStyle(\"code\"), \".\");\n      }\n\n    }\n\n    t.b = d;\n  }).call(this, i(32));\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n;\n  i.d(t, \"a\", function () {\n    return n;\n  }), function (e) {\n    e[e.Default = 0] = \"Default\", e[e.Subscribed = 1] = \"Subscribed\", e[e.MutedByApi = -2] = \"MutedByApi\", e[e.NotSubscribed = -10] = \"NotSubscribed\", e[e.TemporaryWebRecord = -20] = \"TemporaryWebRecord\", e[e.PermissionRevoked = -21] = \"PermissionRevoked\", e[e.PushSubscriptionRevoked = -22] = \"PushSubscriptionRevoked\", e[e.ServiceWorkerStatus403 = -23] = \"ServiceWorkerStatus403\", e[e.ServiceWorkerStatus404 = -24] = \"ServiceWorkerStatus404\";\n  }(n || (n = {}));\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return a;\n  });\n  var n = i(3),\n      r = i(4),\n      o = i(11),\n      s = i.n(o);\n\n  class a {\n    static isBrowser() {\n      return false;\n    }\n\n    static isSafari() {\n      return a.isBrowser() && s.a.safari;\n    }\n\n    static version() {\n      return Number(150801);\n    }\n\n    static get TRADITIONAL_CHINESE_LANGUAGE_TAG() {\n      return [\"tw\", \"hant\"];\n    }\n\n    static get SIMPLIFIED_CHINESE_LANGUAGE_TAG() {\n      return [\"cn\", \"hans\"];\n    }\n\n    static getLanguage() {\n      let e = navigator.language;\n\n      if (e) {\n        let t = (e = e.toLowerCase()).split(\"-\");\n\n        if (\"zh\" == t[0]) {\n          for (let e of a.TRADITIONAL_CHINESE_LANGUAGE_TAG) if (-1 !== t.indexOf(e)) return \"zh-Hant\";\n\n          for (let e of a.SIMPLIFIED_CHINESE_LANGUAGE_TAG) if (-1 !== t.indexOf(e)) return \"zh-Hans\";\n\n          return \"zh-Hant\";\n        }\n\n        return t[0].substring(0, 2);\n      }\n\n      return \"en\";\n    }\n\n    static supportsServiceWorkers() {\n      switch (n.a.getWindowEnv()) {\n        case r.a.ServiceWorker:\n          return !0;\n\n        default:\n          return \"undefined\" != typeof navigator && \"serviceWorker\" in navigator;\n      }\n    }\n\n    static getSdkStylesVersionHash() {\n      return \"undefined\" == typeof __SRC_STYLESHEETS_MD5_HASH__ ? \"1\" : __SRC_STYLESHEETS_MD5_HASH__;\n    }\n\n  }\n}, function (e, t, i) {\n  var n;\n  n = function () {\n    var e = !0;\n\n    function t(t) {\n      function i(e) {\n        var i = t.match(e);\n        return i && i.length > 1 && i[1] || \"\";\n      }\n\n      var n,\n          r,\n          o,\n          s = i(/(ipod|iphone|ipad)/i).toLowerCase(),\n          a = !/like android/i.test(t) && /android/i.test(t),\n          c = /nexus\\s*[0-6]\\s*/i.test(t),\n          d = !c && /nexus\\s*[0-9]+/i.test(t),\n          u = /CrOS/.test(t),\n          l = /silk/i.test(t),\n          p = /sailfish/i.test(t),\n          g = /tizen/i.test(t),\n          f = /(web|hpw)os/i.test(t),\n          h = /windows phone/i.test(t),\n          b = (/SamsungBrowser/i.test(t), !h && /windows/i.test(t)),\n          m = !s && !l && /macintosh/i.test(t),\n          v = !a && !p && !g && !f && /linux/i.test(t),\n          S = i(/edge\\/(\\d+(\\.\\d+)?)/i),\n          y = i(/version\\/(\\d+(\\.\\d+)?)/i),\n          w = /tablet/i.test(t) && !/tablet pc/i.test(t),\n          P = !w && /[^-]mobi/i.test(t),\n          O = /xbox/i.test(t);\n      /opera/i.test(t) ? n = {\n        name: \"Opera\",\n        opera: e,\n        version: y || i(/(?:opera|opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      } : /opr\\/|opios/i.test(t) ? n = {\n        name: \"Opera\",\n        opera: e,\n        version: i(/(?:opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i) || y\n      } : /SamsungBrowser/i.test(t) ? n = {\n        name: \"Samsung Internet for Android\",\n        samsungBrowser: e,\n        version: y || i(/(?:SamsungBrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      } : /coast/i.test(t) ? n = {\n        name: \"Opera Coast\",\n        coast: e,\n        version: y || i(/(?:coast)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      } : /yabrowser/i.test(t) ? n = {\n        name: \"Yandex Browser\",\n        yandexbrowser: e,\n        version: y || i(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      } : /ucbrowser/i.test(t) ? n = {\n        name: \"UC Browser\",\n        ucbrowser: e,\n        version: i(/(?:ucbrowser)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      } : /mxios/i.test(t) ? n = {\n        name: \"Maxthon\",\n        maxthon: e,\n        version: i(/(?:mxios)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      } : /epiphany/i.test(t) ? n = {\n        name: \"Epiphany\",\n        epiphany: e,\n        version: i(/(?:epiphany)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      } : /puffin/i.test(t) ? n = {\n        name: \"Puffin\",\n        puffin: e,\n        version: i(/(?:puffin)[\\s\\/](\\d+(?:\\.\\d+)?)/i)\n      } : /sleipnir/i.test(t) ? n = {\n        name: \"Sleipnir\",\n        sleipnir: e,\n        version: i(/(?:sleipnir)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      } : /k-meleon/i.test(t) ? n = {\n        name: \"K-Meleon\",\n        kMeleon: e,\n        version: i(/(?:k-meleon)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      } : h ? (n = {\n        name: \"Windows Phone\",\n        windowsphone: e\n      }, S ? (n.msedge = e, n.version = S) : (n.msie = e, n.version = i(/iemobile\\/(\\d+(\\.\\d+)?)/i))) : /msie|trident/i.test(t) ? n = {\n        name: \"Internet Explorer\",\n        msie: e,\n        version: i(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i)\n      } : u ? n = {\n        name: \"Chrome\",\n        chromeos: e,\n        chromeBook: e,\n        chrome: e,\n        version: i(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n      } : /chrome.+? edge/i.test(t) ? n = {\n        name: \"Microsoft Edge\",\n        msedge: e,\n        version: S\n      } : /vivaldi/i.test(t) ? n = {\n        name: \"Vivaldi\",\n        vivaldi: e,\n        version: i(/vivaldi\\/(\\d+(\\.\\d+)?)/i) || y\n      } : p ? n = {\n        name: \"Sailfish\",\n        sailfish: e,\n        version: i(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)\n      } : /seamonkey\\//i.test(t) ? n = {\n        name: \"SeaMonkey\",\n        seamonkey: e,\n        version: i(/seamonkey\\/(\\d+(\\.\\d+)?)/i)\n      } : /firefox|iceweasel|fxios/i.test(t) ? (n = {\n        name: \"Firefox\",\n        firefox: e,\n        version: i(/(?:firefox|iceweasel|fxios)[ \\/](\\d+(\\.\\d+)?)/i)\n      }, /\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(t) && (n.firefoxos = e)) : l ? n = {\n        name: \"Amazon Silk\",\n        silk: e,\n        version: i(/silk\\/(\\d+(\\.\\d+)?)/i)\n      } : /phantom/i.test(t) ? n = {\n        name: \"PhantomJS\",\n        phantom: e,\n        version: i(/phantomjs\\/(\\d+(\\.\\d+)?)/i)\n      } : /slimerjs/i.test(t) ? n = {\n        name: \"SlimerJS\",\n        slimer: e,\n        version: i(/slimerjs\\/(\\d+(\\.\\d+)?)/i)\n      } : /blackberry|\\bbb\\d+/i.test(t) || /rim\\stablet/i.test(t) ? n = {\n        name: \"BlackBerry\",\n        blackberry: e,\n        version: y || i(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)\n      } : f ? (n = {\n        name: \"WebOS\",\n        webos: e,\n        version: y || i(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)\n      }, /touchpad\\//i.test(t) && (n.touchpad = e)) : /bada/i.test(t) ? n = {\n        name: \"Bada\",\n        bada: e,\n        version: i(/dolfin\\/(\\d+(\\.\\d+)?)/i)\n      } : g ? n = {\n        name: \"Tizen\",\n        tizen: e,\n        version: i(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i) || y\n      } : /qupzilla/i.test(t) ? n = {\n        name: \"QupZilla\",\n        qupzilla: e,\n        version: i(/(?:qupzilla)[\\s\\/](\\d+(?:\\.\\d+)+)/i) || y\n      } : /chromium/i.test(t) ? n = {\n        name: \"Chromium\",\n        chromium: e,\n        version: i(/(?:chromium)[\\s\\/](\\d+(?:\\.\\d+)?)/i) || y\n      } : /chrome|crios|crmo/i.test(t) ? n = {\n        name: \"Chrome\",\n        chrome: e,\n        version: i(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n      } : a ? n = {\n        name: \"Android\",\n        version: y\n      } : /safari|applewebkit/i.test(t) ? (n = {\n        name: \"Safari\",\n        safari: e\n      }, y && (n.version = y)) : s ? (n = {\n        name: \"iphone\" == s ? \"iPhone\" : \"ipad\" == s ? \"iPad\" : \"iPod\"\n      }, y && (n.version = y)) : n = /googlebot/i.test(t) ? {\n        name: \"Googlebot\",\n        googlebot: e,\n        version: i(/googlebot\\/(\\d+(\\.\\d+))/i) || y\n      } : {\n        name: i(/^(.*)\\/(.*) /),\n        version: (r = /^(.*)\\/(.*) /, o = t.match(r), o && o.length > 1 && o[2] || \"\")\n      }, !n.msedge && /(apple)?webkit/i.test(t) ? (/(apple)?webkit\\/537\\.36/i.test(t) ? (n.name = n.name || \"Blink\", n.blink = e) : (n.name = n.name || \"Webkit\", n.webkit = e), !n.version && y && (n.version = y)) : !n.opera && /gecko\\//i.test(t) && (n.name = n.name || \"Gecko\", n.gecko = e, n.version = n.version || i(/gecko\\/(\\d+(\\.\\d+)?)/i)), n.windowsphone || n.msedge || !a && !n.silk ? n.windowsphone || n.msedge || !s ? m ? n.mac = e : O ? n.xbox = e : b ? n.windows = e : v && (n.linux = e) : (n[s] = e, n.ios = e) : n.android = e;\n      var k = \"\";\n      n.windows ? k = function (e) {\n        switch (e) {\n          case \"NT\":\n            return \"NT\";\n\n          case \"XP\":\n            return \"XP\";\n\n          case \"NT 5.0\":\n            return \"2000\";\n\n          case \"NT 5.1\":\n            return \"XP\";\n\n          case \"NT 5.2\":\n            return \"2003\";\n\n          case \"NT 6.0\":\n            return \"Vista\";\n\n          case \"NT 6.1\":\n            return \"7\";\n\n          case \"NT 6.2\":\n            return \"8\";\n\n          case \"NT 6.3\":\n            return \"8.1\";\n\n          case \"NT 10.0\":\n            return \"10\";\n\n          default:\n            return;\n        }\n      }(i(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i)) : n.windowsphone ? k = i(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i) : n.mac ? k = (k = i(/Mac OS X (\\d+([_\\.\\s]\\d+)*)/i)).replace(/[_\\s]/g, \".\") : s ? k = (k = i(/os (\\d+([_\\s]\\d+)*) like mac os x/i)).replace(/[_\\s]/g, \".\") : a ? k = i(/android[ \\/-](\\d+(\\.\\d+)*)/i) : n.webos ? k = i(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i) : n.blackberry ? k = i(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i) : n.bada ? k = i(/bada\\/(\\d+(\\.\\d+)*)/i) : n.tizen && (k = i(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i)), k && (n.osversion = k);\n      var I = !n.windows && k.split(\".\")[0];\n      return w || d || \"ipad\" == s || a && (3 == I || I >= 4 && !P) || n.silk ? n.tablet = e : (P || \"iphone\" == s || \"ipod\" == s || a || c || n.blackberry || n.webos || n.bada) && (n.mobile = e), n.msedge || n.msie && n.version >= 10 || n.yandexbrowser && n.version >= 15 || n.vivaldi && n.version >= 1 || n.chrome && n.version >= 20 || n.samsungBrowser && n.version >= 4 || n.firefox && n.version >= 20 || n.safari && n.version >= 6 || n.opera && n.version >= 10 || n.ios && n.osversion && n.osversion.split(\".\")[0] >= 6 || n.blackberry && n.version >= 10.1 || n.chromium && n.version >= 20 ? n.a = e : n.msie && n.version < 10 || n.chrome && n.version < 20 || n.firefox && n.version < 20 || n.safari && n.version < 6 || n.opera && n.version < 10 || n.ios && n.osversion && n.osversion.split(\".\")[0] < 6 || n.chromium && n.version < 20 ? n.c = e : n.x = e, n;\n    }\n\n    var i = t(\"undefined\" != typeof navigator && navigator.userAgent || \"\");\n\n    function n(e) {\n      return e.split(\".\").length;\n    }\n\n    function r(e, t) {\n      var i,\n          n = [];\n      if (Array.prototype.map) return Array.prototype.map.call(e, t);\n\n      for (i = 0; i < e.length; i++) n.push(t(e[i]));\n\n      return n;\n    }\n\n    function o(e) {\n      for (var t = Math.max(n(e[0]), n(e[1])), i = r(e, function (e) {\n        var i = t - n(e);\n        return r((e += new Array(i + 1).join(\".0\")).split(\".\"), function (e) {\n          return new Array(20 - e.length).join(\"0\") + e;\n        }).reverse();\n      }); --t >= 0;) {\n        if (i[0][t] > i[1][t]) return 1;\n        if (i[0][t] !== i[1][t]) return -1;\n        if (0 === t) return 0;\n      }\n    }\n\n    function s(e, n, r) {\n      var s = i;\n      \"string\" == typeof n && (r = n, n = void 0), void 0 === n && (n = !1), r && (s = t(r));\n      var a = \"\" + s.version;\n\n      for (var c in e) if (e.hasOwnProperty(c) && s[c]) {\n        if (\"string\" != typeof e[c]) throw new Error(\"Browser version in the minVersion map should be a string: \" + c + \": \" + String(e));\n        return o([a, e[c]]) < 0;\n      }\n\n      return n;\n    }\n\n    return i.test = function (e) {\n      for (var t = 0; t < e.length; ++t) {\n        var n = e[t];\n        if (\"string\" == typeof n && n in i) return !0;\n      }\n\n      return !1;\n    }, i.isUnsupportedBrowser = s, i.compareVersions = o, i.check = function (e, t, i) {\n      return !s(e, t, i);\n    }, i._detect = t, i;\n  }, void 0 !== e && e.exports ? e.exports = n() : i(34)(\"bowser\", n);\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n;\n  i.d(t, \"a\", function () {\n    return n;\n  }), function (e) {\n    e.Default = \"default\", e.Granted = \"granted\", e.Denied = \"denied\";\n  }(n || (n = {}));\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return n;\n  });\n\n  class n extends Error {\n    constructor(e = \"\") {\n      super(e), _Object$defineProperty(this, \"message\", {\n        configurable: !0,\n        enumerable: !1,\n        value: e,\n        writable: !0\n      }), _Object$defineProperty(this, \"name\", {\n        configurable: !0,\n        enumerable: !1,\n        value: this.constructor.name,\n        writable: !0\n      }), Error.hasOwnProperty(\"captureStackTrace\") ? Error.captureStackTrace(this, this.constructor) : (_Object$defineProperty(this, \"stack\", {\n        configurable: !0,\n        enumerable: !1,\n        value: new Error(e).stack,\n        writable: !0\n      }), _Object$setPrototypeOf(this, n.prototype));\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"b\", function () {\n    return n;\n  }), i.d(t, \"a\", function () {\n    return InvalidArgumentError;\n  });\n  var n,\n      r = i(13);\n  !function (e) {\n    e[e.Empty = 0] = \"Empty\", e[e.Malformed = 1] = \"Malformed\", e[e.EnumOutOfRange = 2] = \"EnumOutOfRange\";\n  }(n || (n = {}));\n\n  class InvalidArgumentError extends r.a {\n    constructor(e, t) {\n      switch (t) {\n        case n.Empty:\n          super(`Supply a non-empty value to '${e}'.`);\n          break;\n\n        case n.Malformed:\n          super(`The value for '${e}' was malformed.`);\n          break;\n\n        case n.EnumOutOfRange:\n          super(`The value for '${e}' was out of range of the expected input enum.`);\n      }\n\n      this.argument = e, this.reason = n[t], _Object$setPrototypeOf(this, InvalidArgumentError.prototype);\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n;\n  i.d(t, \"a\", function () {\n    return n;\n  }), function (e) {\n    e.Secure = \"Secure\", e.SecureProxy = \"Secure Proxy\", e.InsecureProxy = \"Insecure Proxy\";\n  }(n || (n = {}));\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n,\n      r,\n      o,\n      s = i(13);\n  !function (e) {\n    e[e.HttpsPermissionRequest = \"HTTPS permission request\"] = \"HttpsPermissionRequest\", e[e.FullscreenHttpPermissionMessage = \"fullscreen HTTP permission message\"] = \"FullscreenHttpPermissionMessage\", e[e.FullscreenHttpsPermissionMessage = \"fullscreen HTTPS permission message\"] = \"FullscreenHttpsPermissionMessage\", e[e.SlidedownPermissionMessage = \"slidedown permission message\"] = \"SlidedownPermissionMessage\", e[e.SubscriptionBell = \"subscription bell\"] = \"SubscriptionBell\";\n  }(n || (n = {})), i.d(t, \"b\", function () {\n    return r;\n  }), i.d(t, \"a\", function () {\n    return a;\n  }), (o = r || (r = {}))[o.MissingAppId = 0] = \"MissingAppId\", o[o.RedundantPermissionMessage = 1] = \"RedundantPermissionMessage\", o[o.PushPermissionAlreadyGranted = 2] = \"PushPermissionAlreadyGranted\", o[o.UnsupportedEnvironment = 3] = \"UnsupportedEnvironment\", o[o.MissingDomElement = 4] = \"MissingDomElement\", o[o.ServiceWorkerNotActivated = 5] = \"ServiceWorkerNotActivated\", o[o.NoProxyFrame = 6] = \"NoProxyFrame\";\n\n  class a extends s.a {\n    constructor(e, t) {\n      switch (e) {\n        case r.MissingAppId:\n          super(\"Missing required app ID.\");\n          break;\n\n        case r.RedundantPermissionMessage:\n          let i = \"\";\n          t && t.permissionPromptType && (i = `(${n[t.permissionPromptType]})`), super(`Another permission message ${i} is being displayed.`);\n          break;\n\n        case r.PushPermissionAlreadyGranted:\n          super(\"Push permission has already been granted.\");\n          break;\n\n        case r.UnsupportedEnvironment:\n          super(\"The current environment does not support this operation.\");\n          break;\n\n        case r.ServiceWorkerNotActivated:\n          super(\"The service worker must be activated first.\");\n          break;\n\n        case r.NoProxyFrame:\n          super(\"No proxy frame.\");\n      }\n\n      this.description = r[e], this.reason = e, _Object$setPrototypeOf(this, a.prototype);\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return a;\n  });\n  var n = i(10),\n      r = i(3),\n      o = i(2),\n      s = i(22);\n\n  class a {\n    static get(e, t, i) {\n      return a.call(\"GET\", e, t, i);\n    }\n\n    static post(e, t, i) {\n      return a.call(\"POST\", e, t, i);\n    }\n\n    static put(e, t, i) {\n      return a.call(\"PUT\", e, t, i);\n    }\n\n    static delete(e, t, i) {\n      return a.call(\"DELETE\", e, t, i);\n    }\n\n    static call(e, t, i, o) {\n      if (\"GET\" === e) {\n        if (t.indexOf(\"players\") > -1 && -1 === t.indexOf(\"app_id=\")) return console.error(\"Calls to player api are not permitted without app_id\"), _Promise.reject(new s.a(s.b.MissingAppId));\n      } else if (t.indexOf(\"players\") > -1 && (!i || !i.app_id)) return console.error(\"Calls to player api are not permitted without app_id\"), _Promise.reject(new s.a(s.b.MissingAppId));\n\n      let c = new Headers();\n      if (c.append(\"SDK-Version\", `onesignal/web/${n.a.version()}`), c.append(\"Content-Type\", \"application/json;charset=UTF-8\"), o) for (let e of _Object$keys(o)) c.append(e, o[e]);\n      const d = {\n        method: e || \"NO_METHOD_SPECIFIED\",\n        headers: c,\n        cache: \"no-cache\"\n      };\n      let u;\n      return i && (d.body = _JSON$stringify(i)), fetch(r.a.getOneSignalApiUrl().toString() + \"/\" + t, d).then(e => (u = e.status, e.json())).then(e => {\n        if (u >= 200 && u < 300) return e;\n        if (\"no-user-id-error\" !== a.identifyError(e)) return _Promise.reject(e);\n      });\n    }\n\n    static identifyError(e) {\n      if (!e || !e.errors) return \"no-error\";\n      let t = e.errors;\n      return o.a.contains(t, \"No user with this id found\") || o.a.contains(t, \"Could not find app_id for given player id.\") ? \"no-user-id-error\" : \"unknown-error\";\n    }\n\n  }\n\n  t.b = a;\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return r;\n  });\n  var n = i(13);\n\n  class r extends n.a {\n    constructor() {\n      super(\"This code is not implemented yet.\"), _Object$setPrototypeOf(this, r.prototype);\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return p;\n  });\n  var n = i(0),\n      r = i(10),\n      o = i(3),\n      s = i(4),\n      a = i(1),\n      c = i(2);\n  const d = [\"notifyButtonHovering\", \"notifyButtonHover\", \"notifyButtonButtonClick\", \"notifyButtonLauncherClick\", \"animatedElementHiding\", \"animatedElementHidden\", \"animatedElementShowing\", \"animatedElementShown\", \"activeAnimatedElementActivating\", \"activeAnimatedElementActive\", \"activeAnimatedElementInactivating\", \"activeAnimatedElementInactive\", \"dbRetrieved\", \"dbSet\", \"testEvent\"],\n        u = [\"onesignal.prompt.custom.clicked\", \"onesignal.prompt.native.permissionchanged\", \"onesignal.subscription.changed\", \"onesignal.internal.subscriptionset\", \"dbRebuilt\", \"initialize\", \"subscriptionSet\", \"sendWelcomeNotification\", \"subscriptionChange\", \"notificationPermissionChange\", \"dbSet\", \"register\", \"notificationDisplay\", \"notificationDismiss\", \"notificationClick\", \"permissionPromptDisplay\", \"testWouldDisplay\", \"testInitOptionDisabled\", \"popupWindowTimeout\"],\n        l = {\n    notificationPermissionChange: \"onesignal.prompt.native.permissionchanged\",\n    subscriptionChange: \"onesignal.subscription.changed\",\n    customPromptClick: \"onesignal.prompt.custom.clicked\"\n  };\n\n  class p {\n    static trigger(e, t, i = null) {\n      return n.a(this, void 0, void 0, function* () {\n        if (!c.b.contains(d, e)) {\n          let n = t,\n              r = c.b.capitalize(o.a.getWindowEnv().toString());\n          i && (r = `${r} â¬¸ ${c.b.capitalize(i)}`), n || !1 === n ? a.a.debug(`(${r}) Â» %c${e}:`, c.b.getConsoleStyle(\"event\"), n) : a.a.debug(`(${r}) Â» %c${e}`, c.b.getConsoleStyle(\"event\"));\n        }\n\n        if (r.a.isBrowser()) {\n          if (e === OneSignal.EVENTS.SDK_INITIALIZED) {\n            if (OneSignal.initialized) return;\n            OneSignal.initialized = !0;\n          }\n\n          yield OneSignal.emitter.emit(e, t);\n        }\n\n        if (l.hasOwnProperty(e)) {\n          let i = l[e];\n\n          p._triggerLegacy(i, t);\n        }\n\n        if (r.a.isBrowser() && (o.a.getWindowEnv() === s.a.OneSignalSubscriptionPopup || o.a.getWindowEnv() === s.a.OneSignalProxyFrame)) {\n          opener || parent ? c.b.contains(u, e) && (o.a.getWindowEnv() === s.a.OneSignalSubscriptionPopup ? OneSignal.subscriptionPopup.message(OneSignal.POSTMAM_COMMANDS.REMOTE_RETRIGGER_EVENT, {\n            eventName: e,\n            eventData: t\n          }) : OneSignal.proxyFrame.retriggerRemoteEvent(e, t)) : a.a.error(`Could not send event '${e}' back to host page because no creator (opener or parent) found!`);\n        }\n      });\n    }\n\n    static _triggerLegacy(e, t) {\n      const i = new CustomEvent(e, {\n        bubbles: !0,\n        cancelable: !0,\n        detail: t\n      });\n      window.dispatchEvent(i);\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"b\", function () {\n    return n;\n  }), i.d(t, \"a\", function () {\n    return SdkInitError;\n  });\n  var n,\n      r = i(13);\n  !function (e) {\n    e[e.InvalidAppId = 0] = \"InvalidAppId\", e[e.AppNotConfiguredForWebPush = 1] = \"AppNotConfiguredForWebPush\", e[e.MissingSubdomain = 2] = \"MissingSubdomain\", e[e.WrongSiteUrl = 3] = \"WrongSiteUrl\", e[e.MultipleInitialization = 4] = \"MultipleInitialization\", e[e.MissingSafariWebId = 5] = \"MissingSafariWebId\", e[e.Unknown = 6] = \"Unknown\";\n  }(n || (n = {}));\n\n  class SdkInitError extends r.a {\n    constructor(e, t) {\n      switch (e) {\n        case n.InvalidAppId:\n          super(\"OneSignal: This app ID does not match any existing app. Double check your app ID.\");\n          break;\n\n        case n.AppNotConfiguredForWebPush:\n          super(\"OneSignal: This app ID does not have any web platforms enabled. Double check your app ID, or see step 1 on our setup guide (https://goo.gl/01h7fZ).\");\n          break;\n\n        case n.MissingSubdomain:\n          super(\"OneSignal: Non-HTTPS pages require a subdomain of OneSignal to be chosen on your dashboard. See step 1.4 on our setup guide (https://goo.gl/xip6JB).\");\n          break;\n\n        case n.WrongSiteUrl:\n          t && t.siteUrl ? super(`OneSignal: This web push config can only be used on ${new URL(t.siteUrl).origin}. Your current origin is ${location.origin}.`) : super(\"OneSignal: This web push config can not be used on the current site.\");\n          break;\n\n        case n.MultipleInitialization:\n          super(\"OneSignal: The OneSignal web SDK can only be initialized once. Extra initializations are ignored. Please remove calls initializing the SDK more than once.\");\n          break;\n\n        case n.MissingSafariWebId:\n          super(\"OneSignal: Safari browser support on Mac OS X requires the Safari web platform to be enabled. Please see the Safari Support steps in our web setup guide.\");\n          break;\n\n        case n.Unknown:\n          super(\"OneSignal: An unknown initialization error occurred.\");\n      }\n\n      this.reason = n[e], _Object$setPrototypeOf(this, SdkInitError.prototype);\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return n;\n  });\n\n  class n {\n    isNewSubscription() {\n      return this.existingW3cPushSubscription ? !!this.existingW3cPushSubscription.w3cEndpoint != !!this.w3cEndpoint || !(!this.existingW3cPushSubscription.w3cEndpoint || !this.w3cEndpoint || this.existingW3cPushSubscription.w3cEndpoint.toString() === this.w3cEndpoint.toString()) || this.existingW3cPushSubscription.w3cP256dh !== this.w3cP256dh || this.existingW3cPushSubscription.w3cAuth !== this.w3cAuth : !this.existingSafariDeviceToken || this.existingSafariDeviceToken !== this.safariDeviceToken;\n    }\n\n    static setFromW3cSubscription(e) {\n      const t = new n();\n\n      if (e && (t.w3cEndpoint = new URL(e.endpoint), e.getKey)) {\n        let i = null;\n\n        try {\n          i = e.getKey(\"p256dh\");\n        } catch (e) {}\n\n        let n = null;\n\n        try {\n          n = e.getKey(\"auth\");\n        } catch (e) {}\n\n        if (i) {\n          let e = btoa(String.fromCharCode.apply(null, new Uint8Array(i)));\n          t.w3cP256dh = e;\n        }\n\n        if (n) {\n          let e = btoa(String.fromCharCode.apply(null, new Uint8Array(n)));\n          t.w3cAuth = e;\n        }\n      }\n\n      return t;\n    }\n\n    setFromSafariSubscription(e) {\n      this.safariDeviceToken = e;\n    }\n\n    serialize() {\n      return {\n        w3cEndpoint: this.w3cEndpoint ? this.w3cEndpoint.toString() : null,\n        w3cP256dh: this.w3cP256dh,\n        w3cAuth: this.w3cAuth,\n        safariDeviceToken: this.safariDeviceToken,\n        existingPushSubscription: this.existingW3cPushSubscription ? this.existingW3cPushSubscription.serialize() : null,\n        existingSafariDeviceToken: this.existingSafariDeviceToken\n      };\n    }\n\n    static deserialize(e) {\n      const t = new n();\n      if (!e) return t;\n\n      try {\n        t.w3cEndpoint = new URL(e.w3cEndpoint);\n      } catch (e) {}\n\n      return t.w3cP256dh = e.w3cP256dh, t.w3cAuth = e.w3cAuth, t.existingW3cPushSubscription = void 0, e.existingW3cPushSubscription ? t.existingW3cPushSubscription = n.deserialize(e.existingW3cPushSubscription) : e.existingPushSubscription && (t.existingW3cPushSubscription = n.deserialize(e.existingPushSubscription)), t.safariDeviceToken = e.safariDeviceToken, t.existingSafariDeviceToken = e.existingSafariDeviceToken, t;\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"b\", function () {\n    return n;\n  }), i.d(t, \"a\", function () {\n    return o;\n  });\n  var n,\n      r = i(13);\n  !function (e) {\n    e[e.MissingAppId = 0] = \"MissingAppId\";\n  }(n || (n = {}));\n\n  class o extends r.a {\n    constructor(e) {\n      switch (e) {\n        case n.MissingAppId:\n          super(\"The API call is missing an app ID.\");\n      }\n\n      _Object$setPrototypeOf(this, o.prototype);\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n;\n  i.d(t, \"a\", function () {\n    return n;\n  }), function (e) {\n    e[e.ChromeLike = 5] = \"ChromeLike\", e[e.Safari = 7] = \"Safari\", e[e.Firefox = 8] = \"Firefox\", e[e.Edge = 12] = \"Edge\", e[e.Email = 11] = \"Email\";\n  }(n || (n = {}));\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return c;\n  });\n  var n = i(11),\n      r = i.n(n),\n      o = i(18),\n      s = i(9),\n      a = i(30);\n\n  class c extends a.a {\n    constructor(e) {\n      super(), this.subscription = e;\n    }\n\n    serialize() {\n      const e = super.serialize();\n      return this.subscription && (e.identifier = r.a.safari ? this.subscription.safariDeviceToken : this.subscription.w3cEndpoint ? this.subscription.w3cEndpoint.toString() : null, e.web_auth = this.subscription.w3cAuth, e.web_p256 = this.subscription.w3cP256dh), e;\n    }\n\n    static createFromPushSubscription(e, t, i) {\n      const n = new c(t);\n      return n.appId = e, n.subscriptionState = t ? s.a.Subscribed : s.a.NotSubscribed, i && (n.subscriptionState = i), n;\n    }\n\n    deserialize(e) {\n      throw new o.a();\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n;\n  i.d(t, \"a\", function () {\n    return n;\n  }), function (e) {\n    e.None = \"None\", e.UnitTesting = \"Unit Testing\";\n  }(n || (n = {}));\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n = i(7),\n      r = i(3),\n      o = i(4),\n      s = i(1);\n\n  class a {\n    constructor() {\n      this.incrementedPageViewCount = !1;\n    }\n\n    getPageViewCount() {\n      try {\n        const e = sessionStorage.getItem(a.SESSION_STORAGE_KEY_NAME),\n              t = e ? _parseInt(e) : 0;\n        return isNaN(t) ? 0 : t;\n      } catch (e) {\n        return 0;\n      }\n    }\n\n    setPageViewCount(e) {\n      try {\n        sessionStorage.setItem(a.SESSION_STORAGE_KEY_NAME, e.toString()), r.a.getWindowEnv() === o.a.OneSignalSubscriptionPopup && OneSignal.subscriptionPopup && OneSignal.subscriptionPopup.message(OneSignal.POSTMAM_COMMANDS.SET_SESSION_COUNT);\n      } catch (e) {}\n    }\n\n    incrementPageViewCount() {\n      if (this.incrementedPageViewCount) return;\n      const e = this.getPageViewCount() + 1;\n      this.setPageViewCount(e), s.a.debug(`Incremented page view count to ${e}.`), this.incrementedPageViewCount = !0;\n    }\n\n    simulatePageNavigationOrRefresh() {\n      this.incrementedPageViewCount = !1;\n    }\n\n    isFirstPageView() {\n      return 1 === this.getPageViewCount();\n    }\n\n  }\n\n  a.SESSION_STORAGE_KEY_NAME = \"onesignal-pageview-count\";\n  var c = i(0),\n      d = i(8),\n      u = i(11),\n      l = i.n(u),\n      InvalidArgumentError = i(14),\n      p = i(12);\n  const g = \"isOptedOut\",\n        f = \"isPushNotificationsEnabled\";\n\n  class h {\n    static getIsOptedOut() {\n      return \"true\" === localStorage.getItem(g);\n    }\n\n    static getIsPushNotificationsEnabled() {\n      return \"true\" === localStorage.getItem(f);\n    }\n\n    static setIsOptedOut(e) {\n      localStorage.setItem(g, e.toString());\n    }\n\n    static setIsPushNotificationsEnabled(e) {\n      localStorage.setItem(f, e.toString());\n    }\n\n    static setStoredPermission(e) {\n      localStorage.setItem(b.STORED_PERMISSION_KEY, e);\n    }\n\n    static getStoredPermission() {\n      switch (localStorage.getItem(b.STORED_PERMISSION_KEY) || \"default\") {\n        case \"granted\":\n          return p.a.Granted;\n\n        case \"denied\":\n          return p.a.Denied;\n\n        default:\n          return p.a.Default;\n      }\n    }\n\n  }\n\n  class b {\n    static get STORED_PERMISSION_KEY() {\n      return \"storedNotificationPermission\";\n    }\n\n    getNotificationPermission(e) {\n      return c.a(this, void 0, void 0, function* () {\n        const t = yield this.getReportedNotificationPermission(e);\n        return (yield this.isPermissionEnvironmentAmbiguous(t)) ? yield this.getInterpretedAmbiguousPermission(t) : t;\n      });\n    }\n\n    getReportedNotificationPermission(e) {\n      return c.a(this, void 0, void 0, function* () {\n        return l.a.safari ? b.getSafariNotificationPermission(e) : d.b.isUsingSubscriptionWorkaround() ? yield this.getOneSignalSubdomainNotificationPermission(e) : this.getW3cNotificationPermission();\n      });\n    }\n\n    static getSafariNotificationPermission(e) {\n      if (e) return window.safari.pushNotification.permission(e).permission;\n      throw new InvalidArgumentError.a(\"safariWebId\", InvalidArgumentError.b.Empty);\n    }\n\n    getW3cNotificationPermission() {\n      return window.Notification.permission;\n    }\n\n    getOneSignalSubdomainNotificationPermission(e) {\n      return c.a(this, void 0, void 0, function* () {\n        return new _Promise(t => {\n          OneSignal.proxyFrameHost.message(OneSignal.POSTMAM_COMMANDS.REMOTE_NOTIFICATION_PERMISSION, {\n            safariWebId: e\n          }, e => {\n            let i = e.data;\n            t(i);\n          });\n        });\n      });\n    }\n\n    isPermissionEnvironmentAmbiguous(e) {\n      return c.a(this, void 0, void 0, function* () {\n        const t = d.b.redetectBrowserUserAgent();\n        return !t.safari && !t.firefox && e === p.a.Denied && (this.isCurrentFrameContextCrossOrigin() || (yield r.a.isFrameContextInsecure()) || d.b.isUsingSubscriptionWorkaround() || r.a.isInsecureOrigin());\n      });\n    }\n\n    isCurrentFrameContextCrossOrigin() {\n      let e;\n\n      try {\n        e = window.top.location.origin;\n      } catch (e) {\n        return !0;\n      }\n\n      return window.top !== window && e !== window.location.origin;\n    }\n\n    getInterpretedAmbiguousPermission(e) {\n      return c.a(this, void 0, void 0, function* () {\n        switch (e) {\n          case p.a.Denied:\n            const t = this.getStoredPermission();\n            return t || p.a.Default;\n\n          default:\n            return e;\n        }\n      });\n    }\n\n    getStoredPermission() {\n      return h.getStoredPermission();\n    }\n\n    setStoredPermission(e) {\n      h.setStoredPermission(e);\n    }\n\n    updateStoredPermission() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = yield this.getNotificationPermission();\n        return this.setStoredPermission(e);\n      });\n    }\n\n  }\n\n  var m = i(10);\n\n  class v {\n    constructor(e) {\n      if (!e) throw new InvalidArgumentError.a(\"path\", InvalidArgumentError.b.Empty);\n      this.path = e.trim();\n    }\n\n    getQueryString() {\n      const e = this.path.indexOf(\"?\");\n      return -1 === e ? null : this.path.length > e ? this.path.substring(e + 1) : null;\n    }\n\n    getWithoutQueryString() {\n      return this.path.split(v.QUERY_STRING)[0];\n    }\n\n    getFileName() {\n      return this.getWithoutQueryString().split(\"\\\\\").pop().split(\"/\").pop();\n    }\n\n    getFileNameWithQuery() {\n      return this.path.split(\"\\\\\").pop().split(\"/\").pop();\n    }\n\n    getFullPath() {\n      return this.path;\n    }\n\n    getPathWithoutFileName() {\n      const e = this.getWithoutQueryString(),\n            t = e.lastIndexOf(this.getFileName());\n      let i = e.substring(0, t);\n      return i = i.replace(/[\\\\\\/]$/, \"\");\n    }\n\n  }\n\n  v.QUERY_STRING = \"?\";\n  var S = i(5),\n      y = i(15),\n      w = i(18),\n      P = i(19),\n      O = i(13);\n\n  class k extends O.a {\n    constructor(e, t) {\n      super(\"Registration of a Service Worker failed.\"), this.status = e, this.statusText = t, _Object$setPrototypeOf(this, k.prototype);\n    }\n\n  }\n\n  var I = k,\n      E = i(6),\n      x = i(2);\n\n  class A {\n    constructor(e, t) {\n      this.context = e, this.config = t;\n    }\n\n    static getRegistration() {\n      return c.a(this, void 0, void 0, function* () {\n        return yield E.b.getRegistration();\n      });\n    }\n\n    getActiveState() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = yield r.a.getIntegration();\n        if (e === y.a.InsecureProxy) return E.a.Indeterminate;\n\n        if (e === y.a.SecureProxy) {\n          switch (r.a.getWindowEnv()) {\n            case o.a.Host:\n            case o.a.CustomIframe:\n              const e = OneSignal.proxyFrameHost;\n              return e ? yield e.runCommand(OneSignal.POSTMAM_COMMANDS.SERVICE_WORKER_STATE) : E.a.Indeterminate;\n\n            case o.a.OneSignalSubscriptionPopup:\n              break;\n\n            case o.a.OneSignalSubscriptionModal:\n              throw new w.a();\n          }\n        }\n\n        const t = yield A.getRegistration();\n        if (!t) return E.a.None;\n        if (t.installing) return E.a.Installing;\n        if (!t.active) return E.a.ThirdParty;\n        const i = A.activeSwFileName(t),\n              n = this.swActiveStateByFileName(i);\n        return navigator.serviceWorker.controller || n !== E.a.WorkerA && n !== E.a.WorkerB ? n : E.a.Bypassed;\n      });\n    }\n\n    static activeSwFileName(e) {\n      if (!e.active) return null;\n      const t = new URL(e.active.scriptURL).pathname,\n            i = new v(t).getFileName();\n\n      if (\"akam-sw.js\" == i) {\n        const t = new URLSearchParams(new URL(e.active.scriptURL).search).get(\"othersw\");\n        if (t) return s.a.debug(\"Found a ServiceWorker under Akamai's akam-sw.js?othersw=\", t), new v(new URL(t).pathname).getFileName();\n      }\n\n      return i;\n    }\n\n    swActiveStateByFileName(e) {\n      return e ? e == this.config.workerAPath.getFileName() ? E.a.WorkerA : e == this.config.workerBPath.getFileName() ? E.a.WorkerB : E.a.ThirdParty : E.a.None;\n    }\n\n    getWorkerVersion() {\n      return c.a(this, void 0, void 0, function* () {\n        return new _Promise(e => c.a(this, void 0, void 0, function* () {\n          if (d.b.isUsingSubscriptionWorkaround()) {\n            const t = OneSignal.proxyFrameHost;\n\n            if (t) {\n              const i = yield t.runCommand(OneSignal.POSTMAM_COMMANDS.GET_WORKER_VERSION);\n              e(i);\n            } else e(NaN);\n          } else this.context.workerMessenger.once(n.b.WorkerVersion, t => {\n            e(t);\n          }), this.context.workerMessenger.unicast(n.b.WorkerVersion);\n        }));\n      });\n    }\n\n    shouldInstallWorker() {\n      return c.a(this, void 0, void 0, function* () {\n        if (!m.a.supportsServiceWorkers()) return !1;\n        if (!OneSignal.config) return !1;\n        if (OneSignal.config.subdomain && r.a.getWindowEnv() == o.a.Host) return !1;\n        const e = yield this.getActiveState();\n\n        if (e === E.a.None || e === E.a.ThirdParty) {\n          return \"granted\" === (yield OneSignal.context.permissionManager.getNotificationPermission(OneSignal.config.safariWebId));\n        }\n\n        return this.workerNeedsUpdate();\n      });\n    }\n\n    workerNeedsUpdate() {\n      return c.a(this, void 0, void 0, function* () {\n        let e;\n        s.a.info(\"[Service Worker Update] Checking service worker version...\");\n\n        try {\n          e = yield x.a.timeoutPromise(this.getWorkerVersion(), 2e3);\n        } catch (e) {\n          return s.a.info(\"[Service Worker Update] Worker did not reply to version query; assuming older version and updating.\"), !0;\n        }\n\n        return e !== m.a.version() ? (s.a.info(`[Service Worker Update] Updating service worker from ${e} --\\x3e ${m.a.version()}.`), !0) : (s.a.info(`[Service Worker Update] Service worker version is current at ${e} (no update required).`), !1);\n      });\n    }\n\n    installWorker() {\n      return c.a(this, void 0, void 0, function* () {\n        if (!(yield this.shouldInstallWorker())) return;\n        const e = yield this.getActiveState();\n        yield this.installAlternatingWorker(), yield new _Promise(t => c.a(this, void 0, void 0, function* () {\n          const i = yield this.getActiveState();\n          s.a.debug(\"installWorker - Comparing pre and post states\", e, i), e !== i && i !== E.a.Installing ? t() : (s.a.debug(\"installWorker - Awaiting on navigator.serviceWorker's 'controllerchange' event\"), navigator.serviceWorker.addEventListener(\"controllerchange\", i => c.a(this, void 0, void 0, function* () {\n            const i = yield this.getActiveState();\n            i !== e && i !== E.a.Installing ? t() : s.a.error(\"installWorker - SW's 'controllerchange' fired but no state change!\");\n          })));\n        })), (yield this.getActiveState()) === E.a.WorkerB && (yield this.installAlternatingWorker()), yield this.establishServiceWorkerChannel();\n      });\n    }\n\n    establishServiceWorkerChannel() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = this.context.workerMessenger;\n        e.off(), e.on(n.b.NotificationDisplayed, e => {\n          s.a.debug(location.origin, \"Received notification display event from service worker.\"), P.a.trigger(OneSignal.EVENTS.NOTIFICATION_DISPLAYED, e);\n        }), e.on(n.b.NotificationClicked, e => c.a(this, void 0, void 0, function* () {\n          let t;\n\n          if (0 === (t = r.a.getWindowEnv() === o.a.OneSignalProxyFrame ? yield new _Promise(e => {\n            const t = OneSignal.proxyFrame;\n            t && t.messenger.message(OneSignal.POSTMAM_COMMANDS.GET_EVENT_LISTENER_COUNT, OneSignal.EVENTS.NOTIFICATION_CLICKED, t => {\n              let i = t.data;\n              e(i);\n            });\n          }) : OneSignal.emitter.numberOfListeners(OneSignal.EVENTS.NOTIFICATION_CLICKED))) {\n            s.a.debug(\"notification.clicked event received, but no event listeners; storing event in IndexedDb for later retrieval.\");\n            let t = e.url;\n            e.url || (t = location.href), yield S.a.put(\"NotificationOpened\", {\n              url: t,\n              data: e,\n              timestamp: _Date$now()\n            });\n          } else P.a.trigger(OneSignal.EVENTS.NOTIFICATION_CLICKED, e);\n        })), e.on(n.b.RedirectPage, e => {\n          s.a.debug(`${r.a.getWindowEnv().toString()} Picked up command.redirect to ${e}, forwarding to host page.`);\n          const t = OneSignal.proxyFrame;\n          t && t.messenger.message(OneSignal.POSTMAM_COMMANDS.SERVICEWORKER_COMMAND_REDIRECT, e);\n        }), e.on(n.b.NotificationDismissed, e => {\n          P.a.trigger(OneSignal.EVENTS.NOTIFICATION_DISMISSED, e);\n        });\n      });\n    }\n\n    installAlternatingWorker() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = yield this.getActiveState();\n        e === E.a.ThirdParty && s.a.info(\"[Service Worker Installation] 3rd party service worker detected.\");\n        const t = `${E.b.getServiceWorkerHref(e, this.config)}?${x.a.encodeHashAsUriComponent({\n          appId: this.context.appConfig.appId\n        })}`;\n        s.a.info(`[Service Worker Installation] Installing service worker ${t}.`);\n\n        try {\n          yield navigator.serviceWorker.register(t, {\n            scope: `${d.b.getBaseUrl()}${this.config.registrationOptions.scope}`\n          });\n        } catch (e) {\n          if (s.a.error(`[Service Worker Installation] Installing service worker failed ${e}`), r.a.getWindowEnv() === o.a.OneSignalSubscriptionPopup) throw e;\n          const i = yield fetch(t);\n          if (403 === i.status || 404 === i.status) throw new I(i.status, i.statusText);\n          throw e;\n        }\n\n        s.a.debug(\"[Service Worker Installation] Service worker installed.\");\n      });\n    }\n\n  }\n\n  var N = i(22),\n      W = i(23),\n      T = i(30);\n\n  class C extends T.a {\n    constructor(e, t, i) {\n      super(), this.email = e, this.emailAuthHash = t, this.pushDeviceRecordId = i, this.deliveryPlatform = W.a.Email;\n    }\n\n    serialize() {\n      const e = super.serialize();\n      return this.email && (e.identifier = this.email), this.emailAuthHash && (e.email_auth_hash = this.emailAuthHash), this.pushDeviceRecordId && (e.device_player_id = this.pushDeviceRecordId), e;\n    }\n\n    deserialize(e) {\n      throw new w.a();\n    }\n\n  }\n\n  var M = i(17);\n\n  class _ {\n    static getPlayer(e, t) {\n      return x.b.enforceAppId(e), x.b.enforcePlayerId(t), M.b.get(`players/${t}?app_id=${e}`);\n    }\n\n    static updatePlayer(e, t, i) {\n      return x.b.enforceAppId(e), x.b.enforcePlayerId(t), M.b.put(`players/${t}`, _Object$assign({\n        app_id: e\n      }, i));\n    }\n\n    static sendNotification(e, t, i, n, r, o, s, a) {\n      var c = {\n        app_id: e,\n        contents: n,\n        include_player_ids: t,\n        isAnyWeb: !0,\n        data: s,\n        web_buttons: a\n      };\n      return i && (c.headings = i), r && (c.url = r), o && (c.chrome_web_icon = o, c.firefox_icon = o), x.b.trimUndefined(c), M.b.post(\"notifications\", c);\n    }\n\n    static createUser(e) {\n      return c.a(this, void 0, void 0, function* () {\n        const t = e.serialize();\n        x.b.enforceAppId(t.app_id);\n        const i = yield M.b.post(\"players\", t);\n        return i && i.success ? i.id : null;\n      });\n    }\n\n    static createEmailRecord(e, t, i) {\n      return c.a(this, void 0, void 0, function* () {\n        x.b.enforceAppId(e.appId);\n        const n = new C(t.emailAddress, t.emailAuthHash, i);\n        n.appId = e.appId;\n        const r = yield M.b.post(\"players\", n.serialize());\n        return r && r.success ? r.id : null;\n      });\n    }\n\n    static updateEmailRecord(e, t, i) {\n      return c.a(this, void 0, void 0, function* () {\n        x.b.enforceAppId(e.appId), x.b.enforcePlayerId(t.emailId);\n        const n = new C(t.emailAddress, t.emailAuthHash, i);\n        n.appId = e.appId;\n        const r = yield M.b.put(`players/${t.emailId}`, n.serialize());\n        return r && r.success ? r.id : null;\n      });\n    }\n\n    static logoutEmail(e, t, i) {\n      return c.a(this, void 0, void 0, function* () {\n        x.b.enforceAppId(e.appId), x.b.enforcePlayerId(i);\n        const n = yield M.b.post(`players/${i}/email_logout`, {\n          app_id: e.appId,\n          parent_player_id: t.emailId,\n          email_auth_hash: t.emailAuthHash ? t.emailAuthHash : void 0\n        });\n        return !(!n || !n.success);\n      });\n    }\n\n    static updateUserSession(e, t) {\n      return c.a(this, void 0, void 0, function* () {\n        try {\n          const i = t.serialize();\n          x.b.enforceAppId(i.app_id), x.b.enforcePlayerId(e);\n          const n = yield M.b.post(`players/${e}/on_session`, i);\n          return n.id ? n.id : e;\n        } catch (e) {\n          throw e && _Array$isArray(e.errors) && e.errors.length > 0 && x.b.contains(e.errors[0], \"app_id not found\") ? new N.a(N.b.MissingAppId) : e;\n        }\n      });\n    }\n\n  }\n\n  var D,\n      R,\n      U = i(21),\n      F = i(9),\n      B = i(24),\n      InvalidStateError = i(16);\n  (R = D || (D = {}))[R.Blocked = 0] = \"Blocked\", R[R.Dismissed = 1] = \"Dismissed\", R[R.Default = 2] = \"Default\";\n\n  class L extends O.a {\n    constructor(e) {\n      switch (e) {\n        case D.Dismissed:\n          super(\"The user dismissed the permission prompt.\");\n          break;\n\n        case D.Blocked:\n          super(\"Notification permissions are blocked.\");\n          break;\n\n        case D.Default:\n          super(\"Notification permissions have not been granted yet.\");\n      }\n\n      this.reason = e, _Object$setPrototypeOf(this, L.prototype);\n    }\n\n  }\n\n  var V,\n      $,\n      SdkInitError = i(20);\n  ($ = V || (V = {}))[$.InvalidSafariSetup = 0] = \"InvalidSafariSetup\", $[$.Blocked = 1] = \"Blocked\", $[$.Dismissed = 2] = \"Dismissed\";\n\n  class H extends O.a {\n    constructor(e) {\n      switch (e) {\n        case V.InvalidSafariSetup:\n          super(\"The Safari site URL, icon size, or push certificate is invalid, or Safari is in a private session.\");\n          break;\n\n        case V.Blocked:\n          super(\"Notification permissions are blocked.\");\n          break;\n\n        case V.Dismissed:\n          super(\"The notification permission prompt was dismissed.\");\n      }\n\n      _Object$setPrototypeOf(this, H.prototype);\n    }\n\n  }\n\n  var j = i(27);\n\n  class z {\n    constructor(e, t) {\n      this.context = e, this.config = t;\n    }\n\n    static isSafari() {\n      return m.a.isSafari();\n    }\n\n    subscribe(e) {\n      return c.a(this, void 0, void 0, function* () {\n        const t = r.a.getWindowEnv();\n\n        switch (t) {\n          case o.a.CustomIframe:\n          case o.a.Unknown:\n          case o.a.OneSignalProxyFrame:\n            throw new InvalidStateError.a(InvalidStateError.b.UnsupportedEnvironment);\n        }\n\n        let i;\n\n        switch (t) {\n          case o.a.ServiceWorker:\n            i = yield this.subscribeFcmFromWorker(e);\n            break;\n\n          case o.a.Host:\n          case o.a.OneSignalSubscriptionModal:\n          case o.a.OneSignalSubscriptionPopup:\n            if ((yield OneSignal.privateGetNotificationPermission()) === p.a.Denied) throw new L(D.Blocked);\n            i = z.isSafari() ? yield this.subscribeSafari() : yield this.subscribeFcmFromPage(e);\n            break;\n\n          default:\n            throw new InvalidStateError.a(InvalidStateError.b.UnsupportedEnvironment);\n        }\n\n        return i;\n      });\n    }\n\n    registerSubscription(e, t) {\n      return c.a(this, void 0, void 0, function* () {\n        e && (e = U.a.deserialize(e));\n        const i = B.a.createFromPushSubscription(this.config.appId, e, t);\n        let n = void 0;\n        (yield this.isAlreadyRegisteredWithOneSignal()) ? yield this.context.updateManager.sendPlayerUpdate(i) : (n = yield this.context.updateManager.sendPlayerCreate(i)) && (yield this.associateSubscriptionWithEmail(n));\n        const s = yield S.a.getSubscription();\n        return s.deviceId = n, s.optedOut = !1, e ? z.isSafari() ? s.subscriptionToken = e.safariDeviceToken : s.subscriptionToken = e.w3cEndpoint ? e.w3cEndpoint.toString() : null : s.subscriptionToken = null, yield S.a.setSubscription(s), r.a.getWindowEnv() !== o.a.ServiceWorker && P.a.trigger(OneSignal.EVENTS.REGISTERED), \"undefined\" != typeof OneSignal && (OneSignal._sessionInitAlreadyRunning = !1), s;\n      });\n    }\n\n    static requestPresubscribeNotificationPermission() {\n      return c.a(this, void 0, void 0, function* () {\n        return yield z.requestNotificationPermission();\n      });\n    }\n\n    unsubscribe(e) {\n      return c.a(this, void 0, void 0, function* () {\n        if (0 === e) throw new w.a();\n        if (1 !== e) throw new w.a();\n        if (r.a.getWindowEnv() !== o.a.ServiceWorker) throw new w.a();\n        {\n          const {\n            deviceId: e\n          } = yield S.a.getSubscription();\n          yield _.updatePlayer(this.context.appConfig.appId, e, {\n            notification_types: F.a.MutedByApi\n          }), yield S.a.put(\"Options\", {\n            key: \"optedOut\",\n            value: !0\n          });\n        }\n      });\n    }\n\n    static requestNotificationPermission() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = yield window.Notification.requestPermission();\n        return p.a[e];\n      });\n    }\n\n    associateSubscriptionWithEmail(e) {\n      return c.a(this, void 0, void 0, function* () {\n        const t = yield S.a.getEmailProfile();\n        t.emailId && (yield _.updatePlayer(this.config.appId, e, {\n          parent_player_id: t.emailId,\n          email: t.emailAddress\n        }));\n      });\n    }\n\n    isAlreadyRegisteredWithOneSignal() {\n      return c.a(this, void 0, void 0, function* () {\n        const {\n          deviceId: e\n        } = yield S.a.getSubscription();\n        return !!e;\n      });\n    }\n\n    subscribeSafariPromptPermission() {\n      return new _Promise(e => {\n        window.safari.pushNotification.requestPermission(`${r.a.getOneSignalApiUrl().toString()}/safari`, this.config.safariWebId, {\n          app_id: this.config.appId\n        }, t => {\n          t.deviceToken ? e(t.deviceToken.toLowerCase()) : e(null);\n        });\n      });\n    }\n\n    subscribeSafari() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = new U.a();\n        if (!this.config.safariWebId) throw new SdkInitError.a(SdkInitError.b.MissingSafariWebId);\n        const {\n          deviceToken: t\n        } = window.safari.pushNotification.permission(this.config.safariWebId);\n        e.existingSafariDeviceToken = t, t || P.a.trigger(OneSignal.EVENTS.PERMISSION_PROMPT_DISPLAYED);\n        const i = yield this.subscribeSafariPromptPermission();\n        if (j.a.triggerNotificationPermissionChanged(), !i) throw new H(V.InvalidSafariSetup);\n        return e.setFromSafariSubscription(i), e;\n      });\n    }\n\n    subscribeFcmFromPage(e) {\n      return c.a(this, void 0, void 0, function* () {\n        if (r.a.getWindowEnv() !== o.a.ServiceWorker && window.Notification.permission === p.a.Default) {\n          yield P.a.trigger(OneSignal.EVENTS.PERMISSION_PROMPT_DISPLAYED);\n          const e = yield z.requestPresubscribeNotificationPermission();\n\n          switch (e === p.a.Default && (yield j.a.triggerNotificationPermissionChanged(!0)), e) {\n            case p.a.Default:\n              throw s.a.debug(\"Exiting subscription and not registering worker because the permission was dismissed.\"), OneSignal._sessionInitAlreadyRunning = !1, OneSignal._isRegisteringForPush = !1, new L(D.Dismissed);\n\n            case p.a.Denied:\n              throw s.a.debug(\"Exiting subscription and not registering worker because the permission was blocked.\"), OneSignal._sessionInitAlreadyRunning = !1, OneSignal._isRegisteringForPush = !1, new L(D.Blocked);\n          }\n        }\n\n        try {\n          yield this.context.serviceWorkerManager.installWorker();\n        } catch (e) {\n          throw e instanceof I && (403 === e.status ? yield this.context.subscriptionManager.registerFailedSubscription(F.a.ServiceWorkerStatus403, this.context) : 404 === e.status && (yield this.context.subscriptionManager.registerFailedSubscription(F.a.ServiceWorkerStatus404, this.context))), e;\n        }\n\n        s.a.debug(\"Waiting for the service worker to activate...\");\n        const t = yield navigator.serviceWorker.ready;\n        return s.a.debug(\"Service worker is ready to continue subscribing.\"), yield this.subscribeWithVapidKey(t.pushManager, e);\n      });\n    }\n\n    subscribeFcmFromWorker(e) {\n      return c.a(this, void 0, void 0, function* () {\n        const t = self.registration;\n        if (!t.active && !l.a.firefox) throw new InvalidStateError.a(InvalidStateError.b.ServiceWorkerNotActivated);\n        const i = yield t.pushManager.permissionState({\n          userVisibleOnly: !0\n        });\n        if (\"denied\" === i) throw new L(D.Blocked);\n        if (\"prompt\" === i) throw new L(D.Default);\n        return yield this.subscribeWithVapidKey(t.pushManager, e);\n      });\n    }\n\n    getVapidKeyForBrowser() {\n      let e = void 0;\n      return (e = l.a.firefox ? this.config.onesignalVapidPublicKey : this.config.vapidPublicKey) ? function (e) {\n        const t = (e + \"=\".repeat((4 - e.length % 4) % 4)).replace(/\\-/g, \"+\").replace(/_/g, \"/\"),\n              i = atob(t),\n              n = new Uint8Array(i.length);\n\n        for (let e = 0; e < i.length; ++e) n[e] = i.charCodeAt(e);\n\n        return n;\n      }(e).buffer : void 0;\n    }\n\n    subscribeWithVapidKey(e, t) {\n      return c.a(this, void 0, void 0, function* () {\n        const i = yield e.getSubscription();\n\n        switch (t) {\n          case 0:\n            if (!i) break;\n            i.options ? s.a.debug(\"[Subscription Manager] An existing push subscription exists and it's options is not null.\") : (s.a.debug(\"[Subscription Manager] An existing push subscription exists and options is null. Unsubscribing from push first now.\"), yield z.doPushUnsubscribe(i));\n            break;\n\n          case 1:\n            i && (yield z.doPushUnsubscribe(i));\n        }\n\n        const [n, r] = yield z.doPushSubscribe(e, this.getVapidKeyForBrowser());\n        yield z.updateSubscriptionTime(r, n.expirationTime);\n        const o = U.a.setFromW3cSubscription(n);\n        return i && (o.existingW3cPushSubscription = U.a.setFromW3cSubscription(i)), o;\n      });\n    }\n\n    static updateSubscriptionTime(e, t) {\n      return c.a(this, void 0, void 0, function* () {\n        const i = yield S.a.getSubscription();\n        e && (i.createdAt = new Date().getTime()), i.expirationTime = t, yield S.a.setSubscription(i);\n      });\n    }\n\n    static doPushUnsubscribe(e) {\n      return c.a(this, void 0, void 0, function* () {\n        s.a.debug(\"[Subscription Manager] Unsubscribing existing push subscription.\");\n        const t = yield e.unsubscribe();\n        return s.a.debug(`[Subscription Manager] Unsubscribing existing push subscription result: ${t}`), t;\n      });\n    }\n\n    static doPushSubscribe(e, t) {\n      return c.a(this, void 0, void 0, function* () {\n        if (!t) throw new Error(\"Missing required 'applicationServerKey' to subscribe for push notifications!\");\n        const i = {\n          userVisibleOnly: !0,\n          applicationServerKey: t\n        };\n        s.a.debug(\"[Subscription Manager] Subscribing to web push with these options:\", i);\n\n        try {\n          const t = yield e.getSubscription();\n          return [yield e.subscribe(i), !t];\n        } catch (t) {\n          if (\"InvalidStateError\" == t.name) return s.a.warn(\"[Subscription Manager] Couldn't re-subscribe due to applicationServerKey changing, unsubscribe and attempting to subscribe with new key.\", t), yield z.doPushUnsubscribe((yield e.getSubscription())), [yield e.subscribe(i), !0];\n          throw t;\n        }\n      });\n    }\n\n    isSubscriptionExpiring() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = yield r.a.getIntegration(),\n              t = r.a.getWindowEnv();\n\n        switch (e) {\n          case y.a.Secure:\n            return yield this.isSubscriptionExpiringForSecureIntegration();\n\n          case y.a.SecureProxy:\n            if (t === o.a.Host) {\n              const e = OneSignal.proxyFrameHost;\n              if (e) return yield e.runCommand(OneSignal.POSTMAM_COMMANDS.SUBSCRIPTION_EXPIRATION_STATE);\n              throw new InvalidStateError.a(InvalidStateError.b.NoProxyFrame);\n            }\n\n            return yield this.isSubscriptionExpiringForSecureIntegration();\n\n          case y.a.InsecureProxy:\n            const {\n              expirationTime: i\n            } = yield S.a.getSubscription();\n            return !!i && new Date().getTime() >= i;\n        }\n      });\n    }\n\n    isSubscriptionExpiringForSecureIntegration() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = yield this.context.serviceWorkerManager.getActiveState();\n        if (e !== E.a.WorkerA && e !== E.a.WorkerB) return !1;\n        const t = yield A.getRegistration();\n        if (!t) return !1;\n        if (!t.pushManager) return !1;\n        const i = yield t.pushManager.getSubscription();\n        if (!i) return !1;\n        if (!i.expirationTime) return !1;\n        let {\n          createdAt: n\n        } = yield S.a.getSubscription();\n\n        if (!n) {\n          const e = 31536e6;\n          n = new Date().getTime() + e;\n        }\n\n        const r = n + (i.expirationTime - n) / 2;\n        return !!i.expirationTime && (new Date().getTime() >= i.expirationTime || new Date().getTime() >= r);\n      });\n    }\n\n    getSubscriptionState() {\n      return c.a(this, void 0, void 0, function* () {\n        if (z.isSafari()) return this.getSubscriptionStateForSecure();\n        const e = r.a.getWindowEnv();\n\n        switch (e) {\n          case o.a.ServiceWorker:\n            const t = yield self.registration.pushManager.getSubscription(),\n                  {\n              optedOut: i\n            } = yield S.a.getSubscription();\n            return {\n              subscribed: !!t,\n              optedOut: !!i\n            };\n\n          default:\n            switch (yield r.a.getIntegration()) {\n              case y.a.Secure:\n                return this.getSubscriptionStateForSecure();\n\n              case y.a.SecureProxy:\n                switch (e) {\n                  case o.a.OneSignalProxyFrame:\n                  case o.a.OneSignalSubscriptionPopup:\n                  case o.a.OneSignalSubscriptionModal:\n                    return this.getSubscriptionStateForSecure();\n\n                  default:\n                    return yield OneSignal.proxyFrameHost.runCommand(OneSignal.POSTMAM_COMMANDS.GET_SUBSCRIPTION_STATE);\n                }\n\n              case y.a.InsecureProxy:\n                return yield this.getSubscriptionStateForInsecure();\n\n              default:\n                throw new InvalidStateError.a(InvalidStateError.b.UnsupportedEnvironment);\n            }\n\n        }\n      });\n    }\n\n    getSubscriptionStateForSecure() {\n      return c.a(this, void 0, void 0, function* () {\n        const {\n          deviceId: e,\n          optedOut: t\n        } = yield S.a.getSubscription();\n\n        if (z.isSafari()) {\n          const i = window.safari.pushNotification.permission(this.config.safariWebId);\n          return {\n            subscribed: !(\"granted\" !== i.permission || !i.deviceToken || !e),\n            optedOut: !!t\n          };\n        }\n\n        const i = yield this.context.serviceWorkerManager.getActiveState(),\n              n = yield A.getRegistration(),\n              r = yield this.context.permissionManager.getNotificationPermission(this.context.appConfig.safariWebId),\n              o = i === E.a.WorkerA || i === E.a.WorkerB;\n        return n ? {\n          subscribed: !(!e || r !== p.a.Granted || !o),\n          optedOut: !!t\n        } : {\n          subscribed: !1,\n          optedOut: !!t\n        };\n      });\n    }\n\n    getSubscriptionStateForInsecure() {\n      return c.a(this, void 0, void 0, function* () {\n        const {\n          deviceId: e,\n          subscriptionToken: t,\n          optedOut: i\n        } = yield S.a.getSubscription(),\n              n = yield this.context.permissionManager.getNotificationPermission(this.context.appConfig.safariWebId);\n        return {\n          subscribed: !(!e || !t || n !== p.a.Granted),\n          optedOut: !!i\n        };\n      });\n    }\n\n    registerFailedSubscription(e, t) {\n      return c.a(this, void 0, void 0, function* () {\n        t.sessionManager.isFirstPageView() && (t.subscriptionManager.registerSubscription(new U.a(), e), t.sessionManager.incrementPageViewCount());\n      });\n    }\n\n  }\n\n  var K,\n      G,\n      q = class {\n    static getServiceWorkerManager(e) {\n      const t = e.appConfig,\n            i = r.a.getBuildEnvPrefix(),\n            n = {\n        workerAPath: new v(`/${i}OneSignalSDKWorker.js`),\n        workerBPath: new v(`/${i}OneSignalSDKUpdaterWorker.js`),\n        registrationOptions: {\n          scope: \"/\"\n        }\n      };\n      return t.userConfig && (t.userConfig.path && (n.workerAPath = new v(`${t.userConfig.path}${i}${t.userConfig.serviceWorkerPath}`), n.workerBPath = new v(`${t.userConfig.path}${i}${t.userConfig.serviceWorkerUpdaterPath}`)), t.userConfig.serviceWorkerParam && (n.registrationOptions = t.userConfig.serviceWorkerParam)), new A(e, n);\n    }\n\n    static getSubscriptionManager(e) {\n      const t = e.appConfig,\n            i = {\n        safariWebId: t.safariWebId,\n        appId: t.appId,\n        vapidPublicKey: t.vapidPublicKey,\n        onesignalVapidPublicKey: t.onesignalVapidPublicKey\n      };\n      return new z(e, i);\n    }\n\n  };\n  (G = K || (K = {}))[G.Unknown = 0] = \"Unknown\", G[G.NoDeviceId = 1] = \"NoDeviceId\", G[G.NoEmailSet = 2] = \"NoEmailSet\", G[G.OptedOut = 3] = \"OptedOut\";\n\n  class J extends O.a {\n    constructor(e) {\n      switch (e) {\n        case K.Unknown || K.NoDeviceId:\n          super(\"This operation can only be performed after the user is subscribed.\");\n          break;\n\n        case K.NoEmailSet:\n          super(\"No email is currently set.\");\n          break;\n\n        case K.OptedOut:\n          super(\"The user has manually opted out of receiving of notifications. This operation can only be performed after the user is fully resubscribed.\");\n      }\n\n      this.reason = K[e], _Object$setPrototypeOf(this, J.prototype);\n    }\n\n  }\n\n  var Y = i(29);\n\n  class Q {\n    constructor(e) {\n      this.context = e, this.onSessionSent = e.sessionManager.getPageViewCount() > 1;\n    }\n\n    getDeviceId() {\n      return c.a(this, void 0, void 0, function* () {\n        const {\n          deviceId: e\n        } = yield S.a.getSubscription();\n        if (!e) throw new J(K.NoDeviceId);\n        return e;\n      });\n    }\n\n    createDeviceRecord() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = new B.a();\n        return e.appId = this.context.appConfig.appId, e.subscriptionState = yield Y.a.getCurrentNotificationType(), e;\n      });\n    }\n\n    sendPlayerUpdate(e) {\n      return c.a(this, void 0, void 0, function* () {\n        if (!(yield this.context.subscriptionManager.isAlreadyRegisteredWithOneSignal())) return void s.a.debug(\"Not sending the update because user is not registered with OneSignal (no device id)\");\n        const t = yield this.getDeviceId();\n        e || (e = yield this.createDeviceRecord()), this.onSessionSent ? yield _.updatePlayer(this.context.appConfig.appId, t, _Object$assign({\n          notification_types: F.a.Subscribed\n        }, e.serialize())) : yield this.sendOnSessionUpdate(e);\n      });\n    }\n\n    sendOnSessionUpdate(e) {\n      return c.a(this, void 0, void 0, function* () {\n        if (this.onSessionSent) return;\n        if (!this.context.sessionManager.isFirstPageView()) return;\n        if (!(yield this.context.subscriptionManager.isAlreadyRegisteredWithOneSignal())) return void s.a.debug(\"Not sending the on session because user is not registered with OneSignal (no device id)\");\n        const t = yield this.getDeviceId();\n        if (e || (e = yield this.createDeviceRecord()), e.subscriptionState === F.a.Subscribed || !0 === OneSignal.config.enableOnSession) try {\n          const i = yield _.updateUserSession(t, e);\n\n          if (this.onSessionSent = !0, i !== t) {\n            const e = yield S.a.getSubscription();\n            e.deviceId = i, yield S.a.setSubscription(e);\n          }\n        } catch (e) {\n          s.a.error(`Failed to update user session. Error \"${e.message}\" ${e.stack}`);\n        }\n      });\n    }\n\n    sendPlayerCreate(e) {\n      return c.a(this, void 0, void 0, function* () {\n        try {\n          const t = yield _.createUser(e);\n          return t ? (s.a.info(\"Subscribed to web push and registered with OneSignal\", e, t), this.onSessionSent = !0, t) : void s.a.error(\"Failed to create user.\");\n        } catch (e) {\n          return void s.a.error(`Failed to create user. Error \"${e.message}\" ${e.stack}`);\n        }\n      });\n    }\n\n    onSessionAlreadyCalled() {\n      return this.onSessionSent;\n    }\n\n    sendExternalUserIdUpdate(e) {\n      return c.a(this, void 0, void 0, function* () {\n        const t = yield this.getDeviceId();\n        yield _.updatePlayer(this.context.appConfig.appId, t, {\n          external_user_id: x.b.getValueOrDefault(e, \"\")\n        });\n      });\n    }\n\n  }\n\n  i.d(t, \"a\", function () {\n    return X;\n  });\n\n  class X {\n    constructor(e) {\n      this.appConfig = e, this.subscriptionManager = q.getSubscriptionManager(this), this.serviceWorkerManager = q.getServiceWorkerManager(this), this.sessionManager = new a(), this.permissionManager = new b(), this.workerMessenger = new n.a(this), this.updateManager = new Q(this);\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return s;\n  });\n  var n = i(0),\n      r = i(5),\n      o = i(19);\n\n  class s {\n    static triggerNotificationPermissionChanged(e = !1) {\n      return n.a(this, void 0, void 0, function* () {\n        const t = yield OneSignal.privateGetNotificationPermission();\n        (t !== (yield r.a.get(\"Options\", \"notificationPermission\")) || e) && (yield r.a.put(\"Options\", {\n          key: \"notificationPermission\",\n          value: t\n        }), o.a.trigger(OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, {\n          to: t\n        }));\n      });\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n = i(0),\n      r = i(17),\n      o = i(9),\n      s = i(1),\n      a = i(2);\n  t.a = class {\n    static downloadServerAppConfig(e) {\n      return n.a(this, void 0, void 0, function* () {\n        return a.a.enforceAppId(e), yield new _Promise((t, i) => {\n          t(r.a.get(`sync/${e}/web`, null));\n        });\n      });\n    }\n\n    static getUserIdFromSubscriptionIdentifier(e, t, i) {\n      return a.a.enforceAppId(e), r.a.post(\"players\", {\n        app_id: e,\n        device_type: t,\n        identifier: i,\n        notification_types: o.a.TemporaryWebRecord\n      }).then(e => e && e.id ? e.id : null).catch(e => (s.a.debug(\"Error getting user ID from subscription identifier:\", e), null));\n    }\n\n    static updatePlayer(e, t, i) {\n      return a.a.enforceAppId(e), a.a.enforcePlayerId(t), r.a.put(`players/${t}`, _Object$assign({\n        app_id: e\n      }, i));\n    }\n\n  };\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n = i(0),\n      InvalidStateError = i(16),\n      r = i(19),\n      o = i(3),\n      s = i(5);\n\n  class a {\n    static isLocalStorageSupported() {\n      try {\n        return \"undefined\" != typeof localStorage && (localStorage.getItem(\"test\"), !0);\n      } catch (e) {\n        return !1;\n      }\n    }\n\n    static setItem(e, t, i) {\n      if (!a.isLocalStorageSupported()) return;\n      const n = void 0 !== i ? 60 * i * 1e3 : 0,\n            r = {\n        value: _JSON$stringify(t),\n        timestamp: void 0 !== i ? new Date().getTime() + n : void 0\n      };\n      localStorage.setItem(e, _JSON$stringify(r));\n    }\n\n    static getItem(e) {\n      if (!a.isLocalStorageSupported()) return null;\n      const t = localStorage.getItem(e);\n      let i;\n\n      try {\n        i = JSON.parse(t);\n      } catch (e) {\n        return null;\n      }\n\n      if (null === i) return null;\n      if (i.timestamp && new Date().getTime() >= i.timestamp) return localStorage.removeItem(e), null;\n      let n = i.value;\n\n      try {\n        n = JSON.parse(i.value);\n      } catch (e) {\n        return n;\n      }\n\n      return n;\n    }\n\n    static removeItem(e) {\n      if (!a.isLocalStorageSupported()) return null;\n      localStorage.removeItem(e);\n    }\n\n  }\n\n  var c = i(1),\n      d = i(9),\n      u = i(12),\n      l = i(8),\n      p = i(27),\n      g = i(2);\n  i.d(t, \"a\", function () {\n    return f;\n  });\n\n  class f {\n    static getCurrentNotificationType() {\n      return n.a(this, void 0, void 0, function* () {\n        const e = yield OneSignal.context.permissionManager.getNotificationPermission(OneSignal.context.appConfig.safariWebId);\n        if (e === u.a.Default) return d.a.Default;\n        if (e === u.a.Denied) return l.a.isUsingSubscriptionWorkaround() ? d.a.Default : d.a.NotSubscribed;\n        const t = yield OneSignal.context.subscriptionManager.isAlreadyRegisteredWithOneSignal();\n\n        if (e === u.a.Granted && t) {\n          return (yield OneSignal.privateIsPushNotificationsEnabled()) ? d.a.Subscribed : d.a.MutedByApi;\n        }\n\n        return d.a.Default;\n      });\n    }\n\n    static getNotificationTypeFromOptIn(e) {\n      return 1 == e || null == e ? d.a.Subscribed : d.a.MutedByApi;\n    }\n\n    static wasHttpsNativePromptDismissed() {\n      return \"dismissed\" === a.getItem(\"onesignal-notification-prompt\");\n    }\n\n    static markHttpPopoverShown() {\n      sessionStorage.setItem(\"ONESIGNAL_HTTP_PROMPT_SHOWN\", \"true\");\n    }\n\n    static isHttpPromptAlreadyShown() {\n      return \"true\" == sessionStorage.getItem(\"ONESIGNAL_HTTP_PROMPT_SHOWN\");\n    }\n\n    static checkAndTriggerNotificationPermissionChanged() {\n      return n.a(this, void 0, void 0, function* () {\n        const e = yield s.a.get(\"Options\", \"notificationPermission\"),\n              t = yield OneSignal.getNotificationPermission();\n        e !== t && (yield p.a.triggerNotificationPermissionChanged(), yield s.a.put(\"Options\", {\n          key: \"notificationPermission\",\n          value: t\n        }));\n      });\n    }\n\n    static getNotificationIcons() {\n      return n.a(this, void 0, void 0, function* () {\n        const e = yield f.getAppId();\n        if (!e) throw new InvalidStateError.a(InvalidStateError.b.MissingAppId);\n        var t = `${o.a.getOneSignalApiUrl().toString()}/apps/${e}/icon`;\n        const i = yield (yield fetch(t)).json();\n        if (i.errors) throw c.a.error(`API call %c${t}`, g.a.getConsoleStyle(\"code\"), \"failed with:\", i.errors), new Error(\"Failed to get notification icons.\");\n        return i;\n      });\n    }\n\n    static getSlidedownPermissionMessageOptions(e) {\n      const t = \"We'd like to show you notifications for the latest news and updates.\";\n      return e ? e.slidedown ? {\n        enabled: e.slidedown.enabled,\n        autoPrompt: e.slidedown.autoPrompt,\n        actionMessage: e.slidedown.actionMessage || t,\n        acceptButtonText: e.slidedown.acceptButtonText || \"Allow\",\n        cancelButtonText: e.slidedown.cancelButtonText || \"No Thanks\"\n      } : {\n        enabled: !1,\n        autoPrompt: !1,\n        actionMessage: e.actionMessage || t,\n        acceptButtonText: e.acceptButtonText || \"Allow\",\n        cancelButtonText: e.cancelButtonText || \"No Thanks\"\n      } : {\n        enabled: !1,\n        autoPrompt: !1,\n        actionMessage: t,\n        acceptButtonText: \"Allow\",\n        cancelButtonText: \"No Thanks\"\n      };\n    }\n\n    static getFullscreenPermissionMessageOptions(e) {\n      return e ? e.fullscreen ? {\n        autoAcceptTitle: e.fullscreen.autoAcceptTitle,\n        actionMessage: e.fullscreen.actionMessage,\n        exampleNotificationTitleDesktop: e.fullscreen.title,\n        exampleNotificationTitleMobile: e.fullscreen.title,\n        exampleNotificationMessageDesktop: e.fullscreen.message,\n        exampleNotificationMessageMobile: e.fullscreen.message,\n        exampleNotificationCaption: e.fullscreen.caption,\n        acceptButtonText: e.fullscreen.acceptButton,\n        cancelButtonText: e.fullscreen.cancelButton\n      } : e : null;\n    }\n\n    static getPromptOptionsQueryString() {\n      let e = \"\";\n\n      if (f.getFullscreenPermissionMessageOptions(OneSignal.config.userConfig.promptOptions)) {\n        let t = f.getPromptOptionsPostHash();\n\n        for (let i of _Object$keys(t)) {\n          e += \"&\" + i + \"=\" + t[i];\n        }\n      }\n\n      return e;\n    }\n\n    static getPromptOptionsPostHash() {\n      let e = f.getFullscreenPermissionMessageOptions(OneSignal.config.userConfig.promptOptions);\n\n      if (e) {\n        var t = {\n          exampleNotificationTitleDesktop: \"exampleNotificationTitle\",\n          exampleNotificationMessageDesktop: \"exampleNotificationMessage\",\n          exampleNotificationTitleMobile: \"exampleNotificationTitle\",\n          exampleNotificationMessageMobile: \"exampleNotificationMessage\"\n        };\n\n        for (let i of _Object$keys(t)) {\n          let n = t[i];\n          e[i] && (e[n] = e[i]);\n        }\n\n        for (var i = [\"autoAcceptTitle\", \"siteName\", \"autoAcceptTitle\", \"subscribeText\", \"showGraphic\", \"actionMessage\", \"exampleNotificationTitle\", \"exampleNotificationMessage\", \"exampleNotificationCaption\", \"acceptButtonText\", \"cancelButtonText\", \"timeout\"], n = {}, r = 0; r < i.length; r++) {\n          var o = i[r],\n              s = e[o],\n              a = encodeURIComponent(s);\n          (s || !1 === s || \"\" === s) && (n[o] = a);\n        }\n      }\n\n      return n;\n    }\n\n    static triggerCustomPromptClicked(e) {\n      r.a.trigger(OneSignal.EVENTS.CUSTOM_PROMPT_CLICKED, {\n        result: e\n      });\n    }\n\n    static getAppId() {\n      return n.a(this, void 0, void 0, function* () {\n        if (OneSignal.config.appId) return _Promise.resolve(OneSignal.config.appId);\n        return yield s.a.get(\"Ids\", \"appId\");\n      });\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return d;\n  });\n  var n = i(11),\n      r = i.n(n),\n      o = i(10),\n      s = i(18),\n      a = i(23),\n      c = i(8);\n\n  class d {\n    constructor() {\n      this.language = o.a.getLanguage(), this.timezone = -60 * new Date().getTimezoneOffset();\n\n      const e = _parseInt(String(r.a.version), 10);\n\n      this.browserVersion = isNaN(e) ? -1 : e, this.deviceModel = navigator.platform, this.sdkVersion = o.a.version().toString(), this.deliveryPlatform = this.getDeliveryPlatform();\n    }\n\n    isSafari() {\n      return r.a.safari && void 0 !== window.safari && void 0 !== window.safari.pushNotification;\n    }\n\n    getDeliveryPlatform() {\n      const e = c.a.redetectBrowserUserAgent();\n      return this.isSafari() ? a.a.Safari : e.firefox ? a.a.Firefox : e.msedge ? a.a.Edge : a.a.ChromeLike;\n    }\n\n    serialize() {\n      const e = {\n        device_type: this.deliveryPlatform,\n        language: this.language,\n        timezone: this.timezone,\n        device_os: this.browserVersion,\n        device_model: this.deviceModel,\n        sdk: this.sdkVersion,\n        notification_types: this.subscriptionState\n      };\n      return this.appId && (e.app_id = this.appId), e;\n    }\n\n    deserialize(e) {\n      throw new s.a();\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n,\n      r,\n      o,\n      s = i(0);\n  !function (e) {\n    e.TypicalSite = \"typical\", e.WordPress = \"wordpress\", e.Shopify = \"shopify\", e.Blogger = \"blogger\", e.Magento = \"magento\", e.Drupal = \"drupal\", e.SquareSpace = \"squarespace\", e.Joomla = \"joomla\", e.Weebly = \"weebly\", e.Wix = \"wix\", e.Custom = \"custom\";\n  }(n || (n = {})), function (e) {\n    e.Exact = \"exact\", e.Origin = \"origin\";\n  }(r || (r = {})), function (e) {\n    e.Navigate = \"navigate\", e.Focus = \"focus\";\n  }(o || (o = {}));\n  var a,\n      c,\n      d = i(4),\n      SdkInitError = i(20),\n      u = i(3),\n      l = i(8),\n      p = i(2),\n      g = i(29);\n  i.d(t, \"a\", function () {\n    return f;\n  }), (c = a || (a = {}))[c.Dashboard = 0] = \"Dashboard\", c[c.JavaScript = 1] = \"JavaScript\";\n\n  class f {\n    static getAppConfig(e, t) {\n      return s.a(this, void 0, void 0, function* () {\n        try {\n          if (!e || !e.appId || !l.b.isValidUuid(e.appId)) throw new SdkInitError.a(SdkInitError.b.InvalidAppId);\n          const i = yield t(e.appId),\n                n = this.getMergedConfig(e, i);\n          return this.checkRestrictedOrigin(n), n;\n        } catch (e) {\n          if (e) {\n            if (1 === e.code) throw new SdkInitError.a(SdkInitError.b.InvalidAppId);\n            if (2 === e.code) throw new SdkInitError.a(SdkInitError.b.AppNotConfiguredForWebPush);\n          }\n\n          throw e;\n        }\n      });\n    }\n\n    static checkRestrictedOrigin(e) {\n      if (e.restrictedOriginEnabled && u.a.getWindowEnv() !== d.a.ServiceWorker && window.top === window && !p.b.contains(window.location.hostname, \".os.tc\") && !p.b.contains(window.location.hostname, \".onesignal.com\") && !this.doesCurrentOriginMatchConfigOrigin(e.origin)) throw new SdkInitError.a(SdkInitError.b.WrongSiteUrl, {\n        siteUrl: e.origin\n      });\n    }\n\n    static doesCurrentOriginMatchConfigOrigin(e) {\n      try {\n        return location.origin === new URL(e).origin;\n      } catch (e) {\n        return !1;\n      }\n    }\n\n    static getIntegrationCapabilities(e) {\n      switch (e) {\n        case n.Custom:\n        case n.WordPress:\n          return {\n            configuration: a.JavaScript\n          };\n\n        default:\n          return {\n            configuration: a.Dashboard\n          };\n      }\n    }\n\n    static getMergedConfig(e, t) {\n      const i = this.getConfigIntegrationKind(t),\n            n = this.getSubdomainForConfigIntegrationKind(i, e, t),\n            r = t.config.setupBehavior ? t.config.setupBehavior.allowLocalhostAsSecureOrigin : e.allowLocalhostAsSecureOrigin,\n            o = l.b.internalIsUsingSubscriptionWorkaround(n, r),\n            s = this.getUserConfigForConfigIntegrationKind(i, e, t, o);\n      return {\n        appId: t.app_id,\n        subdomain: n,\n        origin: t.config.origin,\n        httpUseOneSignalCom: t.config.http_use_onesignal_com,\n        cookieSyncEnabled: t.features.cookie_sync.enable,\n        restrictedOriginEnabled: t.features.restrict_origin && t.features.restrict_origin.enable,\n        metrics: {\n          enable: t.features.metrics.enable,\n          mixpanelReportingToken: t.features.metrics.mixpanel_reporting_token\n        },\n        safariWebId: t.config.safari_web_id,\n        vapidPublicKey: t.config.vapid_public_key,\n        onesignalVapidPublicKey: t.config.onesignal_vapid_public_key,\n        emailAuthRequired: t.features.email && t.features.email.require_auth,\n        userConfig: s,\n        enableOnSession: t.features.enable_on_session || !1,\n        receiveReceiptsEnable: t.features.receive_receipts_enable || !1\n      };\n    }\n\n    static getConfigIntegrationKind(e) {\n      return e.config.integration ? e.config.integration.kind : n.Custom;\n    }\n\n    static getCustomLinkConfig(e) {\n      const t = {\n        enabled: !1,\n        style: \"button\",\n        size: \"medium\",\n        unsubscribeEnabled: !1,\n        text: {\n          explanation: \"\",\n          subscribe: \"\",\n          unsubscribe: \"\"\n        },\n        color: {\n          button: \"\",\n          text: \"\"\n        }\n      };\n      if (!(e && e.config && e.config.staticPrompts && e.config.staticPrompts.customlink && e.config.staticPrompts.customlink.enabled)) return t;\n      const i = e.config.staticPrompts.customlink;\n      return {\n        enabled: i.enabled,\n        style: i.style,\n        size: i.size,\n        unsubscribeEnabled: i.unsubscribeEnabled,\n        text: i.text ? {\n          subscribe: i.text.subscribe,\n          unsubscribe: i.text.unsubscribe,\n          explanation: i.text.explanation\n        } : t.text,\n        color: i.color ? {\n          button: i.color.button,\n          text: i.color.text\n        } : t.color\n      };\n    }\n\n    static injectDefaultsIntoPromptOptions(e, t, i, n = !1) {\n      let r = {\n        enabled: !1\n      };\n      e && e.customlink && (r = e.customlink);\n\n      const o = t.customlink,\n            s = _Object$assign({}, e, {\n        customlink: {\n          enabled: p.b.getValueOrDefault(r.enabled, o.enabled),\n          style: p.b.getValueOrDefault(r.style, o.style),\n          size: p.b.getValueOrDefault(r.size, o.size),\n          unsubscribeEnabled: p.b.getValueOrDefault(r.unsubscribeEnabled, o.unsubscribeEnabled),\n          text: {\n            subscribe: p.b.getValueOrDefault(r.text ? r.text.subscribe : void 0, o.text.subscribe),\n            unsubscribe: p.b.getValueOrDefault(r.text ? r.text.unsubscribe : void 0, o.text.unsubscribe),\n            explanation: p.b.getValueOrDefault(r.text ? r.text.explanation : void 0, o.text.explanation)\n          },\n          color: {\n            button: p.b.getValueOrDefault(r.color ? r.color.button : void 0, o.color.button),\n            text: p.b.getValueOrDefault(r.color ? r.color.text : void 0, o.color.text)\n          }\n        }\n      });\n\n      return s.slidedown ? (s.slidedown.enabled = !!s.slidedown.enabled, s.slidedown.autoPrompt = s.slidedown.hasOwnProperty(\"autoPrompt\") ? !!s.slidedown.enabled && !!s.slidedown.autoPrompt : !!s.slidedown.enabled) : (s.slidedown = g.a.getSlidedownPermissionMessageOptions(s), s.slidedown.enabled = !1, s.slidedown.autoPrompt = !1), s.native ? (s.native.enabled = !!s.native.enabled, s.native.autoPrompt = s.native.hasOwnProperty(\"autoPrompt\") ? !!s.native.enabled && !!s.native.autoPrompt : !!s.native.enabled) : s.native = {\n        enabled: !1,\n        autoPrompt: !1\n      }, !0 === i.autoRegister && (n ? (s.native.enabled = !1, s.native.autoPrompt = !1, s.slidedown.enabled = !0, s.slidedown.autoPrompt = !0) : (s.native.enabled = !0, s.native.autoPrompt = !0)), s.autoPrompt = s.native.autoPrompt || s.slidedown.autoPrompt, s;\n    }\n\n    static getPromptOptionsForDashboardConfiguration(e) {\n      const t = e.config.staticPrompts,\n            i = t.native ? {\n        enabled: t.native.enabled,\n        autoPrompt: t.native.enabled && !1 !== t.native.autoPrompt\n      } : {\n        enabled: !1,\n        autoPrompt: !1\n      },\n            n = {\n        enabled: t.slidedown.enabled,\n        autoPrompt: t.slidedown.enabled && !1 !== t.slidedown.autoPrompt,\n        actionMessage: t.slidedown.actionMessage,\n        acceptButtonText: t.slidedown.acceptButton,\n        cancelButtonText: t.slidedown.cancelButton\n      };\n      return {\n        autoPrompt: i.autoPrompt || n.autoPrompt,\n        native: i,\n        slidedown: n,\n        fullscreen: {\n          enabled: t.fullscreen.enabled,\n          actionMessage: t.fullscreen.actionMessage,\n          acceptButton: t.fullscreen.acceptButton,\n          cancelButton: t.fullscreen.cancelButton,\n          title: t.fullscreen.title,\n          message: t.fullscreen.message,\n          caption: t.fullscreen.caption,\n          autoAcceptTitle: t.fullscreen.autoAcceptTitle\n        },\n        customlink: this.getCustomLinkConfig(e)\n      };\n    }\n\n    static getUserConfigForConfigIntegrationKind(e, t, i, n = !1) {\n      switch (this.getIntegrationCapabilities(e).configuration) {\n        case a.Dashboard:\n          return {\n            appId: i.app_id,\n            autoRegister: !1,\n            autoResubscribe: i.config.autoResubscribe,\n            path: i.config.serviceWorker.path,\n            serviceWorkerPath: i.config.serviceWorker.workerName,\n            serviceWorkerUpdaterPath: i.config.serviceWorker.updaterWorkerName,\n            serviceWorkerParam: {\n              scope: i.config.serviceWorker.registrationScope\n            },\n            subdomainName: i.config.siteInfo.proxyOrigin,\n            promptOptions: this.getPromptOptionsForDashboardConfiguration(i),\n            welcomeNotification: {\n              disable: !i.config.welcomeNotification.enable,\n              title: i.config.welcomeNotification.title,\n              message: i.config.welcomeNotification.message,\n              url: i.config.welcomeNotification.url\n            },\n            notifyButton: {\n              enable: i.config.staticPrompts.bell.enabled,\n              displayPredicate: i.config.staticPrompts.bell.hideWhenSubscribed ? () => OneSignal.isPushNotificationsEnabled().then(e => !e) : null,\n              size: i.config.staticPrompts.bell.size,\n              position: i.config.staticPrompts.bell.location,\n              showCredit: !1,\n              offset: {\n                bottom: i.config.staticPrompts.bell.offset.bottom + \"px\",\n                left: i.config.staticPrompts.bell.offset.left + \"px\",\n                right: i.config.staticPrompts.bell.offset.right + \"px\"\n              },\n              colors: {\n                \"circle.background\": i.config.staticPrompts.bell.color.main,\n                \"circle.foreground\": i.config.staticPrompts.bell.color.accent,\n                \"badge.background\": \"black\",\n                \"badge.foreground\": \"white\",\n                \"badge.bordercolor\": \"black\",\n                \"pulse.color\": i.config.staticPrompts.bell.color.accent,\n                \"dialog.button.background.hovering\": i.config.staticPrompts.bell.color.main,\n                \"dialog.button.background.active\": i.config.staticPrompts.bell.color.main,\n                \"dialog.button.background\": i.config.staticPrompts.bell.color.main,\n                \"dialog.button.foreground\": \"white\"\n              },\n              text: {\n                \"tip.state.unsubscribed\": i.config.staticPrompts.bell.tooltip.unsubscribed,\n                \"tip.state.subscribed\": i.config.staticPrompts.bell.tooltip.subscribed,\n                \"tip.state.blocked\": i.config.staticPrompts.bell.tooltip.blocked,\n                \"message.prenotify\": i.config.staticPrompts.bell.tooltip.unsubscribed,\n                \"message.action.subscribing\": i.config.staticPrompts.bell.message.subscribing,\n                \"message.action.subscribed\": i.config.staticPrompts.bell.message.subscribing,\n                \"message.action.resubscribed\": i.config.staticPrompts.bell.message.subscribing,\n                \"message.action.unsubscribed\": i.config.staticPrompts.bell.message.unsubscribing,\n                \"dialog.main.title\": i.config.staticPrompts.bell.dialog.main.title,\n                \"dialog.main.button.subscribe\": i.config.staticPrompts.bell.dialog.main.subscribeButton,\n                \"dialog.main.button.unsubscribe\": i.config.staticPrompts.bell.dialog.main.unsubscribeButton,\n                \"dialog.blocked.title\": i.config.staticPrompts.bell.dialog.blocked.title,\n                \"dialog.blocked.message\": i.config.staticPrompts.bell.dialog.blocked.message\n              }\n            },\n            persistNotification: i.config.notificationBehavior ? i.config.notificationBehavior.display.persist : void 0,\n            webhooks: {\n              cors: i.config.webhooks.corsEnable,\n              \"notification.displayed\": i.config.webhooks.notificationDisplayedHook,\n              \"notification.clicked\": i.config.webhooks.notificationClickedHook,\n              \"notification.dismissed\": i.config.webhooks.notificationDismissedHook\n            },\n            notificationClickHandlerMatch: i.config.notificationBehavior ? i.config.notificationBehavior.click.match : void 0,\n            notificationClickHandlerAction: i.config.notificationBehavior ? i.config.notificationBehavior.click.action : void 0,\n            allowLocalhostAsSecureOrigin: i.config.setupBehavior ? i.config.setupBehavior.allowLocalhostAsSecureOrigin : void 0,\n            requiresUserPrivacyConsent: t.requiresUserPrivacyConsent\n          };\n\n        case a.JavaScript:\n          const r = _Object$assign({}, t, {\n            promptOptions: this.injectDefaultsIntoPromptOptions(t.promptOptions, i.config.staticPrompts, t, n)\n          }, {\n            serviceWorkerParam: \"undefined\" != typeof OneSignal && OneSignal.SERVICE_WORKER_PARAM ? OneSignal.SERVICE_WORKER_PARAM : {\n              scope: \"/\"\n            },\n            serviceWorkerPath: \"undefined\" != typeof OneSignal && OneSignal.SERVICE_WORKER_PATH ? OneSignal.SERVICE_WORKER_PATH : \"OneSignalSDKWorker.js\",\n            serviceWorkerUpdaterPath: \"undefined\" != typeof OneSignal && OneSignal.SERVICE_WORKER_UPDATER_PATH ? OneSignal.SERVICE_WORKER_UPDATER_PATH : \"OneSignalSDUpdaterKWorker.js\",\n            path: t.path ? t.path : \"/\"\n          });\n\n          return t.hasOwnProperty(\"autoResubscribe\") ? r.autoResubscribe = !!t.autoResubscribe : t.hasOwnProperty(\"autoRegister\") ? r.autoResubscribe = !!t.autoRegister : r.autoResubscribe = !!i.config.autoResubscribe, r;\n      }\n    }\n\n    static getSubdomainForConfigIntegrationKind(e, t, i) {\n      const n = this.getIntegrationCapabilities(e);\n      let r = t.subdomainName,\n          o = \"\";\n\n      switch (n.configuration) {\n        case a.Dashboard:\n          o = i.config.siteInfo.proxyOriginEnabled ? i.config.siteInfo.proxyOrigin : void 0;\n          break;\n\n        case a.JavaScript:\n          o = i.config.subdomain;\n      }\n\n      return o && !this.shouldUseServerConfigSubdomain(r, n) ? void 0 : o;\n    }\n\n    static shouldUseServerConfigSubdomain(e, t) {\n      switch (t.configuration) {\n        case a.Dashboard:\n          return !0;\n\n        case a.JavaScript:\n          switch (location.protocol) {\n            case \"https:\":\n              return !!e;\n\n            case \"http:\":\n              return !0;\n\n            default:\n              return !1;\n          }\n\n      }\n    }\n\n  }\n}, function (e, t) {\n  var i;\n\n  i = function () {\n    return this;\n  }();\n\n  try {\n    i = i || Function(\"return this\")() || (0, eval)(\"this\");\n  } catch (e) {\n    false && (i = window);\n  }\n\n  e.exports = i;\n}, function (e, t, i) {\n  \"use strict\";\n\n  (function (e) {\n    i.d(t, \"a\", function () {\n      return y;\n    });\n    var n = i(0),\n        r = i(11),\n        o = i.n(r),\n        s = i(10),\n        a = i(7),\n        c = i(3),\n        d = i(26),\n        u = i(17),\n        l = i(28),\n        p = i(5),\n        g = i(21),\n        f = i(9),\n        h = i(24),\n        b = i(1),\n        m = i(31),\n        v = i(8),\n        S = i(2);\n\n    class y {\n      static get VERSION() {\n        return s.a.version();\n      }\n\n      static get environment() {\n        return s.a;\n      }\n\n      static get log() {\n        return b.a;\n      }\n\n      static get database() {\n        return p.a;\n      }\n\n      static get browser() {\n        return o.a;\n      }\n\n      static get workerMessenger() {\n        return self.workerMessenger || (self.workerMessenger = new a.a(null)), self.workerMessenger;\n      }\n\n      static run() {\n        self.addEventListener(\"push\", y.onPushReceived), self.addEventListener(\"notificationclose\", y.onNotificationClosed), self.addEventListener(\"notificationclick\", e => e.waitUntil(y.onNotificationClicked(e))), self.addEventListener(\"install\", y.onServiceWorkerInstalled), self.addEventListener(\"activate\", y.onServiceWorkerActivated), self.addEventListener(\"pushsubscriptionchange\", e => {\n          e.waitUntil(y.onPushSubscriptionChange(e));\n        }), b.a.debug(\"Setting up message listeners.\"), y.workerMessenger.listen(), y.setupMessageListeners();\n      }\n\n      static getAppId() {\n        return n.a(this, void 0, void 0, function* () {\n          if (self.location.search) {\n            const e = self.location.search.match(/appId=([0-9a-z-]+)&?/i);\n\n            if (e && e.length > 1) {\n              return e[1];\n            }\n          }\n\n          const {\n            appId: e\n          } = yield p.a.getAppConfig();\n          return e;\n        });\n      }\n\n      static setupMessageListeners() {\n        y.workerMessenger.on(a.b.WorkerVersion, e => {\n          b.a.debug(\"[Service Worker] Received worker version message.\"), y.workerMessenger.broadcast(a.b.WorkerVersion, s.a.version());\n        }), y.workerMessenger.on(a.b.Subscribe, e => n.a(this, void 0, void 0, function* () {\n          const t = e;\n          b.a.debug(\"[Service Worker] Received subscribe message.\");\n          const i = new d.a(t),\n                n = yield i.subscriptionManager.subscribe(0),\n                r = yield i.subscriptionManager.registerSubscription(n);\n          y.workerMessenger.broadcast(a.b.Subscribe, r.serialize());\n        })), y.workerMessenger.on(a.b.SubscribeNew, e => n.a(this, void 0, void 0, function* () {\n          const t = e;\n          b.a.debug(\"[Service Worker] Received subscribe new message.\");\n          const i = new d.a(t),\n                n = yield i.subscriptionManager.subscribe(1),\n                r = yield i.subscriptionManager.registerSubscription(n);\n          y.workerMessenger.broadcast(a.b.SubscribeNew, r.serialize());\n        })), y.workerMessenger.on(a.b.AmpSubscriptionState, e => n.a(this, void 0, void 0, function* () {\n          b.a.debug(\"[Service Worker] Received AMP subscription state message.\");\n          const e = yield self.registration.pushManager.getSubscription();\n\n          if (e) {\n            const t = yield self.registration.pushManager.permissionState(e.options),\n                  {\n              optedOut: i\n            } = yield p.a.getSubscription(),\n                  n = !!e && \"granted\" === t && !0 !== i;\n            y.workerMessenger.broadcast(a.b.AmpSubscriptionState, n);\n          } else y.workerMessenger.broadcast(a.b.AmpSubscriptionState, !1);\n        })), y.workerMessenger.on(a.b.AmpSubscribe, () => n.a(this, void 0, void 0, function* () {\n          b.a.debug(\"[Service Worker] Received AMP subscribe message.\");\n          const e = yield y.getAppId(),\n                t = yield m.a.getAppConfig({\n            appId: e\n          }, l.a.downloadServerAppConfig),\n                i = new d.a(t),\n                n = yield i.subscriptionManager.subscribe(0),\n                r = yield i.subscriptionManager.registerSubscription(n);\n          y.workerMessenger.broadcast(a.b.AmpSubscribe, r.deviceId);\n        })), y.workerMessenger.on(a.b.AmpUnsubscribe, () => n.a(this, void 0, void 0, function* () {\n          b.a.debug(\"[Service Worker] Received AMP unsubscribe message.\");\n          const e = yield y.getAppId(),\n                t = yield m.a.getAppConfig({\n            appId: e\n          }, l.a.downloadServerAppConfig);\n          yield new d.a(t).subscriptionManager.unsubscribe(1), y.workerMessenger.broadcast(a.b.AmpUnsubscribe, null);\n        }));\n      }\n\n      static onPushReceived(e) {\n        b.a.debug(`Called %conPushReceived(${_JSON$stringify(e, null, 4)}):`, S.a.getConsoleStyle(\"code\"), e), e.waitUntil(y.parseOrFetchNotifications(e).then(e => {\n          let t = [];\n\n          for (let i of e) {\n            b.a.debug(\"Raw Notification from OneSignal:\", i);\n            let e = y.buildStructuredNotificationObject(i);\n            t.push((e => y.displayNotification(e).then(() => y.workerMessenger.broadcast(a.b.NotificationDisplayed, e).catch(e => b.a.error(e))).then(() => y.executeWebhooks(\"notification.displayed\", e).then(() => y.sendConfirmedDelivery(e)).catch(e => b.a.error(e)))).bind(null, e));\n          }\n\n          return t.reduce((e, t) => e.then(t), _Promise.resolve());\n        }).catch(e => {\n          b.a.debug(\"Failed to display a notification:\", e), y.UNSUBSCRIBED_FROM_NOTIFICATIONS && b.a.debug(\"Because we have just unsubscribed from notifications, we will not show anything.\");\n        }));\n      }\n\n      static executeWebhooks(e, t) {\n        return n.a(this, void 0, void 0, function* () {\n          const i = yield p.a.get(\"Options\", `webhooks.${e}`);\n          if (!i) return null;\n          const {\n            deviceId: n\n          } = yield p.a.getSubscription(),\n                r = yield p.a.get(\"Options\", \"webhooks.cors\"),\n                o = {\n            event: e,\n            id: t.id,\n            userId: n,\n            action: t.action,\n            buttons: t.buttons,\n            heading: t.heading,\n            content: t.content,\n            url: t.url,\n            icon: t.icon,\n            data: t.data\n          },\n                s = {\n            method: \"post\",\n            mode: \"no-cors\",\n            body: _JSON$stringify(o)\n          };\n          return r && (s.mode = \"cors\", s.headers = {\n            \"X-OneSignal-Event\": e,\n            \"Content-Type\": \"application/json\"\n          }), b.a.debug(`Executing ${e} webhook ${r ? \"with\" : \"without\"} CORS %cPOST ${i}`, S.a.getConsoleStyle(\"code\"), \":\", o), yield fetch(i, s);\n        });\n      }\n\n      static sendConfirmedDelivery(e) {\n        return n.a(this, void 0, void 0, function* () {\n          if (!e) return null;\n          if (\"y\" !== e.rr) return null;\n          const t = yield y.getAppId(),\n                {\n            deviceId: i\n          } = yield p.a.getSubscription();\n          if (!!(!t || !e.id)) return null;\n          const n = {\n            player_id: i,\n            app_id: t\n          };\n          return b.a.debug(`Called %csendConfirmedDelivery(${_JSON$stringify(e, null, 4)})`, S.a.getConsoleStyle(\"code\")), yield u.b.put(`notifications/${e.id}/report_received`, n);\n        });\n      }\n\n      static getActiveClients() {\n        return n.a(this, void 0, void 0, function* () {\n          const e = yield self.clients.matchAll({\n            type: \"window\",\n            includeUncontrolled: !0\n          }),\n                t = [];\n\n          for (const i of e) {\n            if (i.frameType && \"nested\" === i.frameType) {\n              if (!S.a.contains(i.url, c.a.getOneSignalApiUrl().host) && !S.a.contains(i.url, \".os.tc\")) continue;\n              i.isSubdomainIframe = !0;\n            }\n\n            t.push(i);\n          }\n\n          return t;\n        });\n      }\n\n      static buildStructuredNotificationObject(e) {\n        let t = {\n          id: e.custom.i,\n          heading: e.title,\n          content: e.alert,\n          data: e.custom.a,\n          url: e.custom.u,\n          rr: e.custom.rr,\n          icon: e.icon,\n          image: e.image,\n          tag: e.tag,\n          badge: e.badge,\n          vibrate: e.vibrate\n        };\n\n        if (e.o) {\n          t.buttons = [];\n\n          for (let i of e.o) t.buttons.push({\n            action: i.i,\n            title: i.n,\n            icon: i.p,\n            url: i.u\n          });\n        }\n\n        return S.a.trimUndefined(t);\n      }\n\n      static ensureImageResourceHttps(e) {\n        if (!e) return null;\n\n        try {\n          let t = new URL(e);\n          return \"localhost\" === t.hostname || -1 !== t.hostname.indexOf(\"192.168\") || \"127.0.0.1\" === t.hostname || \"https:\" === t.protocol ? e : \"i0.wp.com\" === t.hostname || \"i1.wp.com\" === t.hostname || \"i2.wp.com\" === t.hostname || \"i3.wp.com\" === t.hostname ? `https://${t.hostname}${t.pathname}` : `https://i0.wp.com/${t.host + t.pathname}`;\n        } catch (e) {}\n      }\n\n      static ensureNotificationResourcesHttps(e) {\n        if (e && (e.icon && (e.icon = y.ensureImageResourceHttps(e.icon)), e.image && (e.image = y.ensureImageResourceHttps(e.image)), e.buttons && e.buttons.length > 0)) for (let t of e.buttons) t.icon && (t.icon = y.ensureImageResourceHttps(t.icon));\n      }\n\n      static displayNotification(e, t) {\n        return n.a(this, void 0, void 0, function* () {\n          b.a.debug(`Called %cdisplayNotification(${_JSON$stringify(e, null, 4)}):`, S.a.getConsoleStyle(\"code\"), e);\n          const i = yield y._getTitle(),\n                n = yield p.a.get(\"Options\", \"defaultIcon\"),\n                r = yield p.a.get(\"Options\", \"persistNotification\"),\n                o = yield y.getAppId();\n          e.heading = e.heading ? e.heading : i, e.icon = e.icon ? e.icon : n || void 0;\n          const s = {};\n          s.tag = e.tag || o, s.persistNotification = !1 !== r, t || (t = {}), e = _Object$assign({}, e, t), y.ensureNotificationResourcesHttps(e);\n          let a = {\n            body: e.content,\n            icon: e.icon,\n            image: e.image,\n            data: e,\n            actions: e.buttons,\n            tag: s.tag,\n            requireInteraction: s.persistNotification,\n            renotify: !0,\n            badge: e.badge,\n            vibrate: e.vibrate\n          };\n          return a = y.fixPlatformSpecificDisplayIssues(a), self.registration.showNotification(e.heading, a);\n        });\n      }\n\n      static fixPlatformSpecificDisplayIssues(e) {\n        const t = _Object$assign({}, e),\n              i = v.a.redetectBrowserUserAgent();\n\n        return i.chrome && i.mac && S.a.isVersionAtLeast(i.osversion, 10.15) ? t.requireInteraction = !1 : i.opera && i.mac && S.a.isVersionAtLeast(i.osversion, 10.14) && (t.requireInteraction = !1), t;\n      }\n\n      static shouldOpenNotificationUrl(e) {\n        return \"javascript:void(0);\" !== e && \"do_not_open\" !== e && !S.a.contains(e, \"_osp=do_not_open\");\n      }\n\n      static onNotificationClosed(e) {\n        b.a.debug(`Called %conNotificationClosed(${_JSON$stringify(e, null, 4)}):`, S.a.getConsoleStyle(\"code\"), e);\n        let t = e.notification.data;\n        y.workerMessenger.broadcast(a.b.NotificationDismissed, t).catch(e => b.a.error(e)), e.waitUntil(y.executeWebhooks(\"notification.dismissed\", t));\n      }\n\n      static getNotificationUrlToOpen(e) {\n        return n.a(this, void 0, void 0, function* () {\n          let t = self.registration.scope;\n          const {\n            defaultNotificationUrl: i\n          } = yield p.a.getAppState();\n          if (i && (t = i), e.action) for (let i of e.buttons) i.action === e.action && i.url && \"\" !== i.url && (t = i.url);else e.url && \"\" !== e.url && (t = e.url);\n          return t;\n        });\n      }\n\n      static onNotificationClicked(e) {\n        return n.a(this, void 0, void 0, function* () {\n          b.a.debug(`Called %conNotificationClicked(${_JSON$stringify(e, null, 4)}):`, S.a.getConsoleStyle(\"code\"), e), e.notification.close();\n          const t = e.notification.data;\n          e.action && (t.action = e.action);\n          let i = \"exact\",\n              n = \"navigate\";\n          const r = yield p.a.get(\"Options\", \"notificationClickHandlerMatch\");\n          r && (i = r);\n          const o = yield this.database.get(\"Options\", \"notificationClickHandlerAction\");\n          o && (n = o);\n          const s = yield y.getActiveClients(),\n                c = yield y.getNotificationUrlToOpen(t),\n                d = y.shouldOpenNotificationUrl(c),\n                {\n            appId: u\n          } = yield p.a.getAppConfig(),\n                {\n            deviceId: l\n          } = yield p.a.getSubscription(),\n                g = y.sendConvertedAPIRequests(u, l, t);\n          let f = !1;\n\n          for (const e of s) {\n            let r = e.url;\n\n            if (e.isSubdomainIframe) {\n              const e = yield p.a.get(\"Options\", \"lastKnownHostUrl\");\n              r = e, e || (r = yield p.a.get(\"Options\", \"defaultUrl\"));\n            }\n\n            let o = \"\";\n\n            try {\n              o = new URL(r).origin;\n            } catch (e) {\n              b.a.error(\"Failed to get the HTTP site's actual origin:\", e);\n            }\n\n            let s = null;\n\n            try {\n              s = new URL(c).origin;\n            } catch (e) {}\n\n            if (\"exact\" === i && r === c || \"origin\" === i && o === s) {\n              if (e.isSubdomainIframe && r === c || !e.isSubdomainIframe && e.url === c || \"focus\" === n && o === s) {\n                y.workerMessenger.unicast(a.b.NotificationClicked, t, e);\n\n                try {\n                  e instanceof WindowClient && (yield e.focus());\n                } catch (t) {\n                  b.a.error(\"Failed to focus:\", e, t);\n                }\n              } else if (e.isSubdomainIframe) {\n                try {\n                  b.a.debug(\"Client is subdomain iFrame. Attempting to focus() client.\"), e instanceof WindowClient && (yield e.focus());\n                } catch (t) {\n                  b.a.error(\"Failed to focus:\", e, t);\n                }\n\n                d ? (b.a.debug(`Redirecting HTTP site to ${c}.`), yield p.a.put(\"NotificationOpened\", {\n                  url: c,\n                  data: t,\n                  timestamp: _Date$now()\n                }), y.workerMessenger.unicast(a.b.RedirectPage, c, e)) : b.a.debug(\"Not navigating because link is special.\");\n              } else if (e instanceof WindowClient && e.navigate) {\n                try {\n                  b.a.debug(\"Client is standard HTTPS site. Attempting to focus() client.\"), e instanceof WindowClient && (yield e.focus());\n                } catch (t) {\n                  b.a.error(\"Failed to focus:\", e, t);\n                }\n\n                try {\n                  d ? (b.a.debug(`Redirecting HTTPS site to (${c}).`), yield p.a.put(\"NotificationOpened\", {\n                    url: c,\n                    data: t,\n                    timestamp: _Date$now()\n                  }), yield e.navigate(c)) : b.a.debug(\"Not navigating because link is special.\");\n                } catch (t) {\n                  b.a.error(\"Failed to navigate:\", e, c, t);\n                }\n              } else yield p.a.put(\"NotificationOpened\", {\n                url: c,\n                data: t,\n                timestamp: _Date$now()\n              }), yield y.openUrl(c);\n\n              f = !0;\n              break;\n            }\n          }\n\n          return d && !f && (yield p.a.put(\"NotificationOpened\", {\n            url: c,\n            data: t,\n            timestamp: _Date$now()\n          }), yield y.openUrl(c)), yield g;\n        });\n      }\n\n      static sendConvertedAPIRequests(e, t, i) {\n        return n.a(this, void 0, void 0, function* () {\n          if (!i.id) return void console.error(\"No notification id, skipping networks calls to report open!\");\n          let n;\n          e ? n = u.b.put(`notifications/${i.id}`, {\n            app_id: e,\n            player_id: t,\n            opened: !0\n          }) : console.error(\"No app Id, skipping OneSignal API call for notification open!\"), yield y.executeWebhooks(\"notification.clicked\", i), n && (yield n);\n        });\n      }\n\n      static openUrl(e) {\n        return n.a(this, void 0, void 0, function* () {\n          b.a.debug(\"Opening notification URL:\", e);\n\n          try {\n            return yield self.clients.openWindow(e);\n          } catch (t) {\n            return b.a.warn(`Failed to open the URL '${e}':`, t), null;\n          }\n        });\n      }\n\n      static onServiceWorkerInstalled(e) {\n        e.waitUntil(self.skipWaiting());\n      }\n\n      static onServiceWorkerActivated(e) {\n        b.a.info(`%cOneSignal Service Worker activated (version ${s.a.version()}, ${c.a.getWindowEnv().toString()} environment).`, S.a.getConsoleStyle(\"bold\")), e.waitUntil(self.clients.claim());\n      }\n\n      static onPushSubscriptionChange(e) {\n        return n.a(this, void 0, void 0, function* () {\n          b.a.debug(`Called %conPushSubscriptionChange(${_JSON$stringify(e, null, 4)}):`, S.a.getConsoleStyle(\"code\"), e);\n          const t = yield y.getAppId();\n          if (!t) return;\n          const i = yield m.a.getAppConfig({\n            appId: t\n          }, l.a.downloadServerAppConfig);\n          if (!i) return;\n          const n = new d.a(i);\n          let r, o;\n          {\n            let {\n              deviceId: i\n            } = yield p.a.getSubscription();\n\n            if (!(r = !!i) && e.oldSubscription) {\n              i = yield l.a.getUserIdFromSubscriptionIdentifier(t, h.a.prototype.getDeliveryPlatform(), e.oldSubscription.endpoint);\n              const n = yield p.a.getSubscription();\n              n.deviceId = i, yield p.a.setSubscription(n);\n            }\n\n            r = !!i;\n          }\n          const s = e.newSubscription;\n          if (s) o = g.a.setFromW3cSubscription(s);else try {\n            o = yield n.subscriptionManager.subscribe(1);\n          } catch (e) {}\n\n          if (r || !!o) {\n            let e = null;\n            \"granted\" !== Notification.permission ? e = f.a.PermissionRevoked : o || (e = f.a.PushSubscriptionRevoked), yield n.subscriptionManager.registerSubscription(o, e);\n          } else yield p.a.remove(\"Ids\", \"userId\"), yield p.a.remove(\"Ids\", \"registrationId\");\n        });\n      }\n\n      static _getTitle() {\n        return new _Promise(e => {\n          _Promise.all([p.a.get(\"Options\", \"defaultTitle\"), p.a.get(\"Options\", \"pageTitle\")]).then(([t, i]) => {\n            e(null !== t ? t : null != i ? i : \"\");\n          });\n        });\n      }\n\n      static parseOrFetchNotifications(e) {\n        if (!e || !e.data) return _Promise.reject(\"Missing event.data on push payload!\");\n        return y.isValidPushPayload(e.data) ? (b.a.debug(\"Received a valid encrypted push payload.\"), _Promise.resolve([e.data.json()])) : _Promise.reject(`Unexpected push message payload received: ${e.data}`);\n      }\n\n      static isValidPushPayload(e) {\n        try {\n          const t = e.json();\n          return !!(t && t.custom && t.custom.i && v.a.isValidUuid(t.custom.i)) || (b.a.debug(\"isValidPushPayload: Valid JSON but missing notification UUID:\", t), !1);\n        } catch (e) {\n          return b.a.debug(\"isValidPushPayload: Parsing to JSON failed with:\", e), !1;\n        }\n      }\n\n    }\n\n    \"undefined\" == typeof self && void 0 !== e ? e.OneSignalWorker = y : self.OneSignalWorker = y, \"undefined\" != typeof self && y.run();\n  }).call(this, i(32));\n}, function (e, t) {\n  e.exports = function () {\n    throw new Error(\"define cannot be used indirect\");\n  };\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.r(t);\n  var n = i(33);\n  self.OneSignal = n.a;\n}]);","map":{"version":3,"sources":["/Users/raheemmcdonald/Desktop/cxcspanish/assets/js/onesignal1.js"],"names":["e","t","i","n","exports","r","l","call","m","c","d","o","configurable","enumerable","get","value","__esModule","default","Object","prototype","hasOwnProperty","p","s","Array","next","a","throw","done","then","apply","shouldLog","window","localStorage","getItem","toLowerCase","setLevel","setItem","proxyMethodsCreated","createProxyMethods","log","trace","info","warn","error","console","bind","constructor","message","contains","indexOf","getConsoleStyle","trimUndefined","capitalize","charAt","toUpperCase","slice","stringify","encodeHashAsUriComponent","encodeURIComponent","timeoutPromise","setTimeout","race","getValueOrDefault","padStart","length","parseVersionString","toString","split","Number","isVersionAtLeast","enforceAppId","Error","enforcePlayerId","b","Development","Staging","Production","InvalidArgumentError","u","g","getBuildEnv","getApiEnv","getIntegration","isSafari","Secure","top","location","protocol","OneSignal","context","appConfig","Empty","subdomain","SecureProxy","isLocalhostAllowedAsSecureOrigin","hostname","InsecureProxy","isFrameContextInsecure","navigator","serviceWorker","getRegistration","isInsecureOrigin","getWindowEnv","self","ServiceWorkerGlobalScope","ServiceWorker","Unknown","href","pathname","search","endsWith","OneSignalSubscriptionPopup","Host","OneSignalProxyFrame","OneSignalSubscriptionModal","CustomIframe","getTestEnv","None","getBuildEnvPrefix","EnumOutOfRange","getOneSignalApiUrl","URL","host","getOneSignalResourceUrlPath","getOneSignalCssFileName","_events","on","push","once","off","arguments","listener","splice","removeAllListeners","listeners","numberOfListeners","emit","shift","databaseName","emitter","open","indexedDB","onerror","onDatabaseOpenError","onblocked","onDatabaseOpenBlocked","onupgradeneeded","onDatabaseUpgradeNeeded","onsuccess","database","result","onDatabaseError","onversionchange","onDatabaseVersionChange","ensureDatabaseOpen","openLock","preventDefault","target","debug","errorCode","createObjectStore","keyPath","_isNewVisitor","transaction","objectStore","openCursor","key","continue","put","remove","serialize","deviceId","subscriptionToken","optedOut","createdAt","expirationTime","deserialize","emailId","emailAddress","emailAuthHash","f","h","v","SET","resetInstance","databaseInstance","singletonInstance","databaseInstanceName","applyDbResultFilter","id","data","timestamp","isUsingSubscriptionWorkaround","proxyFrameHost","POSTMAM_COMMANDS","REMOTE_DATABASE_GET","table","REMOTE_DATABASE_PUT","keypath","REMOTE_OPERATION_COMPLETE","EVENTS","REMOTE_DATABASE_REMOVE","getAppConfig","appId","vapidPublicKey","emailAuthRequired","getExternalUserId","setExternalUserId","type","setAppConfig","httpUseOneSignalCom","getAppState","defaultNotificationUrl","defaultNotificationTitle","lastKnownPushEnabled","clickedNotifications","setAppState","url","getServiceWorkerState","workerVersion","updaterWorkerVersion","setServiceWorkerState","getSubscription","setSubscription","getEmailProfile","setEmailProfile","setProvideUserConsent","getProvideUserConsent","rebuild","all","getServiceWorkerHref","WorkerA","workerBPath","getFullPath","WorkerB","ThirdParty","workerAPath","Bypassed","UnsupportedEnvironment","getBaseUrl","Installing","Indeterminate","WorkerVersion","Subscribe","SubscribeNew","AmpSubscriptionState","AmpSubscribe","AmpUnsubscribe","NotificationDisplayed","NotificationClicked","NotificationDismissed","RedirectPage","replies","addListener","callback","onceListenerOnly","findListenersForMessage","deleteListenerRecords","deleteAllListenerRecords","deleteListenerRecord","broadcast","clients","matchAll","includeUncontrolled","postMessage","command","payload","unicast","isWorkerControllingPage","registration","waitUntilWorkerControlsPage","controller","listen","supportsServiceWorkers","addEventListener","onWorkerMessageReceivedFromPage","listenForPage","origin","onPageMessageReceivedFromServiceWorker","active","serviceWorkerManager","getActiveState","config","userConfig","allowLocalhostAsSecureOrigin","safari","internalIsUsingSubscriptionWorkaround","redetectBrowserUserAgent","name","version","_detect","userAgent","isValidUuid","test","getRandomUuid","crypto","msCrypto","replace","getRandomValues","Uint8Array","Math","random","logMethodCall","map","join","Default","Subscribed","MutedByApi","NotSubscribed","TemporaryWebRecord","PermissionRevoked","PushSubscriptionRevoked","ServiceWorkerStatus403","ServiceWorkerStatus404","isBrowser","TRADITIONAL_CHINESE_LANGUAGE_TAG","SIMPLIFIED_CHINESE_LANGUAGE_TAG","getLanguage","language","substring","getSdkStylesVersionHash","__SRC_STYLESHEETS_MD5_HASH__","match","S","y","w","P","O","opera","samsungBrowser","coast","yandexbrowser","ucbrowser","maxthon","epiphany","puffin","sleipnir","kMeleon","windowsphone","msedge","msie","chromeos","chromeBook","chrome","vivaldi","sailfish","seamonkey","firefox","firefoxos","silk","phantom","slimer","blackberry","webos","touchpad","bada","tizen","qupzilla","chromium","googlebot","blink","webkit","gecko","mac","xbox","windows","linux","ios","android","k","osversion","I","tablet","mobile","x","max","reverse","String","isUnsupportedBrowser","compareVersions","check","Granted","Denied","writable","captureStackTrace","stack","Malformed","argument","reason","HttpsPermissionRequest","FullscreenHttpPermissionMessage","FullscreenHttpsPermissionMessage","SlidedownPermissionMessage","SubscriptionBell","MissingAppId","RedundantPermissionMessage","PushPermissionAlreadyGranted","MissingDomElement","ServiceWorkerNotActivated","NoProxyFrame","permissionPromptType","description","post","delete","reject","app_id","Headers","append","method","headers","cache","body","fetch","status","json","identifyError","errors","notificationPermissionChange","subscriptionChange","customPromptClick","trigger","SDK_INITIALIZED","initialized","_triggerLegacy","opener","parent","subscriptionPopup","REMOTE_RETRIGGER_EVENT","eventName","eventData","proxyFrame","retriggerRemoteEvent","CustomEvent","bubbles","cancelable","detail","dispatchEvent","SdkInitError","InvalidAppId","AppNotConfiguredForWebPush","MissingSubdomain","WrongSiteUrl","MultipleInitialization","MissingSafariWebId","siteUrl","isNewSubscription","existingW3cPushSubscription","w3cEndpoint","w3cP256dh","w3cAuth","existingSafariDeviceToken","safariDeviceToken","setFromW3cSubscription","endpoint","getKey","btoa","fromCharCode","setFromSafariSubscription","existingPushSubscription","ChromeLike","Safari","Firefox","Edge","Email","subscription","identifier","web_auth","web_p256","createFromPushSubscription","subscriptionState","UnitTesting","incrementedPageViewCount","getPageViewCount","sessionStorage","SESSION_STORAGE_KEY_NAME","isNaN","setPageViewCount","SET_SESSION_COUNT","incrementPageViewCount","simulatePageNavigationOrRefresh","isFirstPageView","getIsOptedOut","getIsPushNotificationsEnabled","setIsOptedOut","setIsPushNotificationsEnabled","setStoredPermission","STORED_PERMISSION_KEY","getStoredPermission","getNotificationPermission","getReportedNotificationPermission","isPermissionEnvironmentAmbiguous","getInterpretedAmbiguousPermission","getSafariNotificationPermission","getOneSignalSubdomainNotificationPermission","getW3cNotificationPermission","pushNotification","permission","Notification","REMOTE_NOTIFICATION_PERMISSION","safariWebId","isCurrentFrameContextCrossOrigin","updateStoredPermission","path","trim","getQueryString","getWithoutQueryString","QUERY_STRING","getFileName","pop","getFileNameWithQuery","getPathWithoutFileName","lastIndexOf","statusText","E","A","runCommand","SERVICE_WORKER_STATE","installing","activeSwFileName","swActiveStateByFileName","scriptURL","URLSearchParams","getWorkerVersion","GET_WORKER_VERSION","NaN","workerMessenger","shouldInstallWorker","permissionManager","workerNeedsUpdate","installWorker","installAlternatingWorker","establishServiceWorkerChannel","NOTIFICATION_DISPLAYED","messenger","GET_EVENT_LISTENER_COUNT","NOTIFICATION_CLICKED","SERVICEWORKER_COMMAND_REDIRECT","NOTIFICATION_DISMISSED","register","scope","registrationOptions","N","W","T","C","email","pushDeviceRecordId","deliveryPlatform","email_auth_hash","device_player_id","M","_","getPlayer","updatePlayer","sendNotification","contents","include_player_ids","isAnyWeb","web_buttons","headings","chrome_web_icon","firefox_icon","createUser","success","createEmailRecord","updateEmailRecord","logoutEmail","parent_player_id","updateUserSession","D","R","U","F","B","InvalidStateError","Blocked","Dismissed","L","V","$","InvalidSafariSetup","H","j","z","subscribe","subscribeFcmFromWorker","privateGetNotificationPermission","subscribeSafari","subscribeFcmFromPage","registerSubscription","isAlreadyRegisteredWithOneSignal","updateManager","sendPlayerUpdate","sendPlayerCreate","associateSubscriptionWithEmail","REGISTERED","_sessionInitAlreadyRunning","requestPresubscribeNotificationPermission","requestNotificationPermission","unsubscribe","notification_types","requestPermission","subscribeSafariPromptPermission","deviceToken","PERMISSION_PROMPT_DISPLAYED","triggerNotificationPermissionChanged","_isRegisteringForPush","subscriptionManager","registerFailedSubscription","ready","subscribeWithVapidKey","pushManager","permissionState","userVisibleOnly","getVapidKeyForBrowser","onesignalVapidPublicKey","repeat","atob","charCodeAt","buffer","options","doPushUnsubscribe","doPushSubscribe","updateSubscriptionTime","Date","getTime","applicationServerKey","isSubscriptionExpiring","isSubscriptionExpiringForSecureIntegration","SUBSCRIPTION_EXPIRATION_STATE","getSubscriptionState","getSubscriptionStateForSecure","subscribed","GET_SUBSCRIPTION_STATE","getSubscriptionStateForInsecure","sessionManager","K","G","q","getServiceWorkerManager","serviceWorkerPath","serviceWorkerUpdaterPath","serviceWorkerParam","getSubscriptionManager","NoDeviceId","NoEmailSet","OptedOut","J","Y","Q","onSessionSent","getDeviceId","createDeviceRecord","getCurrentNotificationType","sendOnSessionUpdate","enableOnSession","onSessionAlreadyCalled","sendExternalUserIdUpdate","external_user_id","X","NATIVE_PROMPT_PERMISSIONCHANGED","to","downloadServerAppConfig","getUserIdFromSubscriptionIdentifier","device_type","catch","isLocalStorageSupported","JSON","parse","removeItem","privateIsPushNotificationsEnabled","getNotificationTypeFromOptIn","wasHttpsNativePromptDismissed","markHttpPopoverShown","isHttpPromptAlreadyShown","checkAndTriggerNotificationPermissionChanged","getNotificationIcons","getAppId","getSlidedownPermissionMessageOptions","slidedown","enabled","autoPrompt","actionMessage","acceptButtonText","cancelButtonText","getFullscreenPermissionMessageOptions","fullscreen","autoAcceptTitle","exampleNotificationTitleDesktop","title","exampleNotificationTitleMobile","exampleNotificationMessageDesktop","exampleNotificationMessageMobile","exampleNotificationCaption","caption","acceptButton","cancelButton","getPromptOptionsQueryString","promptOptions","getPromptOptionsPostHash","triggerCustomPromptClicked","CUSTOM_PROMPT_CLICKED","resolve","timezone","getTimezoneOffset","browserVersion","deviceModel","platform","sdkVersion","getDeliveryPlatform","device_os","device_model","sdk","TypicalSite","WordPress","Shopify","Blogger","Magento","Drupal","SquareSpace","Joomla","Weebly","Wix","Custom","Exact","Origin","Navigate","Focus","Dashboard","JavaScript","getMergedConfig","checkRestrictedOrigin","code","restrictedOriginEnabled","doesCurrentOriginMatchConfigOrigin","getIntegrationCapabilities","configuration","getConfigIntegrationKind","getSubdomainForConfigIntegrationKind","setupBehavior","getUserConfigForConfigIntegrationKind","http_use_onesignal_com","cookieSyncEnabled","features","cookie_sync","enable","restrict_origin","metrics","mixpanelReportingToken","mixpanel_reporting_token","safari_web_id","vapid_public_key","onesignal_vapid_public_key","require_auth","enable_on_session","receiveReceiptsEnable","receive_receipts_enable","integration","kind","getCustomLinkConfig","style","size","unsubscribeEnabled","text","explanation","color","button","staticPrompts","customlink","injectDefaultsIntoPromptOptions","native","autoRegister","getPromptOptionsForDashboardConfiguration","autoResubscribe","workerName","updaterWorkerName","registrationScope","subdomainName","siteInfo","proxyOrigin","welcomeNotification","disable","notifyButton","bell","displayPredicate","hideWhenSubscribed","isPushNotificationsEnabled","position","showCredit","offset","bottom","left","right","colors","main","accent","tooltip","unsubscribed","blocked","subscribing","unsubscribing","dialog","subscribeButton","unsubscribeButton","persistNotification","notificationBehavior","display","persist","webhooks","cors","corsEnable","notificationDisplayedHook","notificationClickedHook","notificationDismissedHook","notificationClickHandlerMatch","click","notificationClickHandlerAction","action","requiresUserPrivacyConsent","SERVICE_WORKER_PARAM","SERVICE_WORKER_PATH","SERVICE_WORKER_UPDATER_PATH","proxyOriginEnabled","shouldUseServerConfigSubdomain","Function","eval","VERSION","environment","browser","run","onPushReceived","onNotificationClosed","waitUntil","onNotificationClicked","onServiceWorkerInstalled","onServiceWorkerActivated","onPushSubscriptionChange","setupMessageListeners","parseOrFetchNotifications","buildStructuredNotificationObject","displayNotification","executeWebhooks","sendConfirmedDelivery","reduce","UNSUBSCRIBED_FROM_NOTIFICATIONS","event","userId","buttons","heading","content","icon","mode","rr","player_id","getActiveClients","frameType","isSubdomainIframe","custom","alert","image","tag","badge","vibrate","ensureImageResourceHttps","ensureNotificationResourcesHttps","_getTitle","actions","requireInteraction","renotify","fixPlatformSpecificDisplayIssues","showNotification","shouldOpenNotificationUrl","notification","getNotificationUrlToOpen","close","sendConvertedAPIRequests","WindowClient","focus","navigate","openUrl","opened","openWindow","skipWaiting","claim","oldSubscription","newSubscription","isValidPushPayload","OneSignalWorker"],"mappings":"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","sourcesContent":["!(function(e) {\n  var t = {};\n  function i(n) {\n    if (t[n]) return t[n].exports;\n    var r = (t[n] = { i: n, l: !1, exports: {} });\n    return e[n].call(r.exports, r, r.exports, i), (r.l = !0), r.exports;\n  }\n  (i.m = e),\n    (i.c = t),\n    (i.d = function(e, t, n) {\n      i.o(e, t) ||\n        Object.defineProperty(e, t, {\n          configurable: !1,\n          enumerable: !0,\n          get: n\n        });\n    }),\n    (i.r = function(e) {\n      Object.defineProperty(e, \"__esModule\", { value: !0 });\n    }),\n    (i.n = function(e) {\n      var t =\n        e && e.__esModule\n          ? function() {\n              return e.default;\n            }\n          : function() {\n              return e;\n            };\n      return i.d(t, \"a\", t), t;\n    }),\n    (i.o = function(e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }),\n    (i.p = \"\"),\n    i((i.s = 35));\n})([\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return n;\n    });\n    Object.setPrototypeOf || Array;\n    Object.assign;\n    function n(e, t, i, n) {\n      return new (i || (i = Promise))(function(r, o) {\n        function s(e) {\n          try {\n            c(n.next(e));\n          } catch (e) {\n            o(e);\n          }\n        }\n        function a(e) {\n          try {\n            c(n.throw(e));\n          } catch (e) {\n            o(e);\n          }\n        }\n        function c(e) {\n          e.done\n            ? r(e.value)\n            : new i(function(t) {\n                t(e.value);\n              }).then(s, a);\n        }\n        c((n = n.apply(e, t || [])).next());\n      });\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return n;\n    });\n    class n {\n      static shouldLog() {\n        try {\n          if (\"undefined\" == typeof window || void 0 === window.localStorage)\n            return !1;\n          const e = window.localStorage.getItem(\"loglevel\");\n          return !(!e || \"trace\" !== e.toLowerCase());\n        } catch (e) {\n          return !1;\n        }\n      }\n      static setLevel(e) {\n        if (\"undefined\" != typeof window && void 0 !== window.localStorage)\n          try {\n            window.localStorage.setItem(\"loglevel\", e),\n              (n.proxyMethodsCreated = void 0),\n              n.createProxyMethods();\n          } catch (e) {\n            return;\n          }\n      }\n      static createProxyMethods() {\n        if (void 0 !== n.proxyMethodsCreated) return;\n        n.proxyMethodsCreated = !0;\n        const e = {\n          log: \"debug\",\n          trace: \"trace\",\n          info: \"info\",\n          warn: \"warn\",\n          error: \"error\"\n        };\n        for (const t of Object.keys(e)) {\n          const i = void 0 !== console[t],\n            r = e[t],\n            o = i && (n.shouldLog() || \"error\" === r);\n          n[r] = o ? console[t].bind(console) : function() {};\n        }\n      }\n    }\n    n.createProxyMethods();\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n = i(13);\n    class r extends n.a {\n      constructor(e = \"The asynchronous operation has timed out.\") {\n        super(e), (this.message = e), Object.setPrototypeOf(this, r.prototype);\n      }\n    }\n    i.d(t, \"a\", function() {\n      return o;\n    });\n    class o {\n      static contains(e, t) {\n        return !!e && -1 !== e.indexOf(t);\n      }\n      static getConsoleStyle(e) {\n        return \"code\" == e\n          ? 'padding: 0 1px 1px 5px;border: 1px solid #ddd;border-radius: 3px;font-family: Monaco,\"DejaVu Sans Mono\",\"Courier New\",monospace;color: #444;'\n          : \"bold\" == e\n          ? \"font-weight: 600;color: rgb(51, 51, 51);\"\n          : \"alert\" == e\n          ? \"font-weight: 600;color: red;\"\n          : \"event\" == e\n          ? \"color: green;\"\n          : \"postmessage\" == e\n          ? \"color: orange;\"\n          : \"serviceworkermessage\" == e\n          ? \"color: purple;\"\n          : \"\";\n      }\n      static trimUndefined(e) {\n        for (var t in e) e.hasOwnProperty(t) && void 0 === e[t] && delete e[t];\n        return e;\n      }\n      static capitalize(e) {\n        return e.charAt(0).toUpperCase() + e.slice(1);\n      }\n      static stringify(e) {\n        return JSON.stringify(\n          e,\n          (e, t) => (\"function\" == typeof t ? \"[Function]\" : t),\n          4\n        );\n      }\n      static encodeHashAsUriComponent(e) {\n        let t = \"\";\n        const i = Object.keys(e);\n        for (var n of i) {\n          const i = e[n];\n          t += `${encodeURIComponent(n)}=${encodeURIComponent(i)}`;\n        }\n        return t;\n      }\n      static timeoutPromise(e, t) {\n        const i = new Promise((e, i) => {\n          setTimeout(() => {\n            i(new r());\n          }, t);\n        });\n        return Promise.race([e, i]);\n      }\n      static getValueOrDefault(e, t) {\n        return void 0 !== e && null !== e ? e : t;\n      }\n      static padStart(e, t, i) {\n        let n = e;\n        for (; n.length < t; ) n = i + n;\n        return n;\n      }\n      static parseVersionString(e) {\n        const t = e.toString().split(\".\"),\n          i = o.padStart(t[0], 2, \"0\");\n        let n;\n        return (\n          (n = t[1] ? o.padStart(t[1], 2, \"0\") : \"00\"), Number(`${i}.${n}`)\n        );\n      }\n      static isVersionAtLeast(e, t) {\n        return this.parseVersionString(e) >= t;\n      }\n      static enforceAppId(e) {\n        if (!e) throw new Error(\"App id cannot be empty\");\n      }\n      static enforcePlayerId(e) {\n        if (!e) throw new Error(\"Player id cannot be empty\");\n      }\n    }\n    t.b = o;\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n,\n      r = i(0);\n    !(function(e) {\n      (e.Development = \"Development\"),\n        (e.Staging = \"Staging\"),\n        (e.Production = \"Production\");\n    })(n || (n = {}));\n    var o = i(25),\n      s = i(4),\n      InvalidArgumentError = i(14),\n      a = i(15),\n      c = i(6),\n      d = i(10),\n      u = i(8);\n    i.d(t, \"a\", function() {\n      return g;\n    });\n    const l = 4e3,\n      p = 3001;\n    class g {\n      static getBuildEnv() {\n        return n.Production;\n      }\n      static getApiEnv() {\n        return n.Production;\n      }\n      static getIntegration(e) {\n        return r.a(this, void 0, void 0, function*() {\n          if (d.a.isSafari()) return a.a.Secure;\n          const t = window === window.top,\n            i = \"https:\" === window.location.protocol;\n          if (void 0 === e) {\n            if (\n              \"undefined\" == typeof OneSignal ||\n              !OneSignal.context ||\n              !OneSignal.context.appConfig\n            )\n              throw new InvalidArgumentError.a(\n                \"usingProxyOrigin\",\n                InvalidArgumentError.b.Empty\n              );\n            e = !!OneSignal.context.appConfig.subdomain;\n          }\n          if (t)\n            return i\n              ? e\n                ? a.a.SecureProxy\n                : a.a.Secure\n              : !u.b.isLocalhostAllowedAsSecureOrigin() ||\n                (\"localhost\" !== location.hostname &&\n                  \"127.0.0.1\" !== location.hostname)\n              ? a.a.InsecureProxy\n              : a.a.Secure;\n          if (i) {\n            return (yield g.isFrameContextInsecure())\n              ? a.a.InsecureProxy\n              : e\n              ? a.a.SecureProxy\n              : a.a.Secure;\n          }\n          return a.a.InsecureProxy;\n        });\n      }\n      static isFrameContextInsecure() {\n        return r.a(this, void 0, void 0, function*() {\n          if (\n            window === window.top ||\n            !(\"serviceWorker\" in navigator) ||\n            void 0 === navigator.serviceWorker.getRegistration\n          )\n            return !1;\n          return !(yield c.b.getRegistration());\n        });\n      }\n      static isInsecureOrigin() {\n        return \"http:\" === window.location.protocol;\n      }\n      static getWindowEnv() {\n        return \"undefined\" == typeof window\n          ? \"undefined\" != typeof self &&\n            \"undefined\" != typeof ServiceWorkerGlobalScope\n            ? s.a.ServiceWorker\n            : s.a.Unknown\n          : window === window.top\n          ? -1 !== location.href.indexOf(\"initOneSignal\") ||\n            (\"/subscribe\" === location.pathname &&\n              \"\" === location.search &&\n              (location.hostname.endsWith(\".onesignal.com\") ||\n                location.hostname.endsWith(\".os.tc\") ||\n                (-1 !== location.hostname.indexOf(\".localhost\") &&\n                  g.getBuildEnv() === n.Development)))\n            ? s.a.OneSignalSubscriptionPopup\n            : s.a.Host\n          : \"/webPushIframe\" === location.pathname\n          ? s.a.OneSignalProxyFrame\n          : \"/webPushModal\" === location.pathname\n          ? s.a.OneSignalSubscriptionModal\n          : s.a.CustomIframe;\n      }\n      static getTestEnv() {\n        return o.a.None;\n      }\n      static getBuildEnvPrefix(e = g.getBuildEnv()) {\n        switch (e) {\n          case n.Development:\n            return \"Dev-\";\n          case n.Staging:\n            return \"Staging-\";\n          case n.Production:\n            return \"\";\n          default:\n            throw new InvalidArgumentError.a(\n              \"buildEnv\",\n              InvalidArgumentError.b.EnumOutOfRange\n            );\n        }\n      }\n      static getOneSignalApiUrl(e = g.getApiEnv()) {\n        switch (e) {\n          case n.Development:\n            return new URL(`https://localhost:${p}/api/v1`);\n          case n.Staging:\n            return new URL(`https://${window.location.host}/api/v1`);\n          case n.Production:\n            return new URL(\"https://onesignal.com/api/v1\");\n          default:\n            throw new InvalidArgumentError.a(\n              \"buildEnv\",\n              InvalidArgumentError.b.EnumOutOfRange\n            );\n        }\n      }\n      static getOneSignalResourceUrlPath(e = g.getBuildEnv()) {\n        let t;\n        const i = l;\n        switch (e) {\n          case n.Development:\n            t = `http://localhost:${i}`;\n            break;\n          case n.Staging:\n            t = `https://${window.location.host}`;\n            break;\n          case n.Production:\n            t = \"https://onesignal.com\";\n            break;\n          default:\n            throw new InvalidArgumentError.a(\n              \"buildEnv\",\n              InvalidArgumentError.b.EnumOutOfRange\n            );\n        }\n        return new URL(`${t}/sdks`);\n      }\n      static getOneSignalCssFileName(e = g.getBuildEnv()) {\n        switch (e) {\n          case n.Development:\n            return \"Dev-OneSignalSDKStyles.css\";\n          case n.Staging:\n            return \"Staging-OneSignalSDKStyles.css\";\n          case n.Production:\n            return \"OneSignalSDKStyles.css\";\n          default:\n            throw new InvalidArgumentError.a(\n              \"buildEnv\",\n              InvalidArgumentError.b.EnumOutOfRange\n            );\n        }\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n;\n    i.d(t, \"a\", function() {\n      return n;\n    }),\n      (function(e) {\n        (e.ServiceWorker = \"ServiceWorker\"),\n          (e.Host = \"Host\"),\n          (e.OneSignalSubscriptionPopup = \"Popup\"),\n          (e.OneSignalSubscriptionModal = \"Modal\"),\n          (e.OneSignalProxyFrame = \"ProxyFrame\"),\n          (e.CustomIframe = \"CustomFrame\"),\n          (e.Unknown = \"Unknown\");\n      })(n || (n = {}));\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n = i(0);\n    class r {\n      constructor() {\n        this._events = {};\n      }\n      on(e, t) {\n        return (\n          (this._events[e] = this._events[e] || []),\n          this._events[e].push(t),\n          this\n        );\n      }\n      once(e, t) {\n        const i = this;\n        function n() {\n          i.off(e, n), t.apply(this, arguments);\n        }\n        return (n.listener = t), this.on(e, n), this;\n      }\n      off(e, t) {\n        const i = this._events[e];\n        if (void 0 !== i) {\n          for (let e = 0; e < i.length; e += 1)\n            if (i[e] === t || i[e].listener === t) {\n              i.splice(e, 1);\n              break;\n            }\n          0 === i.length && this.removeAllListeners(e);\n        }\n        return this;\n      }\n      removeAllListeners(e) {\n        try {\n          e ? delete this._events[e] : (this._events = {});\n        } catch (e) {}\n        return this;\n      }\n      listeners(e) {\n        try {\n          return this._events[e];\n        } catch (e) {\n          return;\n        }\n      }\n      numberOfListeners(e) {\n        const t = this.listeners(e);\n        return t ? t.length : 0;\n      }\n      emit(...e) {\n        return n.a(this, void 0, void 0, function*() {\n          const t = e.shift();\n          let i = this._events[t];\n          if (void 0 !== i) {\n            const t = (i = i.slice(0)).length;\n            for (let n = 0; n < t; n += 1) yield i[n].apply(this, e);\n          }\n          return this;\n        });\n      }\n    }\n    var o = i(1),\n      s = i(2);\n    class a {\n      constructor(e) {\n        (this.databaseName = e), (this.emitter = new r());\n      }\n      open(e) {\n        return new Promise(t => {\n          try {\n            var i = indexedDB.open(e, 1);\n          } catch (e) {}\n          if (!i) return null;\n          (i.onerror = this.onDatabaseOpenError),\n            (i.onblocked = this.onDatabaseOpenBlocked),\n            (i.onupgradeneeded = this.onDatabaseUpgradeNeeded),\n            (i.onsuccess = () => {\n              (this.database = i.result),\n                (this.database.onerror = this.onDatabaseError),\n                (this.database.onversionchange = this.onDatabaseVersionChange),\n                t(this.database);\n            });\n        });\n      }\n      ensureDatabaseOpen() {\n        return n.a(this, void 0, void 0, function*() {\n          return (\n            this.openLock || (this.openLock = this.open(this.databaseName)),\n            yield this.openLock,\n            this.database\n          );\n        });\n      }\n      onDatabaseOpenError(e) {\n        e.preventDefault();\n        const t = e.target.error;\n        s.b.contains(\n          t.message,\n          \"The operation failed for reasons unrelated to the database itself and not covered by any other error code\"\n        ) ||\n        s.b.contains(\n          t.message,\n          \"A mutation operation was attempted on a database that did not allow mutations\"\n        )\n          ? o.a.warn(\n              \"OneSignal: IndexedDb web storage is not available on this origin since this profile's IndexedDb schema has been upgraded in a newer version of Firefox. See: https://bugzilla.mozilla.org/show_bug.cgi?id=1236557#c6\"\n            )\n          : o.a.warn(\"OneSignal: Fatal error opening IndexedDb database:\", t);\n      }\n      onDatabaseError(e) {\n        o.a.debug(\"IndexedDb: Generic database error\", e.target.errorCode);\n      }\n      onDatabaseOpenBlocked() {\n        o.a.debug(\"IndexedDb: Blocked event\");\n      }\n      onDatabaseVersionChange(e) {\n        o.a.debug(\"IndexedDb: versionchange event\");\n      }\n      onDatabaseUpgradeNeeded(e) {\n        o.a.debug(\n          \"IndexedDb: Database is being rebuilt or upgraded (upgradeneeded event).\"\n        );\n        const t = e.target.result;\n        t.createObjectStore(\"Ids\", { keyPath: \"type\" }),\n          t.createObjectStore(\"NotificationOpened\", { keyPath: \"url\" }),\n          t.createObjectStore(\"Options\", { keyPath: \"key\" }),\n          \"undefined\" != typeof OneSignal && (OneSignal._isNewVisitor = !0);\n      }\n      get(e, t) {\n        return n.a(this, void 0, void 0, function*() {\n          return (\n            yield this.ensureDatabaseOpen(),\n            t\n              ? yield new Promise((i, n) => {\n                  var r = this.database\n                    .transaction(e)\n                    .objectStore(e)\n                    .get(t);\n                  (r.onsuccess = () => {\n                    i(r.result);\n                  }),\n                    (r.onerror = () => {\n                      n(r.error);\n                    });\n                })\n              : yield new Promise((t, i) => {\n                  let n = {},\n                    r = this.database\n                      .transaction(e)\n                      .objectStore(e)\n                      .openCursor();\n                  (r.onsuccess = e => {\n                    var i = e.target.result;\n                    if (i) {\n                      let e = i.key;\n                      (n[e] = i.value), i.continue();\n                    } else t(n);\n                  }),\n                    (r.onerror = () => {\n                      i(r.error);\n                    });\n                })\n          );\n        });\n      }\n      put(e, t) {\n        return n.a(this, void 0, void 0, function*() {\n          return (\n            yield this.ensureDatabaseOpen(),\n            yield new Promise((i, n) => {\n              try {\n                let r = this.database\n                  .transaction([e], \"readwrite\")\n                  .objectStore(e)\n                  .put(t);\n                (r.onsuccess = () => {\n                  i(t);\n                }),\n                  (r.onerror = e => {\n                    o.a.error(\"Database PUT Transaction Error:\", e), n(e);\n                  });\n              } catch (e) {\n                o.a.error(\"Database PUT Error:\", e), n(e);\n              }\n            })\n          );\n        });\n      }\n      remove(e, t) {\n        if (t) var i = \"delete\";\n        else i = \"clear\";\n        return new Promise((n, r) => {\n          try {\n            let s = this.database\n              .transaction([e], \"readwrite\")\n              .objectStore(e)\n              [i](t);\n            (s.onsuccess = () => {\n              n(t);\n            }),\n              (s.onerror = e => {\n                o.a.error(\"Database REMOVE Transaction Error:\", e), r(e);\n              });\n          } catch (e) {\n            o.a.error(\"Database REMOVE Error:\", e), r(e);\n          }\n        });\n      }\n    }\n    class c {}\n    class d {}\n    class u {\n      serialize() {\n        return {\n          deviceId: this.deviceId,\n          subscriptionToken: this.subscriptionToken,\n          optedOut: this.optedOut,\n          createdAt: this.createdAt,\n          expirationTime: this.expirationTime\n        };\n      }\n      static deserialize(e) {\n        const t = new u();\n        return (\n          (t.deviceId = e.deviceId),\n          (t.subscriptionToken = e.subscriptionToken),\n          (t.optedOut = e.optedOut),\n          (t.createdAt = e.createdAt),\n          (t.expirationTime = e.expirationTime),\n          t\n        );\n      }\n    }\n    var l = i(25),\n      p = i(4);\n    class g {\n      constructor(e, t, i) {\n        (this.emailId = e), (this.emailAddress = t), (this.emailAuthHash = i);\n      }\n      serialize() {\n        return {\n          emailAddress: this.emailAddress,\n          emailAuthHash: this.emailAuthHash,\n          emailId: this.emailId\n        };\n      }\n      static deserialize(e) {\n        return new g(e.emailId, e.emailAddress, e.emailAuthHash);\n      }\n    }\n    var f,\n      h,\n      b = i(3),\n      m = i(8);\n    i.d(t, \"a\", function() {\n      return v;\n    }),\n      ((h = f || (f = {}))[(h.SET = 0)] = \"SET\");\n    class v {\n      constructor(e) {\n        (this.databaseName = e),\n          (this.emitter = new r()),\n          (this.database = new a(this.databaseName));\n      }\n      static resetInstance() {\n        v.databaseInstance = null;\n      }\n      static get singletonInstance() {\n        return (\n          v.databaseInstanceName ||\n            (v.databaseInstanceName = \"ONE_SIGNAL_SDK_DB\"),\n          v.databaseInstance ||\n            (v.databaseInstance = new v(v.databaseInstanceName)),\n          v.databaseInstance\n        );\n      }\n      static applyDbResultFilter(e, t, i) {\n        switch (e) {\n          case \"Options\":\n            return i && t ? i.value : i && !t ? i : null;\n          case \"Ids\":\n            return i && t ? i.id : i && !t ? i : null;\n          case \"NotificationOpened\":\n            return i && t\n              ? { data: i.data, timestamp: i.timestamp }\n              : i && !t\n              ? i\n              : null;\n          default:\n            return i || null;\n        }\n      }\n      get(e, t) {\n        return n.a(this, void 0, void 0, function*() {\n          if (\n            b.a.getWindowEnv() !== p.a.ServiceWorker &&\n            m.b.isUsingSubscriptionWorkaround() &&\n            b.a.getTestEnv() === l.a.None\n          )\n            return yield new Promise(i =>\n              n.a(this, void 0, void 0, function*() {\n                OneSignal.proxyFrameHost.message(\n                  OneSignal.POSTMAM_COMMANDS.REMOTE_DATABASE_GET,\n                  [{ table: e, key: t }],\n                  e => {\n                    let t = e.data[0];\n                    i(t);\n                  }\n                );\n              })\n            );\n          {\n            const i = yield this.database.get(e, t);\n            return v.applyDbResultFilter(e, t, i);\n          }\n        });\n      }\n      put(e, t) {\n        return n.a(this, void 0, void 0, function*() {\n          yield new Promise((i, r) =>\n            n.a(this, void 0, void 0, function*() {\n              b.a.getWindowEnv() !== p.a.ServiceWorker &&\n              m.b.isUsingSubscriptionWorkaround() &&\n              b.a.getTestEnv() === l.a.None\n                ? OneSignal.proxyFrameHost.message(\n                    OneSignal.POSTMAM_COMMANDS.REMOTE_DATABASE_PUT,\n                    [{ table: e, keypath: t }],\n                    n => {\n                      n.data ===\n                      OneSignal.POSTMAM_COMMANDS.REMOTE_OPERATION_COMPLETE\n                        ? i()\n                        : r(\n                            `(Database) Attempted remote IndexedDB put(${e}, ${t}), but did not get success response.`\n                          );\n                    }\n                  )\n                : (yield this.database.put(e, t), i());\n            })\n          ),\n            this.emitter.emit(v.EVENTS.SET, t);\n        });\n      }\n      remove(e, t) {\n        return b.a.getWindowEnv() !== p.a.ServiceWorker &&\n          m.b.isUsingSubscriptionWorkaround() &&\n          b.a.getTestEnv() === l.a.None\n          ? new Promise((i, n) => {\n              OneSignal.proxyFrameHost.message(\n                OneSignal.POSTMAM_COMMANDS.REMOTE_DATABASE_REMOVE,\n                [{ table: e, keypath: t }],\n                r => {\n                  r.data ===\n                  OneSignal.POSTMAM_COMMANDS.REMOTE_OPERATION_COMPLETE\n                    ? i()\n                    : n(\n                        `(Database) Attempted remote IndexedDB remove(${e}, ${t}), but did not get success response.`\n                      );\n                }\n              );\n            })\n          : this.database.remove(e, t);\n      }\n      getAppConfig() {\n        return n.a(this, void 0, void 0, function*() {\n          const e = {},\n            t = yield this.get(\"Ids\", \"appId\");\n          return (\n            (e.appId = t),\n            (e.subdomain = yield this.get(\"Options\", \"subdomain\")),\n            (e.vapidPublicKey = yield this.get(\"Options\", \"vapidPublicKey\")),\n            (e.emailAuthRequired = yield this.get(\n              \"Options\",\n              \"emailAuthRequired\"\n            )),\n            e\n          );\n        });\n      }\n      getExternalUserId() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield this.get(\"Ids\", \"externalUserId\");\n        });\n      }\n      setExternalUserId(e) {\n        return n.a(this, void 0, void 0, function*() {\n          const t = s.b.getValueOrDefault(e, \"\");\n          \"\" === t\n            ? yield this.remove(\"Ids\", \"externalUserId\")\n            : yield this.put(\"Ids\", { type: \"externalUserId\", id: t });\n        });\n      }\n      setAppConfig(e) {\n        return n.a(this, void 0, void 0, function*() {\n          e.appId && (yield this.put(\"Ids\", { type: \"appId\", id: e.appId })),\n            e.subdomain &&\n              (yield this.put(\"Options\", {\n                key: \"subdomain\",\n                value: e.subdomain\n              })),\n            !0 === e.httpUseOneSignalCom\n              ? yield this.put(\"Options\", {\n                  key: \"httpUseOneSignalCom\",\n                  value: !0\n                })\n              : !1 === e.httpUseOneSignalCom &&\n                (yield this.put(\"Options\", {\n                  key: \"httpUseOneSignalCom\",\n                  value: !1\n                })),\n            !0 === e.emailAuthRequired\n              ? yield this.put(\"Options\", {\n                  key: \"emailAuthRequired\",\n                  value: !0\n                })\n              : !1 === e.emailAuthRequired &&\n                (yield this.put(\"Options\", {\n                  key: \"emailAuthRequired\",\n                  value: !1\n                })),\n            e.vapidPublicKey &&\n              (yield this.put(\"Options\", {\n                key: \"vapidPublicKey\",\n                value: e.vapidPublicKey\n              }));\n        });\n      }\n      getAppState() {\n        return n.a(this, void 0, void 0, function*() {\n          const e = new c();\n          return (\n            (e.defaultNotificationUrl = yield this.get(\n              \"Options\",\n              \"defaultUrl\"\n            )),\n            (e.defaultNotificationTitle = yield this.get(\n              \"Options\",\n              \"defaultTitle\"\n            )),\n            (e.lastKnownPushEnabled = yield this.get(\n              \"Options\",\n              \"isPushEnabled\"\n            )),\n            (e.clickedNotifications = yield this.get(\"NotificationOpened\")),\n            e\n          );\n        });\n      }\n      setAppState(e) {\n        return n.a(this, void 0, void 0, function*() {\n          if (\n            (e.defaultNotificationUrl &&\n              (yield this.put(\"Options\", {\n                key: \"defaultUrl\",\n                value: e.defaultNotificationUrl\n              })),\n            (e.defaultNotificationTitle || \"\" === e.defaultNotificationTitle) &&\n              (yield this.put(\"Options\", {\n                key: \"defaultTitle\",\n                value: e.defaultNotificationTitle\n              })),\n            null != e.lastKnownPushEnabled &&\n              (yield this.put(\"Options\", {\n                key: \"isPushEnabled\",\n                value: e.lastKnownPushEnabled\n              })),\n            e.clickedNotifications)\n          ) {\n            const t = Object.keys(e.clickedNotifications);\n            for (let i of t) {\n              const t = e.clickedNotifications[i];\n              t\n                ? yield this.put(\"NotificationOpened\", {\n                    url: i,\n                    data: t.data,\n                    timestamp: t.timestamp\n                  })\n                : null === t && (yield this.remove(\"NotificationOpened\", i));\n            }\n          }\n        });\n      }\n      getServiceWorkerState() {\n        return n.a(this, void 0, void 0, function*() {\n          const e = new d();\n          return (\n            (e.workerVersion = yield this.get(\n              \"Ids\",\n              \"WORKER1_ONE_SIGNAL_SW_VERSION\"\n            )),\n            (e.updaterWorkerVersion = yield this.get(\n              \"Ids\",\n              \"WORKER2_ONE_SIGNAL_SW_VERSION\"\n            )),\n            e\n          );\n        });\n      }\n      setServiceWorkerState(e) {\n        return n.a(this, void 0, void 0, function*() {\n          e.workerVersion &&\n            (yield this.put(\"Ids\", {\n              type: \"WORKER1_ONE_SIGNAL_SW_VERSION\",\n              id: e.workerVersion\n            })),\n            e.updaterWorkerVersion &&\n              (yield this.put(\"Ids\", {\n                type: \"WORKER2_ONE_SIGNAL_SW_VERSION\",\n                id: e.updaterWorkerVersion\n              }));\n        });\n      }\n      getSubscription() {\n        return n.a(this, void 0, void 0, function*() {\n          const e = new u();\n          (e.deviceId = yield this.get(\"Ids\", \"userId\")),\n            (e.subscriptionToken = yield this.get(\"Ids\", \"registrationId\"));\n          const t = yield this.get(\"Options\", \"optedOut\"),\n            i = yield this.get(\"Options\", \"subscription\"),\n            n = yield this.get(\"Options\", \"subscriptionCreatedAt\"),\n            r = yield this.get(\"Options\", \"subscriptionExpirationTime\");\n          return (\n            (e.optedOut = null != t ? t : null != i && !i),\n            (e.createdAt = n),\n            (e.expirationTime = r),\n            e\n          );\n        });\n      }\n      setSubscription(e) {\n        return n.a(this, void 0, void 0, function*() {\n          e.deviceId &&\n            (yield this.put(\"Ids\", { type: \"userId\", id: e.deviceId })),\n            void 0 !== e.subscriptionToken &&\n              (yield this.put(\"Ids\", {\n                type: \"registrationId\",\n                id: e.subscriptionToken\n              })),\n            null != e.optedOut &&\n              (yield this.put(\"Options\", {\n                key: \"optedOut\",\n                value: e.optedOut\n              })),\n            null != e.createdAt &&\n              (yield this.put(\"Options\", {\n                key: \"subscriptionCreatedAt\",\n                value: e.createdAt\n              })),\n            null != e.expirationTime\n              ? yield this.put(\"Options\", {\n                  key: \"subscriptionExpirationTime\",\n                  value: e.expirationTime\n                })\n              : yield this.remove(\"Options\", \"subscriptionExpirationTime\");\n        });\n      }\n      getEmailProfile() {\n        return n.a(this, void 0, void 0, function*() {\n          const e = yield this.get(\"Ids\", \"emailProfile\");\n          return e ? g.deserialize(e) : new g();\n        });\n      }\n      setEmailProfile(e) {\n        return n.a(this, void 0, void 0, function*() {\n          e &&\n            (yield this.put(\"Ids\", {\n              type: \"emailProfile\",\n              id: e.serialize()\n            }));\n        });\n      }\n      setProvideUserConsent(e) {\n        return n.a(this, void 0, void 0, function*() {\n          yield this.put(\"Options\", { key: \"userConsent\", value: e });\n        });\n      }\n      getProvideUserConsent() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield this.get(\"Options\", \"userConsent\");\n        });\n      }\n      static rebuild() {\n        return n.a(this, void 0, void 0, function*() {\n          return Promise.all([\n            v.singletonInstance.remove(\"Ids\"),\n            v.singletonInstance.remove(\"NotificationOpened\"),\n            v.singletonInstance.remove(\"Options\")\n          ]);\n        });\n      }\n      static on(...e) {\n        return n.a(this, void 0, void 0, function*() {\n          return v.singletonInstance.emitter.on.apply(\n            v.singletonInstance.emitter,\n            e\n          );\n        });\n      }\n      static setEmailProfile(e) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.setEmailProfile(e);\n        });\n      }\n      static getEmailProfile() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.getEmailProfile();\n        });\n      }\n      static setSubscription(e) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.setSubscription(e);\n        });\n      }\n      static getSubscription() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.getSubscription();\n        });\n      }\n      static setProvideUserConsent(e) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.setProvideUserConsent(e);\n        });\n      }\n      static getProvideUserConsent() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.getProvideUserConsent();\n        });\n      }\n      static setServiceWorkerState(e) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.setServiceWorkerState(e);\n        });\n      }\n      static getServiceWorkerState() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.getServiceWorkerState();\n        });\n      }\n      static setAppState(e) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.setAppState(e);\n        });\n      }\n      static getAppState() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.getAppState();\n        });\n      }\n      static setAppConfig(e) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.setAppConfig(e);\n        });\n      }\n      static getAppConfig() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.getAppConfig();\n        });\n      }\n      static getExternalUserId() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.getExternalUserId();\n        });\n      }\n      static setExternalUserId(e) {\n        return n.a(this, void 0, void 0, function*() {\n          yield v.singletonInstance.setExternalUserId(e);\n        });\n      }\n      static remove(e, t) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.remove(e, t);\n        });\n      }\n      static put(e, t) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.put(e, t);\n        });\n      }\n      static get(e, t) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.get(e, t);\n        });\n      }\n    }\n    v.EVENTS = f;\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"b\", function() {\n      return c;\n    }),\n      i.d(t, \"a\", function() {\n        return n;\n      });\n    var n,\n      r = i(0),\n      o = i(1),\n      s = i(16),\n      a = i(8);\n    class c {\n      static getRegistration() {\n        return r.a(this, void 0, void 0, function*() {\n          try {\n            return yield navigator.serviceWorker.getRegistration(location.href);\n          } catch (e) {\n            return (\n              o.a.warn(\n                \"[Service Worker Status] Error Checking service worker registration\",\n                location.href,\n                e\n              ),\n              null\n            );\n          }\n        });\n      }\n      static getServiceWorkerHref(e, t) {\n        let i = \"\";\n        if (e === n.WorkerA) i = t.workerBPath.getFullPath();\n        else if (e === n.WorkerB || e === n.ThirdParty || e === n.None)\n          i = t.workerAPath.getFullPath();\n        else if (e === n.Bypassed) throw new s.a(s.b.UnsupportedEnvironment);\n        return new URL(i, a.a.getBaseUrl()).href;\n      }\n    }\n    !(function(e) {\n      (e.WorkerA = \"Worker A (Main)\"),\n        (e.WorkerB = \"Worker B (Updater)\"),\n        (e.ThirdParty = \"3rd Party\"),\n        (e.Installing = \"Installing\"),\n        (e.None = \"None\"),\n        (e.Bypassed = \"Bypassed\"),\n        (e.Indeterminate = \"Indeterminate\");\n    })(n || (n = {}));\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"b\", function() {\n      return n;\n    }),\n      i.d(t, \"a\", function() {\n        return p;\n      });\n    var n,\n      r = i(0),\n      o = i(14),\n      s = i(3),\n      a = i(6),\n      c = i(4),\n      d = i(10),\n      u = i(1);\n    !(function(e) {\n      (e.WorkerVersion = \"GetWorkerVersion\"),\n        (e.Subscribe = \"Subscribe\"),\n        (e.SubscribeNew = \"SubscribeNew\"),\n        (e.AmpSubscriptionState = \"amp-web-push-subscription-state\"),\n        (e.AmpSubscribe = \"amp-web-push-subscribe\"),\n        (e.AmpUnsubscribe = \"amp-web-push-unsubscribe\"),\n        (e.NotificationDisplayed = \"notification.displayed\"),\n        (e.NotificationClicked = \"notification.clicked\"),\n        (e.NotificationDismissed = \"notification.dismissed\"),\n        (e.RedirectPage = \"command.redirect\");\n    })(n || (n = {}));\n    class l {\n      constructor() {\n        this.replies = {};\n      }\n      addListener(e, t, i) {\n        const n = { callback: t, onceListenerOnly: i },\n          r = this.replies[e.toString()];\n        r ? r.push(n) : (this.replies[e.toString()] = [n]);\n      }\n      findListenersForMessage(e) {\n        return this.replies[e.toString()] || [];\n      }\n      deleteListenerRecords(e) {\n        this.replies[e.toString()] = null;\n      }\n      deleteAllListenerRecords() {\n        this.replies = {};\n      }\n      deleteListenerRecord(e, t) {\n        const i = this.replies[e.toString()];\n        if (null != i)\n          for (let e = i.length - 1; e >= 0; e--) {\n            i[e] === t && i.splice(e, 1);\n          }\n      }\n    }\n    class p {\n      constructor(e, t = new l()) {\n        (this.context = e), (this.replies = t);\n      }\n      broadcast(e, t) {\n        return r.a(this, void 0, void 0, function*() {\n          if (s.a.getWindowEnv() !== c.a.ServiceWorker) return;\n          const i = yield self.clients.matchAll({\n            type: \"window\",\n            includeUncontrolled: !0\n          });\n          for (const n of i)\n            u.a.debug(\n              `[Worker Messenger] [SW -> Page] Broadcasting '${e.toString()}' to window client ${\n                n.url\n              }.`\n            ),\n              n.postMessage({ command: e, payload: t });\n        });\n      }\n      unicast(e, t, i) {\n        return r.a(this, void 0, void 0, function*() {\n          if (s.a.getWindowEnv() === c.a.ServiceWorker) {\n            if (!i) throw new o.a(\"windowClient\", o.b.Empty);\n            u.a.debug(\n              `[Worker Messenger] [SW -> Page] Unicasting '${e.toString()}' to window client ${\n                i.url\n              }.`\n            ),\n              i.postMessage({ command: e, payload: t });\n          } else (yield this.isWorkerControllingPage()) || u.a.debug(\"[Worker Messenger] The page is not controlled by the service worker yet. Waiting...\", self.registration), yield this.waitUntilWorkerControlsPage(), u.a.debug(`[Worker Messenger] [Page -> SW] Unicasting '${e.toString()}' to service worker.`), navigator.serviceWorker.controller.postMessage({ command: e, payload: t });\n        });\n      }\n      listen(e) {\n        return r.a(this, void 0, void 0, function*() {\n          if (!d.a.supportsServiceWorkers()) return;\n          s.a.getWindowEnv() === c.a.ServiceWorker\n            ? (self.addEventListener(\n                \"message\",\n                this.onWorkerMessageReceivedFromPage.bind(this)\n              ),\n              u.a.debug(\n                \"[Worker Messenger] Service worker is now listening for messages.\"\n              ))\n            : yield this.listenForPage(e);\n        });\n      }\n      listenForPage(e) {\n        return r.a(this, void 0, void 0, function*() {\n          e ||\n            ((yield this.isWorkerControllingPage()) ||\n              u.a.debug(\n                `(${location.origin}) [Worker Messenger] The page is not controlled by the service worker yet. Waiting...`,\n                self.registration\n              ),\n            yield this.waitUntilWorkerControlsPage(),\n            u.a.debug(\n              `(${location.origin}) [Worker Messenger] The page is now controlled by the service worker.`\n            )),\n            navigator.serviceWorker.addEventListener(\n              \"message\",\n              this.onPageMessageReceivedFromServiceWorker.bind(this)\n            ),\n            u.a.debug(\n              `(${location.origin}) [Worker Messenger] Page is now listening for messages.`\n            );\n        });\n      }\n      onWorkerMessageReceivedFromPage(e) {\n        const t = e.data;\n        if (!t || !t.command) return;\n        const i = this.replies.findListenersForMessage(t.command),\n          n = [],\n          r = [];\n        u.a.debug(\n          \"[Worker Messenger] Service worker received message:\",\n          e.data\n        );\n        for (let e of i) e.onceListenerOnly && n.push(e), r.push(e);\n        for (let e = n.length - 1; e >= 0; e--) {\n          const i = n[e];\n          this.replies.deleteListenerRecord(t.command, i);\n        }\n        for (let e of r) e.callback.apply(null, [t.payload]);\n      }\n      onPageMessageReceivedFromServiceWorker(e) {\n        const t = e.data;\n        if (!t || !t.command) return;\n        const i = this.replies.findListenersForMessage(t.command),\n          n = [],\n          r = [];\n        u.a.debug(\"[Worker Messenger] Page received message:\", e.data);\n        for (let e of i) e.onceListenerOnly && n.push(e), r.push(e);\n        for (let e = n.length - 1; e >= 0; e--) {\n          const i = n[e];\n          this.replies.deleteListenerRecord(t.command, i);\n        }\n        for (let e of r) e.callback.apply(null, [t.payload]);\n      }\n      on(e, t) {\n        this.replies.addListener(e, t, !1);\n      }\n      once(e, t) {\n        this.replies.addListener(e, t, !0);\n      }\n      off(e) {\n        e\n          ? this.replies.deleteListenerRecords(e)\n          : this.replies.deleteAllListenerRecords();\n      }\n      isWorkerControllingPage() {\n        return r.a(this, void 0, void 0, function*() {\n          if (s.a.getWindowEnv() === c.a.ServiceWorker)\n            return !!self.registration.active;\n          {\n            const e = yield this.context.serviceWorkerManager.getActiveState();\n            return e === a.a.WorkerA || e === a.a.WorkerB;\n          }\n        });\n      }\n      waitUntilWorkerControlsPage() {\n        return r.a(this, void 0, void 0, function*() {\n          return new Promise(e =>\n            r.a(this, void 0, void 0, function*() {\n              if (yield this.isWorkerControllingPage()) e();\n              else {\n                s.a.getWindowEnv() === c.a.ServiceWorker\n                  ? self.addEventListener(\"activate\", t =>\n                      r.a(this, void 0, void 0, function*() {\n                        (yield this.isWorkerControllingPage()) && e();\n                      })\n                    )\n                  : navigator.serviceWorker.addEventListener(\n                      \"controllerchange\",\n                      t =>\n                        r.a(this, void 0, void 0, function*() {\n                          (yield this.isWorkerControllingPage()) && e();\n                        })\n                    );\n              }\n            })\n          );\n        });\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    (function(e) {\n      i.d(t, \"a\", function() {\n        return d;\n      });\n      var n = i(11),\n        r = i.n(n),\n        o = i(3),\n        s = i(4),\n        a = i(1),\n        c = i(2);\n      class d {\n        static getBaseUrl() {\n          return location.origin;\n        }\n        static isLocalhostAllowedAsSecureOrigin() {\n          return (\n            OneSignal.config &&\n            OneSignal.config.userConfig &&\n            !0 === OneSignal.config.userConfig.allowLocalhostAsSecureOrigin\n          );\n        }\n        static isUsingSubscriptionWorkaround() {\n          const e = o.a.getWindowEnv();\n          if (!OneSignal.config)\n            throw new Error(\n              `(${e.toString()}) isUsingSubscriptionWorkaround() cannot be called until OneSignal.config exists.`\n            );\n          if (r.a.safari) return !1;\n          const t = this.isLocalhostAllowedAsSecureOrigin();\n          return d.internalIsUsingSubscriptionWorkaround(\n            OneSignal.config.subdomain,\n            t\n          );\n        }\n        static internalIsUsingSubscriptionWorkaround(e, t) {\n          if (r.a.safari) return !1;\n          if (\n            !0 === t &&\n            (\"localhost\" === location.hostname ||\n              \"127.0.0.1\" === location.hostname)\n          )\n            return !1;\n          const i = o.a.getWindowEnv();\n          return !(\n            (i !== s.a.Host && i !== s.a.CustomIframe) ||\n            (!e && \"http:\" !== location.protocol)\n          );\n        }\n        static redetectBrowserUserAgent() {\n          return \"\" === r.a.name && \"\" === r.a.version\n            ? r.a._detect(navigator.userAgent)\n            : r.a;\n        }\n        static isValidUuid(e) {\n          return /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/.test(\n            e\n          );\n        }\n        static getRandomUuid() {\n          let t = \"\";\n          const i =\n            \"undefined\" == typeof window\n              ? e.crypto\n              : window.crypto || window.msCrypto;\n          return (t = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(\n            /[xy]/g,\n            i\n              ? function(e) {\n                  var t = i.getRandomValues(new Uint8Array(1))[0] % 16 | 0;\n                  return (\"x\" == e ? t : (3 & t) | 8).toString(16);\n                }\n              : function(e) {\n                  var t = (16 * Math.random()) | 0;\n                  return (\"x\" == e ? t : (3 & t) | 8).toString(16);\n                }\n          ));\n        }\n        static logMethodCall(e, ...t) {\n          return a.a.debug(\n            `Called %c${e}(${t.map(c.a.stringify).join(\", \")})`,\n            c.a.getConsoleStyle(\"code\"),\n            \".\"\n          );\n        }\n      }\n      t.b = d;\n    }.call(this, i(32)));\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n;\n    i.d(t, \"a\", function() {\n      return n;\n    }),\n      (function(e) {\n        (e[(e.Default = 0)] = \"Default\"),\n          (e[(e.Subscribed = 1)] = \"Subscribed\"),\n          (e[(e.MutedByApi = -2)] = \"MutedByApi\"),\n          (e[(e.NotSubscribed = -10)] = \"NotSubscribed\"),\n          (e[(e.TemporaryWebRecord = -20)] = \"TemporaryWebRecord\"),\n          (e[(e.PermissionRevoked = -21)] = \"PermissionRevoked\"),\n          (e[(e.PushSubscriptionRevoked = -22)] = \"PushSubscriptionRevoked\"),\n          (e[(e.ServiceWorkerStatus403 = -23)] = \"ServiceWorkerStatus403\"),\n          (e[(e.ServiceWorkerStatus404 = -24)] = \"ServiceWorkerStatus404\");\n      })(n || (n = {}));\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return a;\n    });\n    var n = i(3),\n      r = i(4),\n      o = i(11),\n      s = i.n(o);\n    class a {\n      static isBrowser() {\n        return \"undefined\" != typeof window;\n      }\n      static isSafari() {\n        return a.isBrowser() && s.a.safari;\n      }\n      static version() {\n        return Number(150801);\n      }\n      static get TRADITIONAL_CHINESE_LANGUAGE_TAG() {\n        return [\"tw\", \"hant\"];\n      }\n      static get SIMPLIFIED_CHINESE_LANGUAGE_TAG() {\n        return [\"cn\", \"hans\"];\n      }\n      static getLanguage() {\n        let e = navigator.language;\n        if (e) {\n          let t = (e = e.toLowerCase()).split(\"-\");\n          if (\"zh\" == t[0]) {\n            for (let e of a.TRADITIONAL_CHINESE_LANGUAGE_TAG)\n              if (-1 !== t.indexOf(e)) return \"zh-Hant\";\n            for (let e of a.SIMPLIFIED_CHINESE_LANGUAGE_TAG)\n              if (-1 !== t.indexOf(e)) return \"zh-Hans\";\n            return \"zh-Hant\";\n          }\n          return t[0].substring(0, 2);\n        }\n        return \"en\";\n      }\n      static supportsServiceWorkers() {\n        switch (n.a.getWindowEnv()) {\n          case r.a.ServiceWorker:\n            return !0;\n          default:\n            return (\n              \"undefined\" != typeof navigator && \"serviceWorker\" in navigator\n            );\n        }\n      }\n      static getSdkStylesVersionHash() {\n        return \"undefined\" == typeof __SRC_STYLESHEETS_MD5_HASH__\n          ? \"1\"\n          : __SRC_STYLESHEETS_MD5_HASH__;\n      }\n    }\n  },\n  function(e, t, i) {\n    var n;\n    (n = function() {\n      var e = !0;\n      function t(t) {\n        function i(e) {\n          var i = t.match(e);\n          return (i && i.length > 1 && i[1]) || \"\";\n        }\n        var n,\n          r,\n          o,\n          s = i(/(ipod|iphone|ipad)/i).toLowerCase(),\n          a = !/like android/i.test(t) && /android/i.test(t),\n          c = /nexus\\s*[0-6]\\s*/i.test(t),\n          d = !c && /nexus\\s*[0-9]+/i.test(t),\n          u = /CrOS/.test(t),\n          l = /silk/i.test(t),\n          p = /sailfish/i.test(t),\n          g = /tizen/i.test(t),\n          f = /(web|hpw)os/i.test(t),\n          h = /windows phone/i.test(t),\n          b = (/SamsungBrowser/i.test(t), !h && /windows/i.test(t)),\n          m = !s && !l && /macintosh/i.test(t),\n          v = !a && !p && !g && !f && /linux/i.test(t),\n          S = i(/edge\\/(\\d+(\\.\\d+)?)/i),\n          y = i(/version\\/(\\d+(\\.\\d+)?)/i),\n          w = /tablet/i.test(t) && !/tablet pc/i.test(t),\n          P = !w && /[^-]mobi/i.test(t),\n          O = /xbox/i.test(t);\n        /opera/i.test(t)\n          ? (n = {\n              name: \"Opera\",\n              opera: e,\n              version: y || i(/(?:opera|opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i)\n            })\n          : /opr\\/|opios/i.test(t)\n          ? (n = {\n              name: \"Opera\",\n              opera: e,\n              version: i(/(?:opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i) || y\n            })\n          : /SamsungBrowser/i.test(t)\n          ? (n = {\n              name: \"Samsung Internet for Android\",\n              samsungBrowser: e,\n              version: y || i(/(?:SamsungBrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n            })\n          : /coast/i.test(t)\n          ? (n = {\n              name: \"Opera Coast\",\n              coast: e,\n              version: y || i(/(?:coast)[\\s\\/](\\d+(\\.\\d+)?)/i)\n            })\n          : /yabrowser/i.test(t)\n          ? (n = {\n              name: \"Yandex Browser\",\n              yandexbrowser: e,\n              version: y || i(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n            })\n          : /ucbrowser/i.test(t)\n          ? (n = {\n              name: \"UC Browser\",\n              ucbrowser: e,\n              version: i(/(?:ucbrowser)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n            })\n          : /mxios/i.test(t)\n          ? (n = {\n              name: \"Maxthon\",\n              maxthon: e,\n              version: i(/(?:mxios)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n            })\n          : /epiphany/i.test(t)\n          ? (n = {\n              name: \"Epiphany\",\n              epiphany: e,\n              version: i(/(?:epiphany)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n            })\n          : /puffin/i.test(t)\n          ? (n = {\n              name: \"Puffin\",\n              puffin: e,\n              version: i(/(?:puffin)[\\s\\/](\\d+(?:\\.\\d+)?)/i)\n            })\n          : /sleipnir/i.test(t)\n          ? (n = {\n              name: \"Sleipnir\",\n              sleipnir: e,\n              version: i(/(?:sleipnir)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n            })\n          : /k-meleon/i.test(t)\n          ? (n = {\n              name: \"K-Meleon\",\n              kMeleon: e,\n              version: i(/(?:k-meleon)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n            })\n          : h\n          ? ((n = { name: \"Windows Phone\", windowsphone: e }),\n            S\n              ? ((n.msedge = e), (n.version = S))\n              : ((n.msie = e), (n.version = i(/iemobile\\/(\\d+(\\.\\d+)?)/i))))\n          : /msie|trident/i.test(t)\n          ? (n = {\n              name: \"Internet Explorer\",\n              msie: e,\n              version: i(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i)\n            })\n          : u\n          ? (n = {\n              name: \"Chrome\",\n              chromeos: e,\n              chromeBook: e,\n              chrome: e,\n              version: i(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : /chrome.+? edge/i.test(t)\n          ? (n = { name: \"Microsoft Edge\", msedge: e, version: S })\n          : /vivaldi/i.test(t)\n          ? (n = {\n              name: \"Vivaldi\",\n              vivaldi: e,\n              version: i(/vivaldi\\/(\\d+(\\.\\d+)?)/i) || y\n            })\n          : p\n          ? (n = {\n              name: \"Sailfish\",\n              sailfish: e,\n              version: i(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : /seamonkey\\//i.test(t)\n          ? (n = {\n              name: \"SeaMonkey\",\n              seamonkey: e,\n              version: i(/seamonkey\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : /firefox|iceweasel|fxios/i.test(t)\n          ? ((n = {\n              name: \"Firefox\",\n              firefox: e,\n              version: i(/(?:firefox|iceweasel|fxios)[ \\/](\\d+(\\.\\d+)?)/i)\n            }),\n            /\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(t) &&\n              (n.firefoxos = e))\n          : l\n          ? (n = {\n              name: \"Amazon Silk\",\n              silk: e,\n              version: i(/silk\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : /phantom/i.test(t)\n          ? (n = {\n              name: \"PhantomJS\",\n              phantom: e,\n              version: i(/phantomjs\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : /slimerjs/i.test(t)\n          ? (n = {\n              name: \"SlimerJS\",\n              slimer: e,\n              version: i(/slimerjs\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : /blackberry|\\bbb\\d+/i.test(t) || /rim\\stablet/i.test(t)\n          ? (n = {\n              name: \"BlackBerry\",\n              blackberry: e,\n              version: y || i(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : f\n          ? ((n = {\n              name: \"WebOS\",\n              webos: e,\n              version: y || i(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)\n            }),\n            /touchpad\\//i.test(t) && (n.touchpad = e))\n          : /bada/i.test(t)\n          ? (n = {\n              name: \"Bada\",\n              bada: e,\n              version: i(/dolfin\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : g\n          ? (n = {\n              name: \"Tizen\",\n              tizen: e,\n              version: i(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i) || y\n            })\n          : /qupzilla/i.test(t)\n          ? (n = {\n              name: \"QupZilla\",\n              qupzilla: e,\n              version: i(/(?:qupzilla)[\\s\\/](\\d+(?:\\.\\d+)+)/i) || y\n            })\n          : /chromium/i.test(t)\n          ? (n = {\n              name: \"Chromium\",\n              chromium: e,\n              version: i(/(?:chromium)[\\s\\/](\\d+(?:\\.\\d+)?)/i) || y\n            })\n          : /chrome|crios|crmo/i.test(t)\n          ? (n = {\n              name: \"Chrome\",\n              chrome: e,\n              version: i(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : a\n          ? (n = { name: \"Android\", version: y })\n          : /safari|applewebkit/i.test(t)\n          ? ((n = { name: \"Safari\", safari: e }), y && (n.version = y))\n          : s\n          ? ((n = {\n              name: \"iphone\" == s ? \"iPhone\" : \"ipad\" == s ? \"iPad\" : \"iPod\"\n            }),\n            y && (n.version = y))\n          : (n = /googlebot/i.test(t)\n              ? {\n                  name: \"Googlebot\",\n                  googlebot: e,\n                  version: i(/googlebot\\/(\\d+(\\.\\d+))/i) || y\n                }\n              : {\n                  name: i(/^(.*)\\/(.*) /),\n                  version:\n                    ((r = /^(.*)\\/(.*) /),\n                    (o = t.match(r)),\n                    (o && o.length > 1 && o[2]) || \"\")\n                }),\n          !n.msedge && /(apple)?webkit/i.test(t)\n            ? (/(apple)?webkit\\/537\\.36/i.test(t)\n                ? ((n.name = n.name || \"Blink\"), (n.blink = e))\n                : ((n.name = n.name || \"Webkit\"), (n.webkit = e)),\n              !n.version && y && (n.version = y))\n            : !n.opera &&\n              /gecko\\//i.test(t) &&\n              ((n.name = n.name || \"Gecko\"),\n              (n.gecko = e),\n              (n.version = n.version || i(/gecko\\/(\\d+(\\.\\d+)?)/i))),\n          n.windowsphone || n.msedge || (!a && !n.silk)\n            ? n.windowsphone || n.msedge || !s\n              ? m\n                ? (n.mac = e)\n                : O\n                ? (n.xbox = e)\n                : b\n                ? (n.windows = e)\n                : v && (n.linux = e)\n              : ((n[s] = e), (n.ios = e))\n            : (n.android = e);\n        var k = \"\";\n        n.windows\n          ? (k = (function(e) {\n              switch (e) {\n                case \"NT\":\n                  return \"NT\";\n                case \"XP\":\n                  return \"XP\";\n                case \"NT 5.0\":\n                  return \"2000\";\n                case \"NT 5.1\":\n                  return \"XP\";\n                case \"NT 5.2\":\n                  return \"2003\";\n                case \"NT 6.0\":\n                  return \"Vista\";\n                case \"NT 6.1\":\n                  return \"7\";\n                case \"NT 6.2\":\n                  return \"8\";\n                case \"NT 6.3\":\n                  return \"8.1\";\n                case \"NT 10.0\":\n                  return \"10\";\n                default:\n                  return;\n              }\n            })(i(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i)))\n          : n.windowsphone\n          ? (k = i(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i))\n          : n.mac\n          ? (k = (k = i(/Mac OS X (\\d+([_\\.\\s]\\d+)*)/i)).replace(/[_\\s]/g, \".\"))\n          : s\n          ? (k = (k = i(/os (\\d+([_\\s]\\d+)*) like mac os x/i)).replace(\n              /[_\\s]/g,\n              \".\"\n            ))\n          : a\n          ? (k = i(/android[ \\/-](\\d+(\\.\\d+)*)/i))\n          : n.webos\n          ? (k = i(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i))\n          : n.blackberry\n          ? (k = i(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i))\n          : n.bada\n          ? (k = i(/bada\\/(\\d+(\\.\\d+)*)/i))\n          : n.tizen && (k = i(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i)),\n          k && (n.osversion = k);\n        var I = !n.windows && k.split(\".\")[0];\n        return (\n          w || d || \"ipad\" == s || (a && (3 == I || (I >= 4 && !P))) || n.silk\n            ? (n.tablet = e)\n            : (P ||\n                \"iphone\" == s ||\n                \"ipod\" == s ||\n                a ||\n                c ||\n                n.blackberry ||\n                n.webos ||\n                n.bada) &&\n              (n.mobile = e),\n          n.msedge ||\n          (n.msie && n.version >= 10) ||\n          (n.yandexbrowser && n.version >= 15) ||\n          (n.vivaldi && n.version >= 1) ||\n          (n.chrome && n.version >= 20) ||\n          (n.samsungBrowser && n.version >= 4) ||\n          (n.firefox && n.version >= 20) ||\n          (n.safari && n.version >= 6) ||\n          (n.opera && n.version >= 10) ||\n          (n.ios && n.osversion && n.osversion.split(\".\")[0] >= 6) ||\n          (n.blackberry && n.version >= 10.1) ||\n          (n.chromium && n.version >= 20)\n            ? (n.a = e)\n            : (n.msie && n.version < 10) ||\n              (n.chrome && n.version < 20) ||\n              (n.firefox && n.version < 20) ||\n              (n.safari && n.version < 6) ||\n              (n.opera && n.version < 10) ||\n              (n.ios && n.osversion && n.osversion.split(\".\")[0] < 6) ||\n              (n.chromium && n.version < 20)\n            ? (n.c = e)\n            : (n.x = e),\n          n\n        );\n      }\n      var i = t((\"undefined\" != typeof navigator && navigator.userAgent) || \"\");\n      function n(e) {\n        return e.split(\".\").length;\n      }\n      function r(e, t) {\n        var i,\n          n = [];\n        if (Array.prototype.map) return Array.prototype.map.call(e, t);\n        for (i = 0; i < e.length; i++) n.push(t(e[i]));\n        return n;\n      }\n      function o(e) {\n        for (\n          var t = Math.max(n(e[0]), n(e[1])),\n            i = r(e, function(e) {\n              var i = t - n(e);\n              return r((e += new Array(i + 1).join(\".0\")).split(\".\"), function(\n                e\n              ) {\n                return new Array(20 - e.length).join(\"0\") + e;\n              }).reverse();\n            });\n          --t >= 0;\n\n        ) {\n          if (i[0][t] > i[1][t]) return 1;\n          if (i[0][t] !== i[1][t]) return -1;\n          if (0 === t) return 0;\n        }\n      }\n      function s(e, n, r) {\n        var s = i;\n        \"string\" == typeof n && ((r = n), (n = void 0)),\n          void 0 === n && (n = !1),\n          r && (s = t(r));\n        var a = \"\" + s.version;\n        for (var c in e)\n          if (e.hasOwnProperty(c) && s[c]) {\n            if (\"string\" != typeof e[c])\n              throw new Error(\n                \"Browser version in the minVersion map should be a string: \" +\n                  c +\n                  \": \" +\n                  String(e)\n              );\n            return o([a, e[c]]) < 0;\n          }\n        return n;\n      }\n      return (\n        (i.test = function(e) {\n          for (var t = 0; t < e.length; ++t) {\n            var n = e[t];\n            if (\"string\" == typeof n && n in i) return !0;\n          }\n          return !1;\n        }),\n        (i.isUnsupportedBrowser = s),\n        (i.compareVersions = o),\n        (i.check = function(e, t, i) {\n          return !s(e, t, i);\n        }),\n        (i._detect = t),\n        i\n      );\n    }),\n      void 0 !== e && e.exports ? (e.exports = n()) : i(34)(\"bowser\", n);\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n;\n    i.d(t, \"a\", function() {\n      return n;\n    }),\n      (function(e) {\n        (e.Default = \"default\"), (e.Granted = \"granted\"), (e.Denied = \"denied\");\n      })(n || (n = {}));\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return n;\n    });\n    class n extends Error {\n      constructor(e = \"\") {\n        super(e),\n          Object.defineProperty(this, \"message\", {\n            configurable: !0,\n            enumerable: !1,\n            value: e,\n            writable: !0\n          }),\n          Object.defineProperty(this, \"name\", {\n            configurable: !0,\n            enumerable: !1,\n            value: this.constructor.name,\n            writable: !0\n          }),\n          Error.hasOwnProperty(\"captureStackTrace\")\n            ? Error.captureStackTrace(this, this.constructor)\n            : (Object.defineProperty(this, \"stack\", {\n                configurable: !0,\n                enumerable: !1,\n                value: new Error(e).stack,\n                writable: !0\n              }),\n              Object.setPrototypeOf(this, n.prototype));\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"b\", function() {\n      return n;\n    }),\n      i.d(t, \"a\", function() {\n        return InvalidArgumentError;\n      });\n    var n,\n      r = i(13);\n    !(function(e) {\n      (e[(e.Empty = 0)] = \"Empty\"),\n        (e[(e.Malformed = 1)] = \"Malformed\"),\n        (e[(e.EnumOutOfRange = 2)] = \"EnumOutOfRange\");\n    })(n || (n = {}));\n    class InvalidArgumentError extends r.a {\n      constructor(e, t) {\n        switch (t) {\n          case n.Empty:\n            super(`Supply a non-empty value to '${e}'.`);\n            break;\n          case n.Malformed:\n            super(`The value for '${e}' was malformed.`);\n            break;\n          case n.EnumOutOfRange:\n            super(\n              `The value for '${e}' was out of range of the expected input enum.`\n            );\n        }\n        (this.argument = e),\n          (this.reason = n[t]),\n          Object.setPrototypeOf(this, InvalidArgumentError.prototype);\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n;\n    i.d(t, \"a\", function() {\n      return n;\n    }),\n      (function(e) {\n        (e.Secure = \"Secure\"),\n          (e.SecureProxy = \"Secure Proxy\"),\n          (e.InsecureProxy = \"Insecure Proxy\");\n      })(n || (n = {}));\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n,\n      r,\n      o,\n      s = i(13);\n    !(function(e) {\n      (e[(e.HttpsPermissionRequest = \"HTTPS permission request\")] =\n        \"HttpsPermissionRequest\"),\n        (e[\n          (e.FullscreenHttpPermissionMessage =\n            \"fullscreen HTTP permission message\")\n        ] = \"FullscreenHttpPermissionMessage\"),\n        (e[\n          (e.FullscreenHttpsPermissionMessage =\n            \"fullscreen HTTPS permission message\")\n        ] = \"FullscreenHttpsPermissionMessage\"),\n        (e[(e.SlidedownPermissionMessage = \"slidedown permission message\")] =\n          \"SlidedownPermissionMessage\"),\n        (e[(e.SubscriptionBell = \"subscription bell\")] = \"SubscriptionBell\");\n    })(n || (n = {})),\n      i.d(t, \"b\", function() {\n        return r;\n      }),\n      i.d(t, \"a\", function() {\n        return a;\n      }),\n      ((o = r || (r = {}))[(o.MissingAppId = 0)] = \"MissingAppId\"),\n      (o[(o.RedundantPermissionMessage = 1)] = \"RedundantPermissionMessage\"),\n      (o[(o.PushPermissionAlreadyGranted = 2)] =\n        \"PushPermissionAlreadyGranted\"),\n      (o[(o.UnsupportedEnvironment = 3)] = \"UnsupportedEnvironment\"),\n      (o[(o.MissingDomElement = 4)] = \"MissingDomElement\"),\n      (o[(o.ServiceWorkerNotActivated = 5)] = \"ServiceWorkerNotActivated\"),\n      (o[(o.NoProxyFrame = 6)] = \"NoProxyFrame\");\n    class a extends s.a {\n      constructor(e, t) {\n        switch (e) {\n          case r.MissingAppId:\n            super(\"Missing required app ID.\");\n            break;\n          case r.RedundantPermissionMessage:\n            let i = \"\";\n            t &&\n              t.permissionPromptType &&\n              (i = `(${n[t.permissionPromptType]})`),\n              super(`Another permission message ${i} is being displayed.`);\n            break;\n          case r.PushPermissionAlreadyGranted:\n            super(\"Push permission has already been granted.\");\n            break;\n          case r.UnsupportedEnvironment:\n            super(\"The current environment does not support this operation.\");\n            break;\n          case r.ServiceWorkerNotActivated:\n            super(\"The service worker must be activated first.\");\n            break;\n          case r.NoProxyFrame:\n            super(\"No proxy frame.\");\n        }\n        (this.description = r[e]),\n          (this.reason = e),\n          Object.setPrototypeOf(this, a.prototype);\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return a;\n    });\n    var n = i(10),\n      r = i(3),\n      o = i(2),\n      s = i(22);\n    class a {\n      static get(e, t, i) {\n        return a.call(\"GET\", e, t, i);\n      }\n      static post(e, t, i) {\n        return a.call(\"POST\", e, t, i);\n      }\n      static put(e, t, i) {\n        return a.call(\"PUT\", e, t, i);\n      }\n      static delete(e, t, i) {\n        return a.call(\"DELETE\", e, t, i);\n      }\n      static call(e, t, i, o) {\n        if (\"GET\" === e) {\n          if (t.indexOf(\"players\") > -1 && -1 === t.indexOf(\"app_id=\"))\n            return (\n              console.error(\n                \"Calls to player api are not permitted without app_id\"\n              ),\n              Promise.reject(new s.a(s.b.MissingAppId))\n            );\n        } else if (t.indexOf(\"players\") > -1 && (!i || !i.app_id))\n          return (\n            console.error(\n              \"Calls to player api are not permitted without app_id\"\n            ),\n            Promise.reject(new s.a(s.b.MissingAppId))\n          );\n        let c = new Headers();\n        if (\n          (c.append(\"SDK-Version\", `onesignal/web/${n.a.version()}`),\n          c.append(\"Content-Type\", \"application/json;charset=UTF-8\"),\n          o)\n        )\n          for (let e of Object.keys(o)) c.append(e, o[e]);\n        const d = {\n          method: e || \"NO_METHOD_SPECIFIED\",\n          headers: c,\n          cache: \"no-cache\"\n        };\n        let u;\n        return (\n          i && (d.body = JSON.stringify(i)),\n          fetch(r.a.getOneSignalApiUrl().toString() + \"/\" + t, d)\n            .then(e => ((u = e.status), e.json()))\n            .then(e => {\n              if (u >= 200 && u < 300) return e;\n              if (\"no-user-id-error\" !== a.identifyError(e))\n                return Promise.reject(e);\n            })\n        );\n      }\n      static identifyError(e) {\n        if (!e || !e.errors) return \"no-error\";\n        let t = e.errors;\n        return o.a.contains(t, \"No user with this id found\") ||\n          o.a.contains(t, \"Could not find app_id for given player id.\")\n          ? \"no-user-id-error\"\n          : \"unknown-error\";\n      }\n    }\n    t.b = a;\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return r;\n    });\n    var n = i(13);\n    class r extends n.a {\n      constructor() {\n        super(\"This code is not implemented yet.\"),\n          Object.setPrototypeOf(this, r.prototype);\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return p;\n    });\n    var n = i(0),\n      r = i(10),\n      o = i(3),\n      s = i(4),\n      a = i(1),\n      c = i(2);\n    const d = [\n        \"notifyButtonHovering\",\n        \"notifyButtonHover\",\n        \"notifyButtonButtonClick\",\n        \"notifyButtonLauncherClick\",\n        \"animatedElementHiding\",\n        \"animatedElementHidden\",\n        \"animatedElementShowing\",\n        \"animatedElementShown\",\n        \"activeAnimatedElementActivating\",\n        \"activeAnimatedElementActive\",\n        \"activeAnimatedElementInactivating\",\n        \"activeAnimatedElementInactive\",\n        \"dbRetrieved\",\n        \"dbSet\",\n        \"testEvent\"\n      ],\n      u = [\n        \"onesignal.prompt.custom.clicked\",\n        \"onesignal.prompt.native.permissionchanged\",\n        \"onesignal.subscription.changed\",\n        \"onesignal.internal.subscriptionset\",\n        \"dbRebuilt\",\n        \"initialize\",\n        \"subscriptionSet\",\n        \"sendWelcomeNotification\",\n        \"subscriptionChange\",\n        \"notificationPermissionChange\",\n        \"dbSet\",\n        \"register\",\n        \"notificationDisplay\",\n        \"notificationDismiss\",\n        \"notificationClick\",\n        \"permissionPromptDisplay\",\n        \"testWouldDisplay\",\n        \"testInitOptionDisabled\",\n        \"popupWindowTimeout\"\n      ],\n      l = {\n        notificationPermissionChange:\n          \"onesignal.prompt.native.permissionchanged\",\n        subscriptionChange: \"onesignal.subscription.changed\",\n        customPromptClick: \"onesignal.prompt.custom.clicked\"\n      };\n    class p {\n      static trigger(e, t, i = null) {\n        return n.a(this, void 0, void 0, function*() {\n          if (!c.b.contains(d, e)) {\n            let n = t,\n              r = c.b.capitalize(o.a.getWindowEnv().toString());\n            i && (r = `${r} â¬¸ ${c.b.capitalize(i)}`),\n              n || !1 === n\n                ? a.a.debug(\n                    `(${r}) Â» %c${e}:`,\n                    c.b.getConsoleStyle(\"event\"),\n                    n\n                  )\n                : a.a.debug(`(${r}) Â» %c${e}`, c.b.getConsoleStyle(\"event\"));\n          }\n          if (r.a.isBrowser()) {\n            if (e === OneSignal.EVENTS.SDK_INITIALIZED) {\n              if (OneSignal.initialized) return;\n              OneSignal.initialized = !0;\n            }\n            yield OneSignal.emitter.emit(e, t);\n          }\n          if (l.hasOwnProperty(e)) {\n            let i = l[e];\n            p._triggerLegacy(i, t);\n          }\n          if (\n            r.a.isBrowser() &&\n            (o.a.getWindowEnv() === s.a.OneSignalSubscriptionPopup ||\n              o.a.getWindowEnv() === s.a.OneSignalProxyFrame)\n          ) {\n            opener || parent\n              ? c.b.contains(u, e) &&\n                (o.a.getWindowEnv() === s.a.OneSignalSubscriptionPopup\n                  ? OneSignal.subscriptionPopup.message(\n                      OneSignal.POSTMAM_COMMANDS.REMOTE_RETRIGGER_EVENT,\n                      { eventName: e, eventData: t }\n                    )\n                  : OneSignal.proxyFrame.retriggerRemoteEvent(e, t))\n              : a.a.error(\n                  `Could not send event '${e}' back to host page because no creator (opener or parent) found!`\n                );\n          }\n        });\n      }\n      static _triggerLegacy(e, t) {\n        const i = new CustomEvent(e, {\n          bubbles: !0,\n          cancelable: !0,\n          detail: t\n        });\n        window.dispatchEvent(i);\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"b\", function() {\n      return n;\n    }),\n      i.d(t, \"a\", function() {\n        return SdkInitError;\n      });\n    var n,\n      r = i(13);\n    !(function(e) {\n      (e[(e.InvalidAppId = 0)] = \"InvalidAppId\"),\n        (e[(e.AppNotConfiguredForWebPush = 1)] = \"AppNotConfiguredForWebPush\"),\n        (e[(e.MissingSubdomain = 2)] = \"MissingSubdomain\"),\n        (e[(e.WrongSiteUrl = 3)] = \"WrongSiteUrl\"),\n        (e[(e.MultipleInitialization = 4)] = \"MultipleInitialization\"),\n        (e[(e.MissingSafariWebId = 5)] = \"MissingSafariWebId\"),\n        (e[(e.Unknown = 6)] = \"Unknown\");\n    })(n || (n = {}));\n    class SdkInitError extends r.a {\n      constructor(e, t) {\n        switch (e) {\n          case n.InvalidAppId:\n            super(\n              \"OneSignal: This app ID does not match any existing app. Double check your app ID.\"\n            );\n            break;\n          case n.AppNotConfiguredForWebPush:\n            super(\n              \"OneSignal: This app ID does not have any web platforms enabled. Double check your app ID, or see step 1 on our setup guide (https://goo.gl/01h7fZ).\"\n            );\n            break;\n          case n.MissingSubdomain:\n            super(\n              \"OneSignal: Non-HTTPS pages require a subdomain of OneSignal to be chosen on your dashboard. See step 1.4 on our setup guide (https://goo.gl/xip6JB).\"\n            );\n            break;\n          case n.WrongSiteUrl:\n            t && t.siteUrl\n              ? super(\n                  `OneSignal: This web push config can only be used on ${\n                    new URL(t.siteUrl).origin\n                  }. Your current origin is ${location.origin}.`\n                )\n              : super(\n                  \"OneSignal: This web push config can not be used on the current site.\"\n                );\n            break;\n          case n.MultipleInitialization:\n            super(\n              \"OneSignal: The OneSignal web SDK can only be initialized once. Extra initializations are ignored. Please remove calls initializing the SDK more than once.\"\n            );\n            break;\n          case n.MissingSafariWebId:\n            super(\n              \"OneSignal: Safari browser support on Mac OS X requires the Safari web platform to be enabled. Please see the Safari Support steps in our web setup guide.\"\n            );\n            break;\n          case n.Unknown:\n            super(\"OneSignal: An unknown initialization error occurred.\");\n        }\n        (this.reason = n[e]),\n          Object.setPrototypeOf(this, SdkInitError.prototype);\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return n;\n    });\n    class n {\n      isNewSubscription() {\n        return this.existingW3cPushSubscription\n          ? !!this.existingW3cPushSubscription.w3cEndpoint !=\n              !!this.w3cEndpoint ||\n              !(\n                !this.existingW3cPushSubscription.w3cEndpoint ||\n                !this.w3cEndpoint ||\n                this.existingW3cPushSubscription.w3cEndpoint.toString() ===\n                  this.w3cEndpoint.toString()\n              ) ||\n                this.existingW3cPushSubscription.w3cP256dh !== this.w3cP256dh ||\n                  this.existingW3cPushSubscription.w3cAuth !== this.w3cAuth\n          : !this.existingSafariDeviceToken ||\n              this.existingSafariDeviceToken !== this.safariDeviceToken;\n      }\n      static setFromW3cSubscription(e) {\n        const t = new n();\n        if (e && ((t.w3cEndpoint = new URL(e.endpoint)), e.getKey)) {\n          let i = null;\n          try {\n            i = e.getKey(\"p256dh\");\n          } catch (e) {}\n          let n = null;\n          try {\n            n = e.getKey(\"auth\");\n          } catch (e) {}\n          if (i) {\n            let e = btoa(String.fromCharCode.apply(null, new Uint8Array(i)));\n            t.w3cP256dh = e;\n          }\n          if (n) {\n            let e = btoa(String.fromCharCode.apply(null, new Uint8Array(n)));\n            t.w3cAuth = e;\n          }\n        }\n        return t;\n      }\n      setFromSafariSubscription(e) {\n        this.safariDeviceToken = e;\n      }\n      serialize() {\n        return {\n          w3cEndpoint: this.w3cEndpoint ? this.w3cEndpoint.toString() : null,\n          w3cP256dh: this.w3cP256dh,\n          w3cAuth: this.w3cAuth,\n          safariDeviceToken: this.safariDeviceToken,\n          existingPushSubscription: this.existingW3cPushSubscription\n            ? this.existingW3cPushSubscription.serialize()\n            : null,\n          existingSafariDeviceToken: this.existingSafariDeviceToken\n        };\n      }\n      static deserialize(e) {\n        const t = new n();\n        if (!e) return t;\n        try {\n          t.w3cEndpoint = new URL(e.w3cEndpoint);\n        } catch (e) {}\n        return (\n          (t.w3cP256dh = e.w3cP256dh),\n          (t.w3cAuth = e.w3cAuth),\n          (t.existingW3cPushSubscription = void 0),\n          e.existingW3cPushSubscription\n            ? (t.existingW3cPushSubscription = n.deserialize(\n                e.existingW3cPushSubscription\n              ))\n            : e.existingPushSubscription &&\n              (t.existingW3cPushSubscription = n.deserialize(\n                e.existingPushSubscription\n              )),\n          (t.safariDeviceToken = e.safariDeviceToken),\n          (t.existingSafariDeviceToken = e.existingSafariDeviceToken),\n          t\n        );\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"b\", function() {\n      return n;\n    }),\n      i.d(t, \"a\", function() {\n        return o;\n      });\n    var n,\n      r = i(13);\n    !(function(e) {\n      e[(e.MissingAppId = 0)] = \"MissingAppId\";\n    })(n || (n = {}));\n    class o extends r.a {\n      constructor(e) {\n        switch (e) {\n          case n.MissingAppId:\n            super(\"The API call is missing an app ID.\");\n        }\n        Object.setPrototypeOf(this, o.prototype);\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n;\n    i.d(t, \"a\", function() {\n      return n;\n    }),\n      (function(e) {\n        (e[(e.ChromeLike = 5)] = \"ChromeLike\"),\n          (e[(e.Safari = 7)] = \"Safari\"),\n          (e[(e.Firefox = 8)] = \"Firefox\"),\n          (e[(e.Edge = 12)] = \"Edge\"),\n          (e[(e.Email = 11)] = \"Email\");\n      })(n || (n = {}));\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return c;\n    });\n    var n = i(11),\n      r = i.n(n),\n      o = i(18),\n      s = i(9),\n      a = i(30);\n    class c extends a.a {\n      constructor(e) {\n        super(), (this.subscription = e);\n      }\n      serialize() {\n        const e = super.serialize();\n        return (\n          this.subscription &&\n            ((e.identifier = r.a.safari\n              ? this.subscription.safariDeviceToken\n              : this.subscription.w3cEndpoint\n              ? this.subscription.w3cEndpoint.toString()\n              : null),\n            (e.web_auth = this.subscription.w3cAuth),\n            (e.web_p256 = this.subscription.w3cP256dh)),\n          e\n        );\n      }\n      static createFromPushSubscription(e, t, i) {\n        const n = new c(t);\n        return (\n          (n.appId = e),\n          (n.subscriptionState = t ? s.a.Subscribed : s.a.NotSubscribed),\n          i && (n.subscriptionState = i),\n          n\n        );\n      }\n      deserialize(e) {\n        throw new o.a();\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n;\n    i.d(t, \"a\", function() {\n      return n;\n    }),\n      (function(e) {\n        (e.None = \"None\"), (e.UnitTesting = \"Unit Testing\");\n      })(n || (n = {}));\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n = i(7),\n      r = i(3),\n      o = i(4),\n      s = i(1);\n    class a {\n      constructor() {\n        this.incrementedPageViewCount = !1;\n      }\n      getPageViewCount() {\n        try {\n          const e = sessionStorage.getItem(a.SESSION_STORAGE_KEY_NAME),\n            t = e ? parseInt(e) : 0;\n          return isNaN(t) ? 0 : t;\n        } catch (e) {\n          return 0;\n        }\n      }\n      setPageViewCount(e) {\n        try {\n          sessionStorage.setItem(a.SESSION_STORAGE_KEY_NAME, e.toString()),\n            r.a.getWindowEnv() === o.a.OneSignalSubscriptionPopup &&\n              OneSignal.subscriptionPopup &&\n              OneSignal.subscriptionPopup.message(\n                OneSignal.POSTMAM_COMMANDS.SET_SESSION_COUNT\n              );\n        } catch (e) {}\n      }\n      incrementPageViewCount() {\n        if (this.incrementedPageViewCount) return;\n        const e = this.getPageViewCount() + 1;\n        this.setPageViewCount(e),\n          s.a.debug(`Incremented page view count to ${e}.`),\n          (this.incrementedPageViewCount = !0);\n      }\n      simulatePageNavigationOrRefresh() {\n        this.incrementedPageViewCount = !1;\n      }\n      isFirstPageView() {\n        return 1 === this.getPageViewCount();\n      }\n    }\n    a.SESSION_STORAGE_KEY_NAME = \"onesignal-pageview-count\";\n    var c = i(0),\n      d = i(8),\n      u = i(11),\n      l = i.n(u),\n      InvalidArgumentError = i(14),\n      p = i(12);\n    const g = \"isOptedOut\",\n      f = \"isPushNotificationsEnabled\";\n    class h {\n      static getIsOptedOut() {\n        return \"true\" === localStorage.getItem(g);\n      }\n      static getIsPushNotificationsEnabled() {\n        return \"true\" === localStorage.getItem(f);\n      }\n      static setIsOptedOut(e) {\n        localStorage.setItem(g, e.toString());\n      }\n      static setIsPushNotificationsEnabled(e) {\n        localStorage.setItem(f, e.toString());\n      }\n      static setStoredPermission(e) {\n        localStorage.setItem(b.STORED_PERMISSION_KEY, e);\n      }\n      static getStoredPermission() {\n        switch (localStorage.getItem(b.STORED_PERMISSION_KEY) || \"default\") {\n          case \"granted\":\n            return p.a.Granted;\n          case \"denied\":\n            return p.a.Denied;\n          default:\n            return p.a.Default;\n        }\n      }\n    }\n    class b {\n      static get STORED_PERMISSION_KEY() {\n        return \"storedNotificationPermission\";\n      }\n      getNotificationPermission(e) {\n        return c.a(this, void 0, void 0, function*() {\n          const t = yield this.getReportedNotificationPermission(e);\n          return (yield this.isPermissionEnvironmentAmbiguous(t))\n            ? yield this.getInterpretedAmbiguousPermission(t)\n            : t;\n        });\n      }\n      getReportedNotificationPermission(e) {\n        return c.a(this, void 0, void 0, function*() {\n          return l.a.safari\n            ? b.getSafariNotificationPermission(e)\n            : d.b.isUsingSubscriptionWorkaround()\n            ? yield this.getOneSignalSubdomainNotificationPermission(e)\n            : this.getW3cNotificationPermission();\n        });\n      }\n      static getSafariNotificationPermission(e) {\n        if (e) return window.safari.pushNotification.permission(e).permission;\n        throw new InvalidArgumentError.a(\n          \"safariWebId\",\n          InvalidArgumentError.b.Empty\n        );\n      }\n      getW3cNotificationPermission() {\n        return window.Notification.permission;\n      }\n      getOneSignalSubdomainNotificationPermission(e) {\n        return c.a(this, void 0, void 0, function*() {\n          return new Promise(t => {\n            OneSignal.proxyFrameHost.message(\n              OneSignal.POSTMAM_COMMANDS.REMOTE_NOTIFICATION_PERMISSION,\n              { safariWebId: e },\n              e => {\n                let i = e.data;\n                t(i);\n              }\n            );\n          });\n        });\n      }\n      isPermissionEnvironmentAmbiguous(e) {\n        return c.a(this, void 0, void 0, function*() {\n          const t = d.b.redetectBrowserUserAgent();\n          return (\n            !t.safari &&\n            !t.firefox &&\n            e === p.a.Denied &&\n            (this.isCurrentFrameContextCrossOrigin() ||\n              (yield r.a.isFrameContextInsecure()) ||\n              d.b.isUsingSubscriptionWorkaround() ||\n              r.a.isInsecureOrigin())\n          );\n        });\n      }\n      isCurrentFrameContextCrossOrigin() {\n        let e;\n        try {\n          e = window.top.location.origin;\n        } catch (e) {\n          return !0;\n        }\n        return window.top !== window && e !== window.location.origin;\n      }\n      getInterpretedAmbiguousPermission(e) {\n        return c.a(this, void 0, void 0, function*() {\n          switch (e) {\n            case p.a.Denied:\n              const t = this.getStoredPermission();\n              return t || p.a.Default;\n            default:\n              return e;\n          }\n        });\n      }\n      getStoredPermission() {\n        return h.getStoredPermission();\n      }\n      setStoredPermission(e) {\n        h.setStoredPermission(e);\n      }\n      updateStoredPermission() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = yield this.getNotificationPermission();\n          return this.setStoredPermission(e);\n        });\n      }\n    }\n    var m = i(10);\n    class v {\n      constructor(e) {\n        if (!e)\n          throw new InvalidArgumentError.a(\n            \"path\",\n            InvalidArgumentError.b.Empty\n          );\n        this.path = e.trim();\n      }\n      getQueryString() {\n        const e = this.path.indexOf(\"?\");\n        return -1 === e\n          ? null\n          : this.path.length > e\n          ? this.path.substring(e + 1)\n          : null;\n      }\n      getWithoutQueryString() {\n        return this.path.split(v.QUERY_STRING)[0];\n      }\n      getFileName() {\n        return this.getWithoutQueryString()\n          .split(\"\\\\\")\n          .pop()\n          .split(\"/\")\n          .pop();\n      }\n      getFileNameWithQuery() {\n        return this.path\n          .split(\"\\\\\")\n          .pop()\n          .split(\"/\")\n          .pop();\n      }\n      getFullPath() {\n        return this.path;\n      }\n      getPathWithoutFileName() {\n        const e = this.getWithoutQueryString(),\n          t = e.lastIndexOf(this.getFileName());\n        let i = e.substring(0, t);\n        return (i = i.replace(/[\\\\\\/]$/, \"\"));\n      }\n    }\n    v.QUERY_STRING = \"?\";\n    var S = i(5),\n      y = i(15),\n      w = i(18),\n      P = i(19),\n      O = i(13);\n    class k extends O.a {\n      constructor(e, t) {\n        super(\"Registration of a Service Worker failed.\"),\n          (this.status = e),\n          (this.statusText = t),\n          Object.setPrototypeOf(this, k.prototype);\n      }\n    }\n    var I = k,\n      E = i(6),\n      x = i(2);\n    class A {\n      constructor(e, t) {\n        (this.context = e), (this.config = t);\n      }\n      static getRegistration() {\n        return c.a(this, void 0, void 0, function*() {\n          return yield E.b.getRegistration();\n        });\n      }\n      getActiveState() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = yield r.a.getIntegration();\n          if (e === y.a.InsecureProxy) return E.a.Indeterminate;\n          if (e === y.a.SecureProxy) {\n            switch (r.a.getWindowEnv()) {\n              case o.a.Host:\n              case o.a.CustomIframe:\n                const e = OneSignal.proxyFrameHost;\n                return e\n                  ? yield e.runCommand(\n                      OneSignal.POSTMAM_COMMANDS.SERVICE_WORKER_STATE\n                    )\n                  : E.a.Indeterminate;\n              case o.a.OneSignalSubscriptionPopup:\n                break;\n              case o.a.OneSignalSubscriptionModal:\n                throw new w.a();\n            }\n          }\n          const t = yield A.getRegistration();\n          if (!t) return E.a.None;\n          if (t.installing) return E.a.Installing;\n          if (!t.active) return E.a.ThirdParty;\n          const i = A.activeSwFileName(t),\n            n = this.swActiveStateByFileName(i);\n          return navigator.serviceWorker.controller ||\n            (n !== E.a.WorkerA && n !== E.a.WorkerB)\n            ? n\n            : E.a.Bypassed;\n        });\n      }\n      static activeSwFileName(e) {\n        if (!e.active) return null;\n        const t = new URL(e.active.scriptURL).pathname,\n          i = new v(t).getFileName();\n        if (\"akam-sw.js\" == i) {\n          const t = new URLSearchParams(new URL(e.active.scriptURL).search).get(\n            \"othersw\"\n          );\n          if (t)\n            return (\n              s.a.debug(\n                \"Found a ServiceWorker under Akamai's akam-sw.js?othersw=\",\n                t\n              ),\n              new v(new URL(t).pathname).getFileName()\n            );\n        }\n        return i;\n      }\n      swActiveStateByFileName(e) {\n        return e\n          ? e == this.config.workerAPath.getFileName()\n            ? E.a.WorkerA\n            : e == this.config.workerBPath.getFileName()\n            ? E.a.WorkerB\n            : E.a.ThirdParty\n          : E.a.None;\n      }\n      getWorkerVersion() {\n        return c.a(this, void 0, void 0, function*() {\n          return new Promise(e =>\n            c.a(this, void 0, void 0, function*() {\n              if (d.b.isUsingSubscriptionWorkaround()) {\n                const t = OneSignal.proxyFrameHost;\n                if (t) {\n                  const i = yield t.runCommand(\n                    OneSignal.POSTMAM_COMMANDS.GET_WORKER_VERSION\n                  );\n                  e(i);\n                } else e(NaN);\n              } else\n                this.context.workerMessenger.once(n.b.WorkerVersion, t => {\n                  e(t);\n                }),\n                  this.context.workerMessenger.unicast(n.b.WorkerVersion);\n            })\n          );\n        });\n      }\n      shouldInstallWorker() {\n        return c.a(this, void 0, void 0, function*() {\n          if (!m.a.supportsServiceWorkers()) return !1;\n          if (!OneSignal.config) return !1;\n          if (OneSignal.config.subdomain && r.a.getWindowEnv() == o.a.Host)\n            return !1;\n          const e = yield this.getActiveState();\n          if (e === E.a.None || e === E.a.ThirdParty) {\n            return (\n              \"granted\" ===\n              (yield OneSignal.context.permissionManager.getNotificationPermission(\n                OneSignal.config.safariWebId\n              ))\n            );\n          }\n          return this.workerNeedsUpdate();\n        });\n      }\n      workerNeedsUpdate() {\n        return c.a(this, void 0, void 0, function*() {\n          let e;\n          s.a.info(\n            \"[Service Worker Update] Checking service worker version...\"\n          );\n          try {\n            e = yield x.a.timeoutPromise(this.getWorkerVersion(), 2e3);\n          } catch (e) {\n            return (\n              s.a.info(\n                \"[Service Worker Update] Worker did not reply to version query; assuming older version and updating.\"\n              ),\n              !0\n            );\n          }\n          return e !== m.a.version()\n            ? (s.a.info(\n                `[Service Worker Update] Updating service worker from ${e} --\\x3e ${m.a.version()}.`\n              ),\n              !0)\n            : (s.a.info(\n                `[Service Worker Update] Service worker version is current at ${e} (no update required).`\n              ),\n              !1);\n        });\n      }\n      installWorker() {\n        return c.a(this, void 0, void 0, function*() {\n          if (!(yield this.shouldInstallWorker())) return;\n          const e = yield this.getActiveState();\n          yield this.installAlternatingWorker(),\n            yield new Promise(t =>\n              c.a(this, void 0, void 0, function*() {\n                const i = yield this.getActiveState();\n                s.a.debug(\n                  \"installWorker - Comparing pre and post states\",\n                  e,\n                  i\n                ),\n                  e !== i && i !== E.a.Installing\n                    ? t()\n                    : (s.a.debug(\n                        \"installWorker - Awaiting on navigator.serviceWorker's 'controllerchange' event\"\n                      ),\n                      navigator.serviceWorker.addEventListener(\n                        \"controllerchange\",\n                        i =>\n                          c.a(this, void 0, void 0, function*() {\n                            const i = yield this.getActiveState();\n                            i !== e && i !== E.a.Installing\n                              ? t()\n                              : s.a.error(\n                                  \"installWorker - SW's 'controllerchange' fired but no state change!\"\n                                );\n                          })\n                      ));\n              })\n            ),\n            (yield this.getActiveState()) === E.a.WorkerB &&\n              (yield this.installAlternatingWorker()),\n            yield this.establishServiceWorkerChannel();\n        });\n      }\n      establishServiceWorkerChannel() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = this.context.workerMessenger;\n          e.off(),\n            e.on(n.b.NotificationDisplayed, e => {\n              s.a.debug(\n                location.origin,\n                \"Received notification display event from service worker.\"\n              ),\n                P.a.trigger(OneSignal.EVENTS.NOTIFICATION_DISPLAYED, e);\n            }),\n            e.on(n.b.NotificationClicked, e =>\n              c.a(this, void 0, void 0, function*() {\n                let t;\n                if (\n                  0 ===\n                  (t =\n                    r.a.getWindowEnv() === o.a.OneSignalProxyFrame\n                      ? yield new Promise(e => {\n                          const t = OneSignal.proxyFrame;\n                          t &&\n                            t.messenger.message(\n                              OneSignal.POSTMAM_COMMANDS\n                                .GET_EVENT_LISTENER_COUNT,\n                              OneSignal.EVENTS.NOTIFICATION_CLICKED,\n                              t => {\n                                let i = t.data;\n                                e(i);\n                              }\n                            );\n                        })\n                      : OneSignal.emitter.numberOfListeners(\n                          OneSignal.EVENTS.NOTIFICATION_CLICKED\n                        ))\n                ) {\n                  s.a.debug(\n                    \"notification.clicked event received, but no event listeners; storing event in IndexedDb for later retrieval.\"\n                  );\n                  let t = e.url;\n                  e.url || (t = location.href),\n                    yield S.a.put(\"NotificationOpened\", {\n                      url: t,\n                      data: e,\n                      timestamp: Date.now()\n                    });\n                } else P.a.trigger(OneSignal.EVENTS.NOTIFICATION_CLICKED, e);\n              })\n            ),\n            e.on(n.b.RedirectPage, e => {\n              s.a.debug(\n                `${r.a\n                  .getWindowEnv()\n                  .toString()} Picked up command.redirect to ${e}, forwarding to host page.`\n              );\n              const t = OneSignal.proxyFrame;\n              t &&\n                t.messenger.message(\n                  OneSignal.POSTMAM_COMMANDS.SERVICEWORKER_COMMAND_REDIRECT,\n                  e\n                );\n            }),\n            e.on(n.b.NotificationDismissed, e => {\n              P.a.trigger(OneSignal.EVENTS.NOTIFICATION_DISMISSED, e);\n            });\n        });\n      }\n      installAlternatingWorker() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = yield this.getActiveState();\n          e === E.a.ThirdParty &&\n            s.a.info(\n              \"[Service Worker Installation] 3rd party service worker detected.\"\n            );\n          const t = `${E.b.getServiceWorkerHref(\n            e,\n            this.config\n          )}?${x.a.encodeHashAsUriComponent({\n            appId: this.context.appConfig.appId\n          })}`;\n          s.a.info(\n            `[Service Worker Installation] Installing service worker ${t}.`\n          );\n          try {\n            yield navigator.serviceWorker.register(t, {\n              scope: `${d.b.getBaseUrl()}${\n                this.config.registrationOptions.scope\n              }`\n            });\n          } catch (e) {\n            if (\n              (s.a.error(\n                `[Service Worker Installation] Installing service worker failed ${e}`\n              ),\n              r.a.getWindowEnv() === o.a.OneSignalSubscriptionPopup)\n            )\n              throw e;\n            const i = yield fetch(t);\n            if (403 === i.status || 404 === i.status)\n              throw new I(i.status, i.statusText);\n            throw e;\n          }\n          s.a.debug(\"[Service Worker Installation] Service worker installed.\");\n        });\n      }\n    }\n    var N = i(22),\n      W = i(23),\n      T = i(30);\n    class C extends T.a {\n      constructor(e, t, i) {\n        super(),\n          (this.email = e),\n          (this.emailAuthHash = t),\n          (this.pushDeviceRecordId = i),\n          (this.deliveryPlatform = W.a.Email);\n      }\n      serialize() {\n        const e = super.serialize();\n        return (\n          this.email && (e.identifier = this.email),\n          this.emailAuthHash && (e.email_auth_hash = this.emailAuthHash),\n          this.pushDeviceRecordId &&\n            (e.device_player_id = this.pushDeviceRecordId),\n          e\n        );\n      }\n      deserialize(e) {\n        throw new w.a();\n      }\n    }\n    var M = i(17);\n    class _ {\n      static getPlayer(e, t) {\n        return (\n          x.b.enforceAppId(e),\n          x.b.enforcePlayerId(t),\n          M.b.get(`players/${t}?app_id=${e}`)\n        );\n      }\n      static updatePlayer(e, t, i) {\n        return (\n          x.b.enforceAppId(e),\n          x.b.enforcePlayerId(t),\n          M.b.put(`players/${t}`, Object.assign({ app_id: e }, i))\n        );\n      }\n      static sendNotification(e, t, i, n, r, o, s, a) {\n        var c = {\n          app_id: e,\n          contents: n,\n          include_player_ids: t,\n          isAnyWeb: !0,\n          data: s,\n          web_buttons: a\n        };\n        return (\n          i && (c.headings = i),\n          r && (c.url = r),\n          o && ((c.chrome_web_icon = o), (c.firefox_icon = o)),\n          x.b.trimUndefined(c),\n          M.b.post(\"notifications\", c)\n        );\n      }\n      static createUser(e) {\n        return c.a(this, void 0, void 0, function*() {\n          const t = e.serialize();\n          x.b.enforceAppId(t.app_id);\n          const i = yield M.b.post(\"players\", t);\n          return i && i.success ? i.id : null;\n        });\n      }\n      static createEmailRecord(e, t, i) {\n        return c.a(this, void 0, void 0, function*() {\n          x.b.enforceAppId(e.appId);\n          const n = new C(t.emailAddress, t.emailAuthHash, i);\n          n.appId = e.appId;\n          const r = yield M.b.post(\"players\", n.serialize());\n          return r && r.success ? r.id : null;\n        });\n      }\n      static updateEmailRecord(e, t, i) {\n        return c.a(this, void 0, void 0, function*() {\n          x.b.enforceAppId(e.appId), x.b.enforcePlayerId(t.emailId);\n          const n = new C(t.emailAddress, t.emailAuthHash, i);\n          n.appId = e.appId;\n          const r = yield M.b.put(`players/${t.emailId}`, n.serialize());\n          return r && r.success ? r.id : null;\n        });\n      }\n      static logoutEmail(e, t, i) {\n        return c.a(this, void 0, void 0, function*() {\n          x.b.enforceAppId(e.appId), x.b.enforcePlayerId(i);\n          const n = yield M.b.post(`players/${i}/email_logout`, {\n            app_id: e.appId,\n            parent_player_id: t.emailId,\n            email_auth_hash: t.emailAuthHash ? t.emailAuthHash : void 0\n          });\n          return !(!n || !n.success);\n        });\n      }\n      static updateUserSession(e, t) {\n        return c.a(this, void 0, void 0, function*() {\n          try {\n            const i = t.serialize();\n            x.b.enforceAppId(i.app_id), x.b.enforcePlayerId(e);\n            const n = yield M.b.post(`players/${e}/on_session`, i);\n            return n.id ? n.id : e;\n          } catch (e) {\n            throw e &&\n            Array.isArray(e.errors) &&\n            e.errors.length > 0 &&\n            x.b.contains(e.errors[0], \"app_id not found\")\n              ? new N.a(N.b.MissingAppId)\n              : e;\n          }\n        });\n      }\n    }\n    var D,\n      R,\n      U = i(21),\n      F = i(9),\n      B = i(24),\n      InvalidStateError = i(16);\n    ((R = D || (D = {}))[(R.Blocked = 0)] = \"Blocked\"),\n      (R[(R.Dismissed = 1)] = \"Dismissed\"),\n      (R[(R.Default = 2)] = \"Default\");\n    class L extends O.a {\n      constructor(e) {\n        switch (e) {\n          case D.Dismissed:\n            super(\"The user dismissed the permission prompt.\");\n            break;\n          case D.Blocked:\n            super(\"Notification permissions are blocked.\");\n            break;\n          case D.Default:\n            super(\"Notification permissions have not been granted yet.\");\n        }\n        (this.reason = e), Object.setPrototypeOf(this, L.prototype);\n      }\n    }\n    var V,\n      $,\n      SdkInitError = i(20);\n    (($ = V || (V = {}))[($.InvalidSafariSetup = 0)] = \"InvalidSafariSetup\"),\n      ($[($.Blocked = 1)] = \"Blocked\"),\n      ($[($.Dismissed = 2)] = \"Dismissed\");\n    class H extends O.a {\n      constructor(e) {\n        switch (e) {\n          case V.InvalidSafariSetup:\n            super(\n              \"The Safari site URL, icon size, or push certificate is invalid, or Safari is in a private session.\"\n            );\n            break;\n          case V.Blocked:\n            super(\"Notification permissions are blocked.\");\n            break;\n          case V.Dismissed:\n            super(\"The notification permission prompt was dismissed.\");\n        }\n        Object.setPrototypeOf(this, H.prototype);\n      }\n    }\n    var j = i(27);\n    class z {\n      constructor(e, t) {\n        (this.context = e), (this.config = t);\n      }\n      static isSafari() {\n        return m.a.isSafari();\n      }\n      subscribe(e) {\n        return c.a(this, void 0, void 0, function*() {\n          const t = r.a.getWindowEnv();\n          switch (t) {\n            case o.a.CustomIframe:\n            case o.a.Unknown:\n            case o.a.OneSignalProxyFrame:\n              throw new InvalidStateError.a(\n                InvalidStateError.b.UnsupportedEnvironment\n              );\n          }\n          let i;\n          switch (t) {\n            case o.a.ServiceWorker:\n              i = yield this.subscribeFcmFromWorker(e);\n              break;\n            case o.a.Host:\n            case o.a.OneSignalSubscriptionModal:\n            case o.a.OneSignalSubscriptionPopup:\n              if (\n                (yield OneSignal.privateGetNotificationPermission()) ===\n                p.a.Denied\n              )\n                throw new L(D.Blocked);\n              i = z.isSafari()\n                ? yield this.subscribeSafari()\n                : yield this.subscribeFcmFromPage(e);\n              break;\n            default:\n              throw new InvalidStateError.a(\n                InvalidStateError.b.UnsupportedEnvironment\n              );\n          }\n          return i;\n        });\n      }\n      registerSubscription(e, t) {\n        return c.a(this, void 0, void 0, function*() {\n          e && (e = U.a.deserialize(e));\n          const i = B.a.createFromPushSubscription(this.config.appId, e, t);\n          let n = void 0;\n          (yield this.isAlreadyRegisteredWithOneSignal())\n            ? yield this.context.updateManager.sendPlayerUpdate(i)\n            : (n = yield this.context.updateManager.sendPlayerCreate(i)) &&\n              (yield this.associateSubscriptionWithEmail(n));\n          const s = yield S.a.getSubscription();\n          return (\n            (s.deviceId = n),\n            (s.optedOut = !1),\n            e\n              ? z.isSafari()\n                ? (s.subscriptionToken = e.safariDeviceToken)\n                : (s.subscriptionToken = e.w3cEndpoint\n                    ? e.w3cEndpoint.toString()\n                    : null)\n              : (s.subscriptionToken = null),\n            yield S.a.setSubscription(s),\n            r.a.getWindowEnv() !== o.a.ServiceWorker &&\n              P.a.trigger(OneSignal.EVENTS.REGISTERED),\n            \"undefined\" != typeof OneSignal &&\n              (OneSignal._sessionInitAlreadyRunning = !1),\n            s\n          );\n        });\n      }\n      static requestPresubscribeNotificationPermission() {\n        return c.a(this, void 0, void 0, function*() {\n          return yield z.requestNotificationPermission();\n        });\n      }\n      unsubscribe(e) {\n        return c.a(this, void 0, void 0, function*() {\n          if (0 === e) throw new w.a();\n          if (1 !== e) throw new w.a();\n          if (r.a.getWindowEnv() !== o.a.ServiceWorker) throw new w.a();\n          {\n            const { deviceId: e } = yield S.a.getSubscription();\n            yield _.updatePlayer(this.context.appConfig.appId, e, {\n              notification_types: F.a.MutedByApi\n            }),\n              yield S.a.put(\"Options\", { key: \"optedOut\", value: !0 });\n          }\n        });\n      }\n      static requestNotificationPermission() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = yield window.Notification.requestPermission();\n          return p.a[e];\n        });\n      }\n      associateSubscriptionWithEmail(e) {\n        return c.a(this, void 0, void 0, function*() {\n          const t = yield S.a.getEmailProfile();\n          t.emailId &&\n            (yield _.updatePlayer(this.config.appId, e, {\n              parent_player_id: t.emailId,\n              email: t.emailAddress\n            }));\n        });\n      }\n      isAlreadyRegisteredWithOneSignal() {\n        return c.a(this, void 0, void 0, function*() {\n          const { deviceId: e } = yield S.a.getSubscription();\n          return !!e;\n        });\n      }\n      subscribeSafariPromptPermission() {\n        return new Promise(e => {\n          window.safari.pushNotification.requestPermission(\n            `${r.a.getOneSignalApiUrl().toString()}/safari`,\n            this.config.safariWebId,\n            { app_id: this.config.appId },\n            t => {\n              t.deviceToken ? e(t.deviceToken.toLowerCase()) : e(null);\n            }\n          );\n        });\n      }\n      subscribeSafari() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = new U.a();\n          if (!this.config.safariWebId)\n            throw new SdkInitError.a(SdkInitError.b.MissingSafariWebId);\n          const { deviceToken: t } = window.safari.pushNotification.permission(\n            this.config.safariWebId\n          );\n          (e.existingSafariDeviceToken = t),\n            t || P.a.trigger(OneSignal.EVENTS.PERMISSION_PROMPT_DISPLAYED);\n          const i = yield this.subscribeSafariPromptPermission();\n          if ((j.a.triggerNotificationPermissionChanged(), !i))\n            throw new H(V.InvalidSafariSetup);\n          return e.setFromSafariSubscription(i), e;\n        });\n      }\n      subscribeFcmFromPage(e) {\n        return c.a(this, void 0, void 0, function*() {\n          if (\n            r.a.getWindowEnv() !== o.a.ServiceWorker &&\n            window.Notification.permission === p.a.Default\n          ) {\n            yield P.a.trigger(OneSignal.EVENTS.PERMISSION_PROMPT_DISPLAYED);\n            const e = yield z.requestPresubscribeNotificationPermission();\n            switch (\n              (e === p.a.Default &&\n                (yield j.a.triggerNotificationPermissionChanged(!0)),\n              e)\n            ) {\n              case p.a.Default:\n                throw (s.a.debug(\n                  \"Exiting subscription and not registering worker because the permission was dismissed.\"\n                ),\n                (OneSignal._sessionInitAlreadyRunning = !1),\n                (OneSignal._isRegisteringForPush = !1),\n                new L(D.Dismissed));\n              case p.a.Denied:\n                throw (s.a.debug(\n                  \"Exiting subscription and not registering worker because the permission was blocked.\"\n                ),\n                (OneSignal._sessionInitAlreadyRunning = !1),\n                (OneSignal._isRegisteringForPush = !1),\n                new L(D.Blocked));\n            }\n          }\n          try {\n            yield this.context.serviceWorkerManager.installWorker();\n          } catch (e) {\n            throw (e instanceof I &&\n              (403 === e.status\n                ? yield this.context.subscriptionManager.registerFailedSubscription(\n                    F.a.ServiceWorkerStatus403,\n                    this.context\n                  )\n                : 404 === e.status &&\n                  (yield this.context.subscriptionManager.registerFailedSubscription(\n                    F.a.ServiceWorkerStatus404,\n                    this.context\n                  ))),\n            e);\n          }\n          s.a.debug(\"Waiting for the service worker to activate...\");\n          const t = yield navigator.serviceWorker.ready;\n          return (\n            s.a.debug(\"Service worker is ready to continue subscribing.\"),\n            yield this.subscribeWithVapidKey(t.pushManager, e)\n          );\n        });\n      }\n      subscribeFcmFromWorker(e) {\n        return c.a(this, void 0, void 0, function*() {\n          const t = self.registration;\n          if (!t.active && !l.a.firefox)\n            throw new InvalidStateError.a(\n              InvalidStateError.b.ServiceWorkerNotActivated\n            );\n          const i = yield t.pushManager.permissionState({\n            userVisibleOnly: !0\n          });\n          if (\"denied\" === i) throw new L(D.Blocked);\n          if (\"prompt\" === i) throw new L(D.Default);\n          return yield this.subscribeWithVapidKey(t.pushManager, e);\n        });\n      }\n      getVapidKeyForBrowser() {\n        let e = void 0;\n        return (e = l.a.firefox\n          ? this.config.onesignalVapidPublicKey\n          : this.config.vapidPublicKey)\n          ? (function(e) {\n              const t = (e + \"=\".repeat((4 - (e.length % 4)) % 4))\n                  .replace(/\\-/g, \"+\")\n                  .replace(/_/g, \"/\"),\n                i = atob(t),\n                n = new Uint8Array(i.length);\n              for (let e = 0; e < i.length; ++e) n[e] = i.charCodeAt(e);\n              return n;\n            })(e).buffer\n          : void 0;\n      }\n      subscribeWithVapidKey(e, t) {\n        return c.a(this, void 0, void 0, function*() {\n          const i = yield e.getSubscription();\n          switch (t) {\n            case 0:\n              if (!i) break;\n              i.options\n                ? s.a.debug(\n                    \"[Subscription Manager] An existing push subscription exists and it's options is not null.\"\n                  )\n                : (s.a.debug(\n                    \"[Subscription Manager] An existing push subscription exists and options is null. Unsubscribing from push first now.\"\n                  ),\n                  yield z.doPushUnsubscribe(i));\n              break;\n            case 1:\n              i && (yield z.doPushUnsubscribe(i));\n          }\n          const [n, r] = yield z.doPushSubscribe(\n            e,\n            this.getVapidKeyForBrowser()\n          );\n          yield z.updateSubscriptionTime(r, n.expirationTime);\n          const o = U.a.setFromW3cSubscription(n);\n          return (\n            i &&\n              (o.existingW3cPushSubscription = U.a.setFromW3cSubscription(i)),\n            o\n          );\n        });\n      }\n      static updateSubscriptionTime(e, t) {\n        return c.a(this, void 0, void 0, function*() {\n          const i = yield S.a.getSubscription();\n          e && (i.createdAt = new Date().getTime()),\n            (i.expirationTime = t),\n            yield S.a.setSubscription(i);\n        });\n      }\n      static doPushUnsubscribe(e) {\n        return c.a(this, void 0, void 0, function*() {\n          s.a.debug(\n            \"[Subscription Manager] Unsubscribing existing push subscription.\"\n          );\n          const t = yield e.unsubscribe();\n          return (\n            s.a.debug(\n              `[Subscription Manager] Unsubscribing existing push subscription result: ${t}`\n            ),\n            t\n          );\n        });\n      }\n      static doPushSubscribe(e, t) {\n        return c.a(this, void 0, void 0, function*() {\n          if (!t)\n            throw new Error(\n              \"Missing required 'applicationServerKey' to subscribe for push notifications!\"\n            );\n          const i = { userVisibleOnly: !0, applicationServerKey: t };\n          s.a.debug(\n            \"[Subscription Manager] Subscribing to web push with these options:\",\n            i\n          );\n          try {\n            const t = yield e.getSubscription();\n            return [yield e.subscribe(i), !t];\n          } catch (t) {\n            if (\"InvalidStateError\" == t.name)\n              return (\n                s.a.warn(\n                  \"[Subscription Manager] Couldn't re-subscribe due to applicationServerKey changing, unsubscribe and attempting to subscribe with new key.\",\n                  t\n                ),\n                yield z.doPushUnsubscribe(yield e.getSubscription()),\n                [yield e.subscribe(i), !0]\n              );\n            throw t;\n          }\n        });\n      }\n      isSubscriptionExpiring() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = yield r.a.getIntegration(),\n            t = r.a.getWindowEnv();\n          switch (e) {\n            case y.a.Secure:\n              return yield this.isSubscriptionExpiringForSecureIntegration();\n            case y.a.SecureProxy:\n              if (t === o.a.Host) {\n                const e = OneSignal.proxyFrameHost;\n                if (e)\n                  return yield e.runCommand(\n                    OneSignal.POSTMAM_COMMANDS.SUBSCRIPTION_EXPIRATION_STATE\n                  );\n                throw new InvalidStateError.a(InvalidStateError.b.NoProxyFrame);\n              }\n              return yield this.isSubscriptionExpiringForSecureIntegration();\n            case y.a.InsecureProxy:\n              const { expirationTime: i } = yield S.a.getSubscription();\n              return !!i && new Date().getTime() >= i;\n          }\n        });\n      }\n      isSubscriptionExpiringForSecureIntegration() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = yield this.context.serviceWorkerManager.getActiveState();\n          if (e !== E.a.WorkerA && e !== E.a.WorkerB) return !1;\n          const t = yield A.getRegistration();\n          if (!t) return !1;\n          if (!t.pushManager) return !1;\n          const i = yield t.pushManager.getSubscription();\n          if (!i) return !1;\n          if (!i.expirationTime) return !1;\n          let { createdAt: n } = yield S.a.getSubscription();\n          if (!n) {\n            const e = 31536e6;\n            n = new Date().getTime() + e;\n          }\n          const r = n + (i.expirationTime - n) / 2;\n          return (\n            !!i.expirationTime &&\n            (new Date().getTime() >= i.expirationTime ||\n              new Date().getTime() >= r)\n          );\n        });\n      }\n      getSubscriptionState() {\n        return c.a(this, void 0, void 0, function*() {\n          if (z.isSafari()) return this.getSubscriptionStateForSecure();\n          const e = r.a.getWindowEnv();\n          switch (e) {\n            case o.a.ServiceWorker:\n              const t = yield self.registration.pushManager.getSubscription(),\n                { optedOut: i } = yield S.a.getSubscription();\n              return { subscribed: !!t, optedOut: !!i };\n            default:\n              switch (yield r.a.getIntegration()) {\n                case y.a.Secure:\n                  return this.getSubscriptionStateForSecure();\n                case y.a.SecureProxy:\n                  switch (e) {\n                    case o.a.OneSignalProxyFrame:\n                    case o.a.OneSignalSubscriptionPopup:\n                    case o.a.OneSignalSubscriptionModal:\n                      return this.getSubscriptionStateForSecure();\n                    default:\n                      return yield OneSignal.proxyFrameHost.runCommand(\n                        OneSignal.POSTMAM_COMMANDS.GET_SUBSCRIPTION_STATE\n                      );\n                  }\n                case y.a.InsecureProxy:\n                  return yield this.getSubscriptionStateForInsecure();\n                default:\n                  throw new InvalidStateError.a(\n                    InvalidStateError.b.UnsupportedEnvironment\n                  );\n              }\n          }\n        });\n      }\n      getSubscriptionStateForSecure() {\n        return c.a(this, void 0, void 0, function*() {\n          const { deviceId: e, optedOut: t } = yield S.a.getSubscription();\n          if (z.isSafari()) {\n            const i = window.safari.pushNotification.permission(\n              this.config.safariWebId\n            );\n            return {\n              subscribed: !(\"granted\" !== i.permission || !i.deviceToken || !e),\n              optedOut: !!t\n            };\n          }\n          const i = yield this.context.serviceWorkerManager.getActiveState(),\n            n = yield A.getRegistration(),\n            r = yield this.context.permissionManager.getNotificationPermission(\n              this.context.appConfig.safariWebId\n            ),\n            o = i === E.a.WorkerA || i === E.a.WorkerB;\n          return n\n            ? { subscribed: !(!e || r !== p.a.Granted || !o), optedOut: !!t }\n            : { subscribed: !1, optedOut: !!t };\n        });\n      }\n      getSubscriptionStateForInsecure() {\n        return c.a(this, void 0, void 0, function*() {\n          const {\n              deviceId: e,\n              subscriptionToken: t,\n              optedOut: i\n            } = yield S.a.getSubscription(),\n            n = yield this.context.permissionManager.getNotificationPermission(\n              this.context.appConfig.safariWebId\n            );\n          return {\n            subscribed: !(!e || !t || n !== p.a.Granted),\n            optedOut: !!i\n          };\n        });\n      }\n      registerFailedSubscription(e, t) {\n        return c.a(this, void 0, void 0, function*() {\n          t.sessionManager.isFirstPageView() &&\n            (t.subscriptionManager.registerSubscription(new U.a(), e),\n            t.sessionManager.incrementPageViewCount());\n        });\n      }\n    }\n    var K,\n      G,\n      q = class {\n        static getServiceWorkerManager(e) {\n          const t = e.appConfig,\n            i = r.a.getBuildEnvPrefix(),\n            n = {\n              workerAPath: new v(`/${i}OneSignalSDKWorker.js`),\n              workerBPath: new v(`/${i}OneSignalSDKUpdaterWorker.js`),\n              registrationOptions: { scope: \"/\" }\n            };\n          return (\n            t.userConfig &&\n              (t.userConfig.path &&\n                ((n.workerAPath = new v(\n                  `${t.userConfig.path}${i}${t.userConfig.serviceWorkerPath}`\n                )),\n                (n.workerBPath = new v(\n                  `${t.userConfig.path}${i}${t.userConfig.serviceWorkerUpdaterPath}`\n                ))),\n              t.userConfig.serviceWorkerParam &&\n                (n.registrationOptions = t.userConfig.serviceWorkerParam)),\n            new A(e, n)\n          );\n        }\n        static getSubscriptionManager(e) {\n          const t = e.appConfig,\n            i = {\n              safariWebId: t.safariWebId,\n              appId: t.appId,\n              vapidPublicKey: t.vapidPublicKey,\n              onesignalVapidPublicKey: t.onesignalVapidPublicKey\n            };\n          return new z(e, i);\n        }\n      };\n    ((G = K || (K = {}))[(G.Unknown = 0)] = \"Unknown\"),\n      (G[(G.NoDeviceId = 1)] = \"NoDeviceId\"),\n      (G[(G.NoEmailSet = 2)] = \"NoEmailSet\"),\n      (G[(G.OptedOut = 3)] = \"OptedOut\");\n    class J extends O.a {\n      constructor(e) {\n        switch (e) {\n          case K.Unknown || K.NoDeviceId:\n            super(\n              \"This operation can only be performed after the user is subscribed.\"\n            );\n            break;\n          case K.NoEmailSet:\n            super(\"No email is currently set.\");\n            break;\n          case K.OptedOut:\n            super(\n              \"The user has manually opted out of receiving of notifications. This operation can only be performed after the user is fully resubscribed.\"\n            );\n        }\n        (this.reason = K[e]), Object.setPrototypeOf(this, J.prototype);\n      }\n    }\n    var Y = i(29);\n    class Q {\n      constructor(e) {\n        (this.context = e),\n          (this.onSessionSent = e.sessionManager.getPageViewCount() > 1);\n      }\n      getDeviceId() {\n        return c.a(this, void 0, void 0, function*() {\n          const { deviceId: e } = yield S.a.getSubscription();\n          if (!e) throw new J(K.NoDeviceId);\n          return e;\n        });\n      }\n      createDeviceRecord() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = new B.a();\n          return (\n            (e.appId = this.context.appConfig.appId),\n            (e.subscriptionState = yield Y.a.getCurrentNotificationType()),\n            e\n          );\n        });\n      }\n      sendPlayerUpdate(e) {\n        return c.a(this, void 0, void 0, function*() {\n          if (\n            !(yield this.context.subscriptionManager.isAlreadyRegisteredWithOneSignal())\n          )\n            return void s.a.debug(\n              \"Not sending the update because user is not registered with OneSignal (no device id)\"\n            );\n          const t = yield this.getDeviceId();\n          e || (e = yield this.createDeviceRecord()),\n            this.onSessionSent\n              ? yield _.updatePlayer(\n                  this.context.appConfig.appId,\n                  t,\n                  Object.assign(\n                    { notification_types: F.a.Subscribed },\n                    e.serialize()\n                  )\n                )\n              : yield this.sendOnSessionUpdate(e);\n        });\n      }\n      sendOnSessionUpdate(e) {\n        return c.a(this, void 0, void 0, function*() {\n          if (this.onSessionSent) return;\n          if (!this.context.sessionManager.isFirstPageView()) return;\n          if (\n            !(yield this.context.subscriptionManager.isAlreadyRegisteredWithOneSignal())\n          )\n            return void s.a.debug(\n              \"Not sending the on session because user is not registered with OneSignal (no device id)\"\n            );\n          const t = yield this.getDeviceId();\n          if (\n            (e || (e = yield this.createDeviceRecord()),\n            e.subscriptionState === F.a.Subscribed ||\n              !0 === OneSignal.config.enableOnSession)\n          )\n            try {\n              const i = yield _.updateUserSession(t, e);\n              if (((this.onSessionSent = !0), i !== t)) {\n                const e = yield S.a.getSubscription();\n                (e.deviceId = i), yield S.a.setSubscription(e);\n              }\n            } catch (e) {\n              s.a.error(\n                `Failed to update user session. Error \"${e.message}\" ${e.stack}`\n              );\n            }\n        });\n      }\n      sendPlayerCreate(e) {\n        return c.a(this, void 0, void 0, function*() {\n          try {\n            const t = yield _.createUser(e);\n            return t\n              ? (s.a.info(\n                  \"Subscribed to web push and registered with OneSignal\",\n                  e,\n                  t\n                ),\n                (this.onSessionSent = !0),\n                t)\n              : void s.a.error(\"Failed to create user.\");\n          } catch (e) {\n            return void s.a.error(\n              `Failed to create user. Error \"${e.message}\" ${e.stack}`\n            );\n          }\n        });\n      }\n      onSessionAlreadyCalled() {\n        return this.onSessionSent;\n      }\n      sendExternalUserIdUpdate(e) {\n        return c.a(this, void 0, void 0, function*() {\n          const t = yield this.getDeviceId();\n          yield _.updatePlayer(this.context.appConfig.appId, t, {\n            external_user_id: x.b.getValueOrDefault(e, \"\")\n          });\n        });\n      }\n    }\n    i.d(t, \"a\", function() {\n      return X;\n    });\n    class X {\n      constructor(e) {\n        (this.appConfig = e),\n          (this.subscriptionManager = q.getSubscriptionManager(this)),\n          (this.serviceWorkerManager = q.getServiceWorkerManager(this)),\n          (this.sessionManager = new a()),\n          (this.permissionManager = new b()),\n          (this.workerMessenger = new n.a(this)),\n          (this.updateManager = new Q(this));\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return s;\n    });\n    var n = i(0),\n      r = i(5),\n      o = i(19);\n    class s {\n      static triggerNotificationPermissionChanged(e = !1) {\n        return n.a(this, void 0, void 0, function*() {\n          const t = yield OneSignal.privateGetNotificationPermission();\n          (t !== (yield r.a.get(\"Options\", \"notificationPermission\")) || e) &&\n            (yield r.a.put(\"Options\", {\n              key: \"notificationPermission\",\n              value: t\n            }),\n            o.a.trigger(OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, {\n              to: t\n            }));\n        });\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n = i(0),\n      r = i(17),\n      o = i(9),\n      s = i(1),\n      a = i(2);\n    t.a = class {\n      static downloadServerAppConfig(e) {\n        return n.a(this, void 0, void 0, function*() {\n          return (\n            a.a.enforceAppId(e),\n            yield new Promise((t, i) => {\n              t(r.a.get(`sync/${e}/web`, null));\n            })\n          );\n        });\n      }\n      static getUserIdFromSubscriptionIdentifier(e, t, i) {\n        return (\n          a.a.enforceAppId(e),\n          r.a\n            .post(\"players\", {\n              app_id: e,\n              device_type: t,\n              identifier: i,\n              notification_types: o.a.TemporaryWebRecord\n            })\n            .then(e => (e && e.id ? e.id : null))\n            .catch(\n              e => (\n                s.a.debug(\n                  \"Error getting user ID from subscription identifier:\",\n                  e\n                ),\n                null\n              )\n            )\n        );\n      }\n      static updatePlayer(e, t, i) {\n        return (\n          a.a.enforceAppId(e),\n          a.a.enforcePlayerId(t),\n          r.a.put(`players/${t}`, Object.assign({ app_id: e }, i))\n        );\n      }\n    };\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n = i(0),\n      InvalidStateError = i(16),\n      r = i(19),\n      o = i(3),\n      s = i(5);\n    class a {\n      static isLocalStorageSupported() {\n        try {\n          return (\n            \"undefined\" != typeof localStorage &&\n            (localStorage.getItem(\"test\"), !0)\n          );\n        } catch (e) {\n          return !1;\n        }\n      }\n      static setItem(e, t, i) {\n        if (!a.isLocalStorageSupported()) return;\n        const n = void 0 !== i ? 60 * i * 1e3 : 0,\n          r = {\n            value: JSON.stringify(t),\n            timestamp: void 0 !== i ? new Date().getTime() + n : void 0\n          };\n        localStorage.setItem(e, JSON.stringify(r));\n      }\n      static getItem(e) {\n        if (!a.isLocalStorageSupported()) return null;\n        const t = localStorage.getItem(e);\n        let i;\n        try {\n          i = JSON.parse(t);\n        } catch (e) {\n          return null;\n        }\n        if (null === i) return null;\n        if (i.timestamp && new Date().getTime() >= i.timestamp)\n          return localStorage.removeItem(e), null;\n        let n = i.value;\n        try {\n          n = JSON.parse(i.value);\n        } catch (e) {\n          return n;\n        }\n        return n;\n      }\n      static removeItem(e) {\n        if (!a.isLocalStorageSupported()) return null;\n        localStorage.removeItem(e);\n      }\n    }\n    var c = i(1),\n      d = i(9),\n      u = i(12),\n      l = i(8),\n      p = i(27),\n      g = i(2);\n    i.d(t, \"a\", function() {\n      return f;\n    });\n    class f {\n      static getCurrentNotificationType() {\n        return n.a(this, void 0, void 0, function*() {\n          const e = yield OneSignal.context.permissionManager.getNotificationPermission(\n            OneSignal.context.appConfig.safariWebId\n          );\n          if (e === u.a.Default) return d.a.Default;\n          if (e === u.a.Denied)\n            return l.a.isUsingSubscriptionWorkaround()\n              ? d.a.Default\n              : d.a.NotSubscribed;\n          const t = yield OneSignal.context.subscriptionManager.isAlreadyRegisteredWithOneSignal();\n          if (e === u.a.Granted && t) {\n            return (yield OneSignal.privateIsPushNotificationsEnabled())\n              ? d.a.Subscribed\n              : d.a.MutedByApi;\n          }\n          return d.a.Default;\n        });\n      }\n      static getNotificationTypeFromOptIn(e) {\n        return 1 == e || null == e ? d.a.Subscribed : d.a.MutedByApi;\n      }\n      static wasHttpsNativePromptDismissed() {\n        return \"dismissed\" === a.getItem(\"onesignal-notification-prompt\");\n      }\n      static markHttpPopoverShown() {\n        sessionStorage.setItem(\"ONESIGNAL_HTTP_PROMPT_SHOWN\", \"true\");\n      }\n      static isHttpPromptAlreadyShown() {\n        return \"true\" == sessionStorage.getItem(\"ONESIGNAL_HTTP_PROMPT_SHOWN\");\n      }\n      static checkAndTriggerNotificationPermissionChanged() {\n        return n.a(this, void 0, void 0, function*() {\n          const e = yield s.a.get(\"Options\", \"notificationPermission\"),\n            t = yield OneSignal.getNotificationPermission();\n          e !== t &&\n            (yield p.a.triggerNotificationPermissionChanged(),\n            yield s.a.put(\"Options\", {\n              key: \"notificationPermission\",\n              value: t\n            }));\n        });\n      }\n      static getNotificationIcons() {\n        return n.a(this, void 0, void 0, function*() {\n          const e = yield f.getAppId();\n          if (!e)\n            throw new InvalidStateError.a(InvalidStateError.b.MissingAppId);\n          var t = `${o.a.getOneSignalApiUrl().toString()}/apps/${e}/icon`;\n          const i = yield (yield fetch(t)).json();\n          if (i.errors)\n            throw (c.a.error(\n              `API call %c${t}`,\n              g.a.getConsoleStyle(\"code\"),\n              \"failed with:\",\n              i.errors\n            ),\n            new Error(\"Failed to get notification icons.\"));\n          return i;\n        });\n      }\n      static getSlidedownPermissionMessageOptions(e) {\n        const t =\n          \"We'd like to show you notifications for the latest news and updates.\";\n        return e\n          ? e.slidedown\n            ? {\n                enabled: e.slidedown.enabled,\n                autoPrompt: e.slidedown.autoPrompt,\n                actionMessage: e.slidedown.actionMessage || t,\n                acceptButtonText: e.slidedown.acceptButtonText || \"Allow\",\n                cancelButtonText: e.slidedown.cancelButtonText || \"No Thanks\"\n              }\n            : {\n                enabled: !1,\n                autoPrompt: !1,\n                actionMessage: e.actionMessage || t,\n                acceptButtonText: e.acceptButtonText || \"Allow\",\n                cancelButtonText: e.cancelButtonText || \"No Thanks\"\n              }\n          : {\n              enabled: !1,\n              autoPrompt: !1,\n              actionMessage: t,\n              acceptButtonText: \"Allow\",\n              cancelButtonText: \"No Thanks\"\n            };\n      }\n      static getFullscreenPermissionMessageOptions(e) {\n        return e\n          ? e.fullscreen\n            ? {\n                autoAcceptTitle: e.fullscreen.autoAcceptTitle,\n                actionMessage: e.fullscreen.actionMessage,\n                exampleNotificationTitleDesktop: e.fullscreen.title,\n                exampleNotificationTitleMobile: e.fullscreen.title,\n                exampleNotificationMessageDesktop: e.fullscreen.message,\n                exampleNotificationMessageMobile: e.fullscreen.message,\n                exampleNotificationCaption: e.fullscreen.caption,\n                acceptButtonText: e.fullscreen.acceptButton,\n                cancelButtonText: e.fullscreen.cancelButton\n              }\n            : e\n          : null;\n      }\n      static getPromptOptionsQueryString() {\n        let e = \"\";\n        if (\n          f.getFullscreenPermissionMessageOptions(\n            OneSignal.config.userConfig.promptOptions\n          )\n        ) {\n          let t = f.getPromptOptionsPostHash();\n          for (let i of Object.keys(t)) {\n            e += \"&\" + i + \"=\" + t[i];\n          }\n        }\n        return e;\n      }\n      static getPromptOptionsPostHash() {\n        let e = f.getFullscreenPermissionMessageOptions(\n          OneSignal.config.userConfig.promptOptions\n        );\n        if (e) {\n          var t = {\n            exampleNotificationTitleDesktop: \"exampleNotificationTitle\",\n            exampleNotificationMessageDesktop: \"exampleNotificationMessage\",\n            exampleNotificationTitleMobile: \"exampleNotificationTitle\",\n            exampleNotificationMessageMobile: \"exampleNotificationMessage\"\n          };\n          for (let i of Object.keys(t)) {\n            let n = t[i];\n            e[i] && (e[n] = e[i]);\n          }\n          for (\n            var i = [\n                \"autoAcceptTitle\",\n                \"siteName\",\n                \"autoAcceptTitle\",\n                \"subscribeText\",\n                \"showGraphic\",\n                \"actionMessage\",\n                \"exampleNotificationTitle\",\n                \"exampleNotificationMessage\",\n                \"exampleNotificationCaption\",\n                \"acceptButtonText\",\n                \"cancelButtonText\",\n                \"timeout\"\n              ],\n              n = {},\n              r = 0;\n            r < i.length;\n            r++\n          ) {\n            var o = i[r],\n              s = e[o],\n              a = encodeURIComponent(s);\n            (s || !1 === s || \"\" === s) && (n[o] = a);\n          }\n        }\n        return n;\n      }\n      static triggerCustomPromptClicked(e) {\n        r.a.trigger(OneSignal.EVENTS.CUSTOM_PROMPT_CLICKED, { result: e });\n      }\n      static getAppId() {\n        return n.a(this, void 0, void 0, function*() {\n          if (OneSignal.config.appId)\n            return Promise.resolve(OneSignal.config.appId);\n          return yield s.a.get(\"Ids\", \"appId\");\n        });\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return d;\n    });\n    var n = i(11),\n      r = i.n(n),\n      o = i(10),\n      s = i(18),\n      a = i(23),\n      c = i(8);\n    class d {\n      constructor() {\n        (this.language = o.a.getLanguage()),\n          (this.timezone = -60 * new Date().getTimezoneOffset());\n        const e = parseInt(String(r.a.version), 10);\n        (this.browserVersion = isNaN(e) ? -1 : e),\n          (this.deviceModel = navigator.platform),\n          (this.sdkVersion = o.a.version().toString()),\n          (this.deliveryPlatform = this.getDeliveryPlatform());\n      }\n      isSafari() {\n        return (\n          r.a.safari &&\n          void 0 !== window.safari &&\n          void 0 !== window.safari.pushNotification\n        );\n      }\n      getDeliveryPlatform() {\n        const e = c.a.redetectBrowserUserAgent();\n        return this.isSafari()\n          ? a.a.Safari\n          : e.firefox\n          ? a.a.Firefox\n          : e.msedge\n          ? a.a.Edge\n          : a.a.ChromeLike;\n      }\n      serialize() {\n        const e = {\n          device_type: this.deliveryPlatform,\n          language: this.language,\n          timezone: this.timezone,\n          device_os: this.browserVersion,\n          device_model: this.deviceModel,\n          sdk: this.sdkVersion,\n          notification_types: this.subscriptionState\n        };\n        return this.appId && (e.app_id = this.appId), e;\n      }\n      deserialize(e) {\n        throw new s.a();\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n,\n      r,\n      o,\n      s = i(0);\n    !(function(e) {\n      (e.TypicalSite = \"typical\"),\n        (e.WordPress = \"wordpress\"),\n        (e.Shopify = \"shopify\"),\n        (e.Blogger = \"blogger\"),\n        (e.Magento = \"magento\"),\n        (e.Drupal = \"drupal\"),\n        (e.SquareSpace = \"squarespace\"),\n        (e.Joomla = \"joomla\"),\n        (e.Weebly = \"weebly\"),\n        (e.Wix = \"wix\"),\n        (e.Custom = \"custom\");\n    })(n || (n = {})),\n      (function(e) {\n        (e.Exact = \"exact\"), (e.Origin = \"origin\");\n      })(r || (r = {})),\n      (function(e) {\n        (e.Navigate = \"navigate\"), (e.Focus = \"focus\");\n      })(o || (o = {}));\n    var a,\n      c,\n      d = i(4),\n      SdkInitError = i(20),\n      u = i(3),\n      l = i(8),\n      p = i(2),\n      g = i(29);\n    i.d(t, \"a\", function() {\n      return f;\n    }),\n      ((c = a || (a = {}))[(c.Dashboard = 0)] = \"Dashboard\"),\n      (c[(c.JavaScript = 1)] = \"JavaScript\");\n    class f {\n      static getAppConfig(e, t) {\n        return s.a(this, void 0, void 0, function*() {\n          try {\n            if (!e || !e.appId || !l.b.isValidUuid(e.appId))\n              throw new SdkInitError.a(SdkInitError.b.InvalidAppId);\n            const i = yield t(e.appId),\n              n = this.getMergedConfig(e, i);\n            return this.checkRestrictedOrigin(n), n;\n          } catch (e) {\n            if (e) {\n              if (1 === e.code)\n                throw new SdkInitError.a(SdkInitError.b.InvalidAppId);\n              if (2 === e.code)\n                throw new SdkInitError.a(\n                  SdkInitError.b.AppNotConfiguredForWebPush\n                );\n            }\n            throw e;\n          }\n        });\n      }\n      static checkRestrictedOrigin(e) {\n        if (\n          e.restrictedOriginEnabled &&\n          u.a.getWindowEnv() !== d.a.ServiceWorker &&\n          window.top === window &&\n          !p.b.contains(window.location.hostname, \".os.tc\") &&\n          !p.b.contains(window.location.hostname, \".onesignal.com\") &&\n          !this.doesCurrentOriginMatchConfigOrigin(e.origin)\n        )\n          throw new SdkInitError.a(SdkInitError.b.WrongSiteUrl, {\n            siteUrl: e.origin\n          });\n      }\n      static doesCurrentOriginMatchConfigOrigin(e) {\n        try {\n          return location.origin === new URL(e).origin;\n        } catch (e) {\n          return !1;\n        }\n      }\n      static getIntegrationCapabilities(e) {\n        switch (e) {\n          case n.Custom:\n          case n.WordPress:\n            return { configuration: a.JavaScript };\n          default:\n            return { configuration: a.Dashboard };\n        }\n      }\n      static getMergedConfig(e, t) {\n        const i = this.getConfigIntegrationKind(t),\n          n = this.getSubdomainForConfigIntegrationKind(i, e, t),\n          r = t.config.setupBehavior\n            ? t.config.setupBehavior.allowLocalhostAsSecureOrigin\n            : e.allowLocalhostAsSecureOrigin,\n          o = l.b.internalIsUsingSubscriptionWorkaround(n, r),\n          s = this.getUserConfigForConfigIntegrationKind(i, e, t, o);\n        return {\n          appId: t.app_id,\n          subdomain: n,\n          origin: t.config.origin,\n          httpUseOneSignalCom: t.config.http_use_onesignal_com,\n          cookieSyncEnabled: t.features.cookie_sync.enable,\n          restrictedOriginEnabled:\n            t.features.restrict_origin && t.features.restrict_origin.enable,\n          metrics: {\n            enable: t.features.metrics.enable,\n            mixpanelReportingToken: t.features.metrics.mixpanel_reporting_token\n          },\n          safariWebId: t.config.safari_web_id,\n          vapidPublicKey: t.config.vapid_public_key,\n          onesignalVapidPublicKey: t.config.onesignal_vapid_public_key,\n          emailAuthRequired: t.features.email && t.features.email.require_auth,\n          userConfig: s,\n          enableOnSession: t.features.enable_on_session || !1,\n          receiveReceiptsEnable: t.features.receive_receipts_enable || !1\n        };\n      }\n      static getConfigIntegrationKind(e) {\n        return e.config.integration ? e.config.integration.kind : n.Custom;\n      }\n      static getCustomLinkConfig(e) {\n        const t = {\n          enabled: !1,\n          style: \"button\",\n          size: \"medium\",\n          unsubscribeEnabled: !1,\n          text: { explanation: \"\", subscribe: \"\", unsubscribe: \"\" },\n          color: { button: \"\", text: \"\" }\n        };\n        if (\n          !(\n            e &&\n            e.config &&\n            e.config.staticPrompts &&\n            e.config.staticPrompts.customlink &&\n            e.config.staticPrompts.customlink.enabled\n          )\n        )\n          return t;\n        const i = e.config.staticPrompts.customlink;\n        return {\n          enabled: i.enabled,\n          style: i.style,\n          size: i.size,\n          unsubscribeEnabled: i.unsubscribeEnabled,\n          text: i.text\n            ? {\n                subscribe: i.text.subscribe,\n                unsubscribe: i.text.unsubscribe,\n                explanation: i.text.explanation\n              }\n            : t.text,\n          color: i.color\n            ? { button: i.color.button, text: i.color.text }\n            : t.color\n        };\n      }\n      static injectDefaultsIntoPromptOptions(e, t, i, n = !1) {\n        let r = { enabled: !1 };\n        e && e.customlink && (r = e.customlink);\n        const o = t.customlink,\n          s = Object.assign({}, e, {\n            customlink: {\n              enabled: p.b.getValueOrDefault(r.enabled, o.enabled),\n              style: p.b.getValueOrDefault(r.style, o.style),\n              size: p.b.getValueOrDefault(r.size, o.size),\n              unsubscribeEnabled: p.b.getValueOrDefault(\n                r.unsubscribeEnabled,\n                o.unsubscribeEnabled\n              ),\n              text: {\n                subscribe: p.b.getValueOrDefault(\n                  r.text ? r.text.subscribe : void 0,\n                  o.text.subscribe\n                ),\n                unsubscribe: p.b.getValueOrDefault(\n                  r.text ? r.text.unsubscribe : void 0,\n                  o.text.unsubscribe\n                ),\n                explanation: p.b.getValueOrDefault(\n                  r.text ? r.text.explanation : void 0,\n                  o.text.explanation\n                )\n              },\n              color: {\n                button: p.b.getValueOrDefault(\n                  r.color ? r.color.button : void 0,\n                  o.color.button\n                ),\n                text: p.b.getValueOrDefault(\n                  r.color ? r.color.text : void 0,\n                  o.color.text\n                )\n              }\n            }\n          });\n        return (\n          s.slidedown\n            ? ((s.slidedown.enabled = !!s.slidedown.enabled),\n              (s.slidedown.autoPrompt = s.slidedown.hasOwnProperty(\"autoPrompt\")\n                ? !!s.slidedown.enabled && !!s.slidedown.autoPrompt\n                : !!s.slidedown.enabled))\n            : ((s.slidedown = g.a.getSlidedownPermissionMessageOptions(s)),\n              (s.slidedown.enabled = !1),\n              (s.slidedown.autoPrompt = !1)),\n          s.native\n            ? ((s.native.enabled = !!s.native.enabled),\n              (s.native.autoPrompt = s.native.hasOwnProperty(\"autoPrompt\")\n                ? !!s.native.enabled && !!s.native.autoPrompt\n                : !!s.native.enabled))\n            : (s.native = { enabled: !1, autoPrompt: !1 }),\n          !0 === i.autoRegister &&\n            (n\n              ? ((s.native.enabled = !1),\n                (s.native.autoPrompt = !1),\n                (s.slidedown.enabled = !0),\n                (s.slidedown.autoPrompt = !0))\n              : ((s.native.enabled = !0), (s.native.autoPrompt = !0))),\n          (s.autoPrompt = s.native.autoPrompt || s.slidedown.autoPrompt),\n          s\n        );\n      }\n      static getPromptOptionsForDashboardConfiguration(e) {\n        const t = e.config.staticPrompts,\n          i = t.native\n            ? {\n                enabled: t.native.enabled,\n                autoPrompt: t.native.enabled && !1 !== t.native.autoPrompt\n              }\n            : { enabled: !1, autoPrompt: !1 },\n          n = {\n            enabled: t.slidedown.enabled,\n            autoPrompt: t.slidedown.enabled && !1 !== t.slidedown.autoPrompt,\n            actionMessage: t.slidedown.actionMessage,\n            acceptButtonText: t.slidedown.acceptButton,\n            cancelButtonText: t.slidedown.cancelButton\n          };\n        return {\n          autoPrompt: i.autoPrompt || n.autoPrompt,\n          native: i,\n          slidedown: n,\n          fullscreen: {\n            enabled: t.fullscreen.enabled,\n            actionMessage: t.fullscreen.actionMessage,\n            acceptButton: t.fullscreen.acceptButton,\n            cancelButton: t.fullscreen.cancelButton,\n            title: t.fullscreen.title,\n            message: t.fullscreen.message,\n            caption: t.fullscreen.caption,\n            autoAcceptTitle: t.fullscreen.autoAcceptTitle\n          },\n          customlink: this.getCustomLinkConfig(e)\n        };\n      }\n      static getUserConfigForConfigIntegrationKind(e, t, i, n = !1) {\n        switch (this.getIntegrationCapabilities(e).configuration) {\n          case a.Dashboard:\n            return {\n              appId: i.app_id,\n              autoRegister: !1,\n              autoResubscribe: i.config.autoResubscribe,\n              path: i.config.serviceWorker.path,\n              serviceWorkerPath: i.config.serviceWorker.workerName,\n              serviceWorkerUpdaterPath:\n                i.config.serviceWorker.updaterWorkerName,\n              serviceWorkerParam: {\n                scope: i.config.serviceWorker.registrationScope\n              },\n              subdomainName: i.config.siteInfo.proxyOrigin,\n              promptOptions: this.getPromptOptionsForDashboardConfiguration(i),\n              welcomeNotification: {\n                disable: !i.config.welcomeNotification.enable,\n                title: i.config.welcomeNotification.title,\n                message: i.config.welcomeNotification.message,\n                url: i.config.welcomeNotification.url\n              },\n              notifyButton: {\n                enable: i.config.staticPrompts.bell.enabled,\n                displayPredicate: i.config.staticPrompts.bell.hideWhenSubscribed\n                  ? () => OneSignal.isPushNotificationsEnabled().then(e => !e)\n                  : null,\n                size: i.config.staticPrompts.bell.size,\n                position: i.config.staticPrompts.bell.location,\n                showCredit: !1,\n                offset: {\n                  bottom: i.config.staticPrompts.bell.offset.bottom + \"px\",\n                  left: i.config.staticPrompts.bell.offset.left + \"px\",\n                  right: i.config.staticPrompts.bell.offset.right + \"px\"\n                },\n                colors: {\n                  \"circle.background\": i.config.staticPrompts.bell.color.main,\n                  \"circle.foreground\": i.config.staticPrompts.bell.color.accent,\n                  \"badge.background\": \"black\",\n                  \"badge.foreground\": \"white\",\n                  \"badge.bordercolor\": \"black\",\n                  \"pulse.color\": i.config.staticPrompts.bell.color.accent,\n                  \"dialog.button.background.hovering\":\n                    i.config.staticPrompts.bell.color.main,\n                  \"dialog.button.background.active\":\n                    i.config.staticPrompts.bell.color.main,\n                  \"dialog.button.background\":\n                    i.config.staticPrompts.bell.color.main,\n                  \"dialog.button.foreground\": \"white\"\n                },\n                text: {\n                  \"tip.state.unsubscribed\":\n                    i.config.staticPrompts.bell.tooltip.unsubscribed,\n                  \"tip.state.subscribed\":\n                    i.config.staticPrompts.bell.tooltip.subscribed,\n                  \"tip.state.blocked\":\n                    i.config.staticPrompts.bell.tooltip.blocked,\n                  \"message.prenotify\":\n                    i.config.staticPrompts.bell.tooltip.unsubscribed,\n                  \"message.action.subscribing\":\n                    i.config.staticPrompts.bell.message.subscribing,\n                  \"message.action.subscribed\":\n                    i.config.staticPrompts.bell.message.subscribing,\n                  \"message.action.resubscribed\":\n                    i.config.staticPrompts.bell.message.subscribing,\n                  \"message.action.unsubscribed\":\n                    i.config.staticPrompts.bell.message.unsubscribing,\n                  \"dialog.main.title\":\n                    i.config.staticPrompts.bell.dialog.main.title,\n                  \"dialog.main.button.subscribe\":\n                    i.config.staticPrompts.bell.dialog.main.subscribeButton,\n                  \"dialog.main.button.unsubscribe\":\n                    i.config.staticPrompts.bell.dialog.main.unsubscribeButton,\n                  \"dialog.blocked.title\":\n                    i.config.staticPrompts.bell.dialog.blocked.title,\n                  \"dialog.blocked.message\":\n                    i.config.staticPrompts.bell.dialog.blocked.message\n                }\n              },\n              persistNotification: i.config.notificationBehavior\n                ? i.config.notificationBehavior.display.persist\n                : void 0,\n              webhooks: {\n                cors: i.config.webhooks.corsEnable,\n                \"notification.displayed\":\n                  i.config.webhooks.notificationDisplayedHook,\n                \"notification.clicked\":\n                  i.config.webhooks.notificationClickedHook,\n                \"notification.dismissed\":\n                  i.config.webhooks.notificationDismissedHook\n              },\n              notificationClickHandlerMatch: i.config.notificationBehavior\n                ? i.config.notificationBehavior.click.match\n                : void 0,\n              notificationClickHandlerAction: i.config.notificationBehavior\n                ? i.config.notificationBehavior.click.action\n                : void 0,\n              allowLocalhostAsSecureOrigin: i.config.setupBehavior\n                ? i.config.setupBehavior.allowLocalhostAsSecureOrigin\n                : void 0,\n              requiresUserPrivacyConsent: t.requiresUserPrivacyConsent\n            };\n          case a.JavaScript:\n            const r = Object.assign(\n              {},\n              t,\n              {\n                promptOptions: this.injectDefaultsIntoPromptOptions(\n                  t.promptOptions,\n                  i.config.staticPrompts,\n                  t,\n                  n\n                )\n              },\n              {\n                serviceWorkerParam:\n                  \"undefined\" != typeof OneSignal &&\n                  OneSignal.SERVICE_WORKER_PARAM\n                    ? OneSignal.SERVICE_WORKER_PARAM\n                    : { scope: \"/\" },\n                serviceWorkerPath:\n                  \"undefined\" != typeof OneSignal &&\n                  OneSignal.SERVICE_WORKER_PATH\n                    ? OneSignal.SERVICE_WORKER_PATH\n                    : \"OneSignalSDKWorker.js\",\n                serviceWorkerUpdaterPath:\n                  \"undefined\" != typeof OneSignal &&\n                  OneSignal.SERVICE_WORKER_UPDATER_PATH\n                    ? OneSignal.SERVICE_WORKER_UPDATER_PATH\n                    : \"OneSignalSDUpdaterKWorker.js\",\n                path: t.path ? t.path : \"/\"\n              }\n            );\n            return (\n              t.hasOwnProperty(\"autoResubscribe\")\n                ? (r.autoResubscribe = !!t.autoResubscribe)\n                : t.hasOwnProperty(\"autoRegister\")\n                ? (r.autoResubscribe = !!t.autoRegister)\n                : (r.autoResubscribe = !!i.config.autoResubscribe),\n              r\n            );\n        }\n      }\n      static getSubdomainForConfigIntegrationKind(e, t, i) {\n        const n = this.getIntegrationCapabilities(e);\n        let r = t.subdomainName,\n          o = \"\";\n        switch (n.configuration) {\n          case a.Dashboard:\n            o = i.config.siteInfo.proxyOriginEnabled\n              ? i.config.siteInfo.proxyOrigin\n              : void 0;\n            break;\n          case a.JavaScript:\n            o = i.config.subdomain;\n        }\n        return o && !this.shouldUseServerConfigSubdomain(r, n) ? void 0 : o;\n      }\n      static shouldUseServerConfigSubdomain(e, t) {\n        switch (t.configuration) {\n          case a.Dashboard:\n            return !0;\n          case a.JavaScript:\n            switch (location.protocol) {\n              case \"https:\":\n                return !!e;\n              case \"http:\":\n                return !0;\n              default:\n                return !1;\n            }\n        }\n      }\n    }\n  },\n  function(e, t) {\n    var i;\n    i = (function() {\n      return this;\n    })();\n    try {\n      i = i || Function(\"return this\")() || (0, eval)(\"this\");\n    } catch (e) {\n      \"object\" == typeof window && (i = window);\n    }\n    e.exports = i;\n  },\n  function(e, t, i) {\n    \"use strict\";\n    (function(e) {\n      i.d(t, \"a\", function() {\n        return y;\n      });\n      var n = i(0),\n        r = i(11),\n        o = i.n(r),\n        s = i(10),\n        a = i(7),\n        c = i(3),\n        d = i(26),\n        u = i(17),\n        l = i(28),\n        p = i(5),\n        g = i(21),\n        f = i(9),\n        h = i(24),\n        b = i(1),\n        m = i(31),\n        v = i(8),\n        S = i(2);\n      class y {\n        static get VERSION() {\n          return s.a.version();\n        }\n        static get environment() {\n          return s.a;\n        }\n        static get log() {\n          return b.a;\n        }\n        static get database() {\n          return p.a;\n        }\n        static get browser() {\n          return o.a;\n        }\n        static get workerMessenger() {\n          return (\n            self.workerMessenger || (self.workerMessenger = new a.a(null)),\n            self.workerMessenger\n          );\n        }\n        static run() {\n          self.addEventListener(\"push\", y.onPushReceived),\n            self.addEventListener(\"notificationclose\", y.onNotificationClosed),\n            self.addEventListener(\"notificationclick\", e =>\n              e.waitUntil(y.onNotificationClicked(e))\n            ),\n            self.addEventListener(\"install\", y.onServiceWorkerInstalled),\n            self.addEventListener(\"activate\", y.onServiceWorkerActivated),\n            self.addEventListener(\"pushsubscriptionchange\", e => {\n              e.waitUntil(y.onPushSubscriptionChange(e));\n            }),\n            b.a.debug(\"Setting up message listeners.\"),\n            y.workerMessenger.listen(),\n            y.setupMessageListeners();\n        }\n        static getAppId() {\n          return n.a(this, void 0, void 0, function*() {\n            if (self.location.search) {\n              const e = self.location.search.match(/appId=([0-9a-z-]+)&?/i);\n              if (e && e.length > 1) {\n                return e[1];\n              }\n            }\n            const { appId: e } = yield p.a.getAppConfig();\n            return e;\n          });\n        }\n        static setupMessageListeners() {\n          y.workerMessenger.on(a.b.WorkerVersion, e => {\n            b.a.debug(\"[Service Worker] Received worker version message.\"),\n              y.workerMessenger.broadcast(a.b.WorkerVersion, s.a.version());\n          }),\n            y.workerMessenger.on(a.b.Subscribe, e =>\n              n.a(this, void 0, void 0, function*() {\n                const t = e;\n                b.a.debug(\"[Service Worker] Received subscribe message.\");\n                const i = new d.a(t),\n                  n = yield i.subscriptionManager.subscribe(0),\n                  r = yield i.subscriptionManager.registerSubscription(n);\n                y.workerMessenger.broadcast(a.b.Subscribe, r.serialize());\n              })\n            ),\n            y.workerMessenger.on(a.b.SubscribeNew, e =>\n              n.a(this, void 0, void 0, function*() {\n                const t = e;\n                b.a.debug(\"[Service Worker] Received subscribe new message.\");\n                const i = new d.a(t),\n                  n = yield i.subscriptionManager.subscribe(1),\n                  r = yield i.subscriptionManager.registerSubscription(n);\n                y.workerMessenger.broadcast(a.b.SubscribeNew, r.serialize());\n              })\n            ),\n            y.workerMessenger.on(a.b.AmpSubscriptionState, e =>\n              n.a(this, void 0, void 0, function*() {\n                b.a.debug(\n                  \"[Service Worker] Received AMP subscription state message.\"\n                );\n                const e = yield self.registration.pushManager.getSubscription();\n                if (e) {\n                  const t = yield self.registration.pushManager.permissionState(\n                      e.options\n                    ),\n                    { optedOut: i } = yield p.a.getSubscription(),\n                    n = !!e && \"granted\" === t && !0 !== i;\n                  y.workerMessenger.broadcast(a.b.AmpSubscriptionState, n);\n                } else y.workerMessenger.broadcast(a.b.AmpSubscriptionState, !1);\n              })\n            ),\n            y.workerMessenger.on(a.b.AmpSubscribe, () =>\n              n.a(this, void 0, void 0, function*() {\n                b.a.debug(\"[Service Worker] Received AMP subscribe message.\");\n                const e = yield y.getAppId(),\n                  t = yield m.a.getAppConfig(\n                    { appId: e },\n                    l.a.downloadServerAppConfig\n                  ),\n                  i = new d.a(t),\n                  n = yield i.subscriptionManager.subscribe(0),\n                  r = yield i.subscriptionManager.registerSubscription(n);\n                y.workerMessenger.broadcast(a.b.AmpSubscribe, r.deviceId);\n              })\n            ),\n            y.workerMessenger.on(a.b.AmpUnsubscribe, () =>\n              n.a(this, void 0, void 0, function*() {\n                b.a.debug(\"[Service Worker] Received AMP unsubscribe message.\");\n                const e = yield y.getAppId(),\n                  t = yield m.a.getAppConfig(\n                    { appId: e },\n                    l.a.downloadServerAppConfig\n                  );\n                yield new d.a(t).subscriptionManager.unsubscribe(1),\n                  y.workerMessenger.broadcast(a.b.AmpUnsubscribe, null);\n              })\n            );\n        }\n        static onPushReceived(e) {\n          b.a.debug(\n            `Called %conPushReceived(${JSON.stringify(e, null, 4)}):`,\n            S.a.getConsoleStyle(\"code\"),\n            e\n          ),\n            e.waitUntil(\n              y\n                .parseOrFetchNotifications(e)\n                .then(e => {\n                  let t = [];\n                  for (let i of e) {\n                    b.a.debug(\"Raw Notification from OneSignal:\", i);\n                    let e = y.buildStructuredNotificationObject(i);\n                    t.push(\n                      (e =>\n                        y\n                          .displayNotification(e)\n                          .then(() =>\n                            y.workerMessenger\n                              .broadcast(a.b.NotificationDisplayed, e)\n                              .catch(e => b.a.error(e))\n                          )\n                          .then(() =>\n                            y\n                              .executeWebhooks(\"notification.displayed\", e)\n                              .then(() => y.sendConfirmedDelivery(e))\n                              .catch(e => b.a.error(e))\n                          )).bind(null, e)\n                    );\n                  }\n                  return t.reduce((e, t) => e.then(t), Promise.resolve());\n                })\n                .catch(e => {\n                  b.a.debug(\"Failed to display a notification:\", e),\n                    y.UNSUBSCRIBED_FROM_NOTIFICATIONS &&\n                      b.a.debug(\n                        \"Because we have just unsubscribed from notifications, we will not show anything.\"\n                      );\n                })\n            );\n        }\n        static executeWebhooks(e, t) {\n          return n.a(this, void 0, void 0, function*() {\n            const i = yield p.a.get(\"Options\", `webhooks.${e}`);\n            if (!i) return null;\n            const { deviceId: n } = yield p.a.getSubscription(),\n              r = yield p.a.get(\"Options\", \"webhooks.cors\"),\n              o = {\n                event: e,\n                id: t.id,\n                userId: n,\n                action: t.action,\n                buttons: t.buttons,\n                heading: t.heading,\n                content: t.content,\n                url: t.url,\n                icon: t.icon,\n                data: t.data\n              },\n              s = { method: \"post\", mode: \"no-cors\", body: JSON.stringify(o) };\n            return (\n              r &&\n                ((s.mode = \"cors\"),\n                (s.headers = {\n                  \"X-OneSignal-Event\": e,\n                  \"Content-Type\": \"application/json\"\n                })),\n              b.a.debug(\n                `Executing ${e} webhook ${\n                  r ? \"with\" : \"without\"\n                } CORS %cPOST ${i}`,\n                S.a.getConsoleStyle(\"code\"),\n                \":\",\n                o\n              ),\n              yield fetch(i, s)\n            );\n          });\n        }\n        static sendConfirmedDelivery(e) {\n          return n.a(this, void 0, void 0, function*() {\n            if (!e) return null;\n            if (\"y\" !== e.rr) return null;\n            const t = yield y.getAppId(),\n              { deviceId: i } = yield p.a.getSubscription();\n            if (!!(!t || !e.id)) return null;\n            const n = { player_id: i, app_id: t };\n            return (\n              b.a.debug(\n                `Called %csendConfirmedDelivery(${JSON.stringify(e, null, 4)})`,\n                S.a.getConsoleStyle(\"code\")\n              ),\n              yield u.b.put(`notifications/${e.id}/report_received`, n)\n            );\n          });\n        }\n        static getActiveClients() {\n          return n.a(this, void 0, void 0, function*() {\n            const e = yield self.clients.matchAll({\n                type: \"window\",\n                includeUncontrolled: !0\n              }),\n              t = [];\n            for (const i of e) {\n              if (i.frameType && \"nested\" === i.frameType) {\n                if (\n                  !S.a.contains(i.url, c.a.getOneSignalApiUrl().host) &&\n                  !S.a.contains(i.url, \".os.tc\")\n                )\n                  continue;\n                i.isSubdomainIframe = !0;\n              }\n              t.push(i);\n            }\n            return t;\n          });\n        }\n        static buildStructuredNotificationObject(e) {\n          let t = {\n            id: e.custom.i,\n            heading: e.title,\n            content: e.alert,\n            data: e.custom.a,\n            url: e.custom.u,\n            rr: e.custom.rr,\n            icon: e.icon,\n            image: e.image,\n            tag: e.tag,\n            badge: e.badge,\n            vibrate: e.vibrate\n          };\n          if (e.o) {\n            t.buttons = [];\n            for (let i of e.o)\n              t.buttons.push({ action: i.i, title: i.n, icon: i.p, url: i.u });\n          }\n          return S.a.trimUndefined(t);\n        }\n        static ensureImageResourceHttps(e) {\n          if (!e) return null;\n          try {\n            let t = new URL(e);\n            return \"localhost\" === t.hostname ||\n              -1 !== t.hostname.indexOf(\"192.168\") ||\n              \"127.0.0.1\" === t.hostname ||\n              \"https:\" === t.protocol\n              ? e\n              : \"i0.wp.com\" === t.hostname ||\n                \"i1.wp.com\" === t.hostname ||\n                \"i2.wp.com\" === t.hostname ||\n                \"i3.wp.com\" === t.hostname\n              ? `https://${t.hostname}${t.pathname}`\n              : `https://i0.wp.com/${t.host + t.pathname}`;\n          } catch (e) {}\n        }\n        static ensureNotificationResourcesHttps(e) {\n          if (\n            e &&\n            (e.icon && (e.icon = y.ensureImageResourceHttps(e.icon)),\n            e.image && (e.image = y.ensureImageResourceHttps(e.image)),\n            e.buttons && e.buttons.length > 0)\n          )\n            for (let t of e.buttons)\n              t.icon && (t.icon = y.ensureImageResourceHttps(t.icon));\n        }\n        static displayNotification(e, t) {\n          return n.a(this, void 0, void 0, function*() {\n            b.a.debug(\n              `Called %cdisplayNotification(${JSON.stringify(e, null, 4)}):`,\n              S.a.getConsoleStyle(\"code\"),\n              e\n            );\n            const i = yield y._getTitle(),\n              n = yield p.a.get(\"Options\", \"defaultIcon\"),\n              r = yield p.a.get(\"Options\", \"persistNotification\"),\n              o = yield y.getAppId();\n            (e.heading = e.heading ? e.heading : i),\n              (e.icon = e.icon ? e.icon : n || void 0);\n            const s = {};\n            (s.tag = e.tag || o),\n              (s.persistNotification = !1 !== r),\n              t || (t = {}),\n              (e = Object.assign({}, e, t)),\n              y.ensureNotificationResourcesHttps(e);\n            let a = {\n              body: e.content,\n              icon: e.icon,\n              image: e.image,\n              data: e,\n              actions: e.buttons,\n              tag: s.tag,\n              requireInteraction: s.persistNotification,\n              renotify: !0,\n              badge: e.badge,\n              vibrate: e.vibrate\n            };\n            return (\n              (a = y.fixPlatformSpecificDisplayIssues(a)),\n              self.registration.showNotification(e.heading, a)\n            );\n          });\n        }\n        static fixPlatformSpecificDisplayIssues(e) {\n          const t = Object.assign({}, e),\n            i = v.a.redetectBrowserUserAgent();\n          return (\n            i.chrome && i.mac && S.a.isVersionAtLeast(i.osversion, 10.15)\n              ? (t.requireInteraction = !1)\n              : i.opera &&\n                i.mac &&\n                S.a.isVersionAtLeast(i.osversion, 10.14) &&\n                (t.requireInteraction = !1),\n            t\n          );\n        }\n        static shouldOpenNotificationUrl(e) {\n          return (\n            \"javascript:void(0);\" !== e &&\n            \"do_not_open\" !== e &&\n            !S.a.contains(e, \"_osp=do_not_open\")\n          );\n        }\n        static onNotificationClosed(e) {\n          b.a.debug(\n            `Called %conNotificationClosed(${JSON.stringify(e, null, 4)}):`,\n            S.a.getConsoleStyle(\"code\"),\n            e\n          );\n          let t = e.notification.data;\n          y.workerMessenger\n            .broadcast(a.b.NotificationDismissed, t)\n            .catch(e => b.a.error(e)),\n            e.waitUntil(y.executeWebhooks(\"notification.dismissed\", t));\n        }\n        static getNotificationUrlToOpen(e) {\n          return n.a(this, void 0, void 0, function*() {\n            let t = self.registration.scope;\n            const { defaultNotificationUrl: i } = yield p.a.getAppState();\n            if ((i && (t = i), e.action))\n              for (let i of e.buttons)\n                i.action === e.action && i.url && \"\" !== i.url && (t = i.url);\n            else e.url && \"\" !== e.url && (t = e.url);\n            return t;\n          });\n        }\n        static onNotificationClicked(e) {\n          return n.a(this, void 0, void 0, function*() {\n            b.a.debug(\n              `Called %conNotificationClicked(${JSON.stringify(e, null, 4)}):`,\n              S.a.getConsoleStyle(\"code\"),\n              e\n            ),\n              e.notification.close();\n            const t = e.notification.data;\n            e.action && (t.action = e.action);\n            let i = \"exact\",\n              n = \"navigate\";\n            const r = yield p.a.get(\"Options\", \"notificationClickHandlerMatch\");\n            r && (i = r);\n            const o = yield this.database.get(\n              \"Options\",\n              \"notificationClickHandlerAction\"\n            );\n            o && (n = o);\n            const s = yield y.getActiveClients(),\n              c = yield y.getNotificationUrlToOpen(t),\n              d = y.shouldOpenNotificationUrl(c),\n              { appId: u } = yield p.a.getAppConfig(),\n              { deviceId: l } = yield p.a.getSubscription(),\n              g = y.sendConvertedAPIRequests(u, l, t);\n            let f = !1;\n            for (const e of s) {\n              let r = e.url;\n              if (e.isSubdomainIframe) {\n                const e = yield p.a.get(\"Options\", \"lastKnownHostUrl\");\n                (r = e), e || (r = yield p.a.get(\"Options\", \"defaultUrl\"));\n              }\n              let o = \"\";\n              try {\n                o = new URL(r).origin;\n              } catch (e) {\n                b.a.error(\"Failed to get the HTTP site's actual origin:\", e);\n              }\n              let s = null;\n              try {\n                s = new URL(c).origin;\n              } catch (e) {}\n              if ((\"exact\" === i && r === c) || (\"origin\" === i && o === s)) {\n                if (\n                  (e.isSubdomainIframe && r === c) ||\n                  (!e.isSubdomainIframe && e.url === c) ||\n                  (\"focus\" === n && o === s)\n                ) {\n                  y.workerMessenger.unicast(a.b.NotificationClicked, t, e);\n                  try {\n                    e instanceof WindowClient && (yield e.focus());\n                  } catch (t) {\n                    b.a.error(\"Failed to focus:\", e, t);\n                  }\n                } else if (e.isSubdomainIframe) {\n                  try {\n                    b.a.debug(\n                      \"Client is subdomain iFrame. Attempting to focus() client.\"\n                    ),\n                      e instanceof WindowClient && (yield e.focus());\n                  } catch (t) {\n                    b.a.error(\"Failed to focus:\", e, t);\n                  }\n                  d\n                    ? (b.a.debug(`Redirecting HTTP site to ${c}.`),\n                      yield p.a.put(\"NotificationOpened\", {\n                        url: c,\n                        data: t,\n                        timestamp: Date.now()\n                      }),\n                      y.workerMessenger.unicast(a.b.RedirectPage, c, e))\n                    : b.a.debug(\"Not navigating because link is special.\");\n                } else if (e instanceof WindowClient && e.navigate) {\n                  try {\n                    b.a.debug(\n                      \"Client is standard HTTPS site. Attempting to focus() client.\"\n                    ),\n                      e instanceof WindowClient && (yield e.focus());\n                  } catch (t) {\n                    b.a.error(\"Failed to focus:\", e, t);\n                  }\n                  try {\n                    d\n                      ? (b.a.debug(`Redirecting HTTPS site to (${c}).`),\n                        yield p.a.put(\"NotificationOpened\", {\n                          url: c,\n                          data: t,\n                          timestamp: Date.now()\n                        }),\n                        yield e.navigate(c))\n                      : b.a.debug(\"Not navigating because link is special.\");\n                  } catch (t) {\n                    b.a.error(\"Failed to navigate:\", e, c, t);\n                  }\n                } else\n                  yield p.a.put(\"NotificationOpened\", {\n                    url: c,\n                    data: t,\n                    timestamp: Date.now()\n                  }),\n                    yield y.openUrl(c);\n                f = !0;\n                break;\n              }\n            }\n            return (\n              d &&\n                !f &&\n                (yield p.a.put(\"NotificationOpened\", {\n                  url: c,\n                  data: t,\n                  timestamp: Date.now()\n                }),\n                yield y.openUrl(c)),\n              yield g\n            );\n          });\n        }\n        static sendConvertedAPIRequests(e, t, i) {\n          return n.a(this, void 0, void 0, function*() {\n            if (!i.id)\n              return void console.error(\n                \"No notification id, skipping networks calls to report open!\"\n              );\n            let n;\n            e\n              ? (n = u.b.put(`notifications/${i.id}`, {\n                  app_id: e,\n                  player_id: t,\n                  opened: !0\n                }))\n              : console.error(\n                  \"No app Id, skipping OneSignal API call for notification open!\"\n                ),\n              yield y.executeWebhooks(\"notification.clicked\", i),\n              n && (yield n);\n          });\n        }\n        static openUrl(e) {\n          return n.a(this, void 0, void 0, function*() {\n            b.a.debug(\"Opening notification URL:\", e);\n            try {\n              return yield self.clients.openWindow(e);\n            } catch (t) {\n              return b.a.warn(`Failed to open the URL '${e}':`, t), null;\n            }\n          });\n        }\n        static onServiceWorkerInstalled(e) {\n          e.waitUntil(self.skipWaiting());\n        }\n        static onServiceWorkerActivated(e) {\n          b.a.info(\n            `%cOneSignal Service Worker activated (version ${s.a.version()}, ${c.a\n              .getWindowEnv()\n              .toString()} environment).`,\n            S.a.getConsoleStyle(\"bold\")\n          ),\n            e.waitUntil(self.clients.claim());\n        }\n        static onPushSubscriptionChange(e) {\n          return n.a(this, void 0, void 0, function*() {\n            b.a.debug(\n              `Called %conPushSubscriptionChange(${JSON.stringify(\n                e,\n                null,\n                4\n              )}):`,\n              S.a.getConsoleStyle(\"code\"),\n              e\n            );\n            const t = yield y.getAppId();\n            if (!t) return;\n            const i = yield m.a.getAppConfig(\n              { appId: t },\n              l.a.downloadServerAppConfig\n            );\n            if (!i) return;\n            const n = new d.a(i);\n            let r, o;\n            {\n              let { deviceId: i } = yield p.a.getSubscription();\n              if (!(r = !!i) && e.oldSubscription) {\n                i = yield l.a.getUserIdFromSubscriptionIdentifier(\n                  t,\n                  h.a.prototype.getDeliveryPlatform(),\n                  e.oldSubscription.endpoint\n                );\n                const n = yield p.a.getSubscription();\n                (n.deviceId = i), yield p.a.setSubscription(n);\n              }\n              r = !!i;\n            }\n            const s = e.newSubscription;\n            if (s) o = g.a.setFromW3cSubscription(s);\n            else\n              try {\n                o = yield n.subscriptionManager.subscribe(1);\n              } catch (e) {}\n            if (r || !!o) {\n              let e = null;\n              \"granted\" !== Notification.permission\n                ? (e = f.a.PermissionRevoked)\n                : o || (e = f.a.PushSubscriptionRevoked),\n                yield n.subscriptionManager.registerSubscription(o, e);\n            } else yield p.a.remove(\"Ids\", \"userId\"), yield p.a.remove(\"Ids\", \"registrationId\");\n          });\n        }\n        static _getTitle() {\n          return new Promise(e => {\n            Promise.all([\n              p.a.get(\"Options\", \"defaultTitle\"),\n              p.a.get(\"Options\", \"pageTitle\")\n            ]).then(([t, i]) => {\n              e(null !== t ? t : null != i ? i : \"\");\n            });\n          });\n        }\n        static parseOrFetchNotifications(e) {\n          if (!e || !e.data)\n            return Promise.reject(\"Missing event.data on push payload!\");\n          return y.isValidPushPayload(e.data)\n            ? (b.a.debug(\"Received a valid encrypted push payload.\"),\n              Promise.resolve([e.data.json()]))\n            : Promise.reject(\n                `Unexpected push message payload received: ${e.data}`\n              );\n        }\n        static isValidPushPayload(e) {\n          try {\n            const t = e.json();\n            return (\n              !!(t && t.custom && t.custom.i && v.a.isValidUuid(t.custom.i)) ||\n              (b.a.debug(\n                \"isValidPushPayload: Valid JSON but missing notification UUID:\",\n                t\n              ),\n              !1)\n            );\n          } catch (e) {\n            return (\n              b.a.debug(\"isValidPushPayload: Parsing to JSON failed with:\", e),\n              !1\n            );\n          }\n        }\n      }\n      \"undefined\" == typeof self && void 0 !== e\n        ? (e.OneSignalWorker = y)\n        : (self.OneSignalWorker = y),\n        \"undefined\" != typeof self && y.run();\n    }.call(this, i(32)));\n  },\n  function(e, t) {\n    e.exports = function() {\n      throw new Error(\"define cannot be used indirect\");\n    };\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.r(t);\n    var n = i(33);\n    self.OneSignal = n.a;\n  }\n]);\n//# sourceMappingURL=OneSignalSDKWorker.js.map\n"]},"metadata":{},"sourceType":"script"}