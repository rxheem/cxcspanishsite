{"ast":null,"code":"var _Array$isArray = require(\"@babel/runtime-corejs2/core-js/array/is-array\");\n\nvar _Date$now = require(\"@babel/runtime-corejs2/core-js/date/now\");\n\nvar _parseInt = require(\"@babel/runtime-corejs2/core-js/parse-int\");\n\nvar _JSON$stringify = require(\"@babel/runtime-corejs2/core-js/json/stringify\");\n\nvar _Object$keys = require(\"@babel/runtime-corejs2/core-js/object/keys\");\n\nvar _Promise = require(\"@babel/runtime-corejs2/core-js/promise\");\n\nvar _Object$assign = require(\"@babel/runtime-corejs2/core-js/object/assign\");\n\nvar _Object$setPrototypeOf = require(\"@babel/runtime-corejs2/core-js/object/set-prototype-of\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\nvar OneSignal = window.OneSignal || [];\nOneSignal.push(function () {\n  OneSignal.init({\n    appId: \"bfebf78b-978a-4caa-950f-92359bde0be0\"\n  });\n});\n!function (e) {\n  var t = {};\n\n  function i(n) {\n    if (t[n]) return t[n].exports;\n    var r = t[n] = {\n      i: n,\n      l: !1,\n      exports: {}\n    };\n    return e[n].call(r.exports, r, r.exports, i), r.l = !0, r.exports;\n  }\n\n  i.m = e, i.c = t, i.d = function (e, t, n) {\n    i.o(e, t) || _Object$defineProperty(e, t, {\n      configurable: !1,\n      enumerable: !0,\n      get: n\n    });\n  }, i.r = function (e) {\n    _Object$defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n  }, i.n = function (e) {\n    var t = e && e.__esModule ? function () {\n      return e.default;\n    } : function () {\n      return e;\n    };\n    return i.d(t, \"a\", t), t;\n  }, i.o = function (e, t) {\n    return Object.prototype.hasOwnProperty.call(e, t);\n  }, i.p = \"\", i(i.s = 35);\n}([function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return n;\n  });\n  _Object$setPrototypeOf || Array;\n  _Object$assign;\n\n  function n(e, t, i, n) {\n    return new (i || (i = _Promise))(function (r, o) {\n      function s(e) {\n        try {\n          c(n.next(e));\n        } catch (e) {\n          o(e);\n        }\n      }\n\n      function a(e) {\n        try {\n          c(n.throw(e));\n        } catch (e) {\n          o(e);\n        }\n      }\n\n      function c(e) {\n        e.done ? r(e.value) : new i(function (t) {\n          t(e.value);\n        }).then(s, a);\n      }\n\n      c((n = n.apply(e, t || [])).next());\n    });\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return n;\n  });\n\n  class n {\n    static shouldLog() {\n      try {\n        if (true || void 0 === window.localStorage) return !1;\n        const e = window.localStorage.getItem(\"loglevel\");\n        return !(!e || \"trace\" !== e.toLowerCase());\n      } catch (e) {\n        return !1;\n      }\n    }\n\n    static setLevel(e) {\n      if (false && void 0 !== window.localStorage) try {\n        window.localStorage.setItem(\"loglevel\", e), n.proxyMethodsCreated = void 0, n.createProxyMethods();\n      } catch (e) {\n        return;\n      }\n    }\n\n    static createProxyMethods() {\n      if (void 0 !== n.proxyMethodsCreated) return;\n      n.proxyMethodsCreated = !0;\n      const e = {\n        log: \"debug\",\n        trace: \"trace\",\n        info: \"info\",\n        warn: \"warn\",\n        error: \"error\"\n      };\n\n      for (const t of _Object$keys(e)) {\n        const i = void 0 !== console[t],\n              r = e[t],\n              o = i && (n.shouldLog() || \"error\" === r);\n        n[r] = o ? console[t].bind(console) : function () {};\n      }\n    }\n\n  }\n\n  n.createProxyMethods();\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n = i(13);\n\n  class r extends n.a {\n    constructor(e = \"The asynchronous operation has timed out.\") {\n      super(e), this.message = e, _Object$setPrototypeOf(this, r.prototype);\n    }\n\n  }\n\n  i.d(t, \"a\", function () {\n    return o;\n  });\n\n  class o {\n    static contains(e, t) {\n      return !!e && -1 !== e.indexOf(t);\n    }\n\n    static getConsoleStyle(e) {\n      return \"code\" == e ? 'padding: 0 1px 1px 5px;border: 1px solid #ddd;border-radius: 3px;font-family: Monaco,\"DejaVu Sans Mono\",\"Courier New\",monospace;color: #444;' : \"bold\" == e ? \"font-weight: 600;color: rgb(51, 51, 51);\" : \"alert\" == e ? \"font-weight: 600;color: red;\" : \"event\" == e ? \"color: green;\" : \"postmessage\" == e ? \"color: orange;\" : \"serviceworkermessage\" == e ? \"color: purple;\" : \"\";\n    }\n\n    static trimUndefined(e) {\n      for (var t in e) e.hasOwnProperty(t) && void 0 === e[t] && delete e[t];\n\n      return e;\n    }\n\n    static capitalize(e) {\n      return e.charAt(0).toUpperCase() + e.slice(1);\n    }\n\n    static stringify(e) {\n      return _JSON$stringify(e, (e, t) => \"function\" == typeof t ? \"[Function]\" : t, 4);\n    }\n\n    static encodeHashAsUriComponent(e) {\n      let t = \"\";\n\n      const i = _Object$keys(e);\n\n      for (var n of i) {\n        const i = e[n];\n        t += `${encodeURIComponent(n)}=${encodeURIComponent(i)}`;\n      }\n\n      return t;\n    }\n\n    static timeoutPromise(e, t) {\n      const i = new _Promise((e, i) => {\n        setTimeout(() => {\n          i(new r());\n        }, t);\n      });\n      return _Promise.race([e, i]);\n    }\n\n    static getValueOrDefault(e, t) {\n      return void 0 !== e && null !== e ? e : t;\n    }\n\n    static padStart(e, t, i) {\n      let n = e;\n\n      for (; n.length < t;) n = i + n;\n\n      return n;\n    }\n\n    static parseVersionString(e) {\n      const t = e.toString().split(\".\"),\n            i = o.padStart(t[0], 2, \"0\");\n      let n;\n      return n = t[1] ? o.padStart(t[1], 2, \"0\") : \"00\", Number(`${i}.${n}`);\n    }\n\n    static isVersionAtLeast(e, t) {\n      return this.parseVersionString(e) >= t;\n    }\n\n    static enforceAppId(e) {\n      if (!e) throw new Error(\"App id cannot be empty\");\n    }\n\n    static enforcePlayerId(e) {\n      if (!e) throw new Error(\"Player id cannot be empty\");\n    }\n\n  }\n\n  t.b = o;\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n,\n      r = i(0);\n  !function (e) {\n    e.Development = \"Development\", e.Staging = \"Staging\", e.Production = \"Production\";\n  }(n || (n = {}));\n  var o = i(25),\n      s = i(4),\n      InvalidArgumentError = i(14),\n      a = i(15),\n      c = i(6),\n      d = i(10),\n      u = i(8);\n  i.d(t, \"a\", function () {\n    return g;\n  });\n  const l = 4e3,\n        p = 3001;\n\n  class g {\n    static getBuildEnv() {\n      return n.Production;\n    }\n\n    static getApiEnv() {\n      return n.Production;\n    }\n\n    static getIntegration(e) {\n      return r.a(this, void 0, void 0, function* () {\n        if (d.a.isSafari()) return a.a.Secure;\n        const t = window === window.top,\n              i = \"https:\" === window.location.protocol;\n\n        if (void 0 === e) {\n          if (\"undefined\" == typeof OneSignal || !OneSignal.context || !OneSignal.context.appConfig) throw new InvalidArgumentError.a(\"usingProxyOrigin\", InvalidArgumentError.b.Empty);\n          e = !!OneSignal.context.appConfig.subdomain;\n        }\n\n        if (t) return i ? e ? a.a.SecureProxy : a.a.Secure : !u.b.isLocalhostAllowedAsSecureOrigin() || \"localhost\" !== location.hostname && \"127.0.0.1\" !== location.hostname ? a.a.InsecureProxy : a.a.Secure;\n\n        if (i) {\n          return (yield g.isFrameContextInsecure()) ? a.a.InsecureProxy : e ? a.a.SecureProxy : a.a.Secure;\n        }\n\n        return a.a.InsecureProxy;\n      });\n    }\n\n    static isFrameContextInsecure() {\n      return r.a(this, void 0, void 0, function* () {\n        if (window === window.top || !(\"serviceWorker\" in navigator) || void 0 === navigator.serviceWorker.getRegistration) return !1;\n        return !(yield c.b.getRegistration());\n      });\n    }\n\n    static isInsecureOrigin() {\n      return \"http:\" === window.location.protocol;\n    }\n\n    static getWindowEnv() {\n      return true ? \"undefined\" != typeof self && \"undefined\" != typeof ServiceWorkerGlobalScope ? s.a.ServiceWorker : s.a.Unknown : window === window.top ? -1 !== location.href.indexOf(\"initOneSignal\") || \"/subscribe\" === location.pathname && \"\" === location.search && (location.hostname.endsWith(\".onesignal.com\") || location.hostname.endsWith(\".os.tc\") || -1 !== location.hostname.indexOf(\".localhost\") && g.getBuildEnv() === n.Development) ? s.a.OneSignalSubscriptionPopup : s.a.Host : \"/webPushIframe\" === location.pathname ? s.a.OneSignalProxyFrame : \"/webPushModal\" === location.pathname ? s.a.OneSignalSubscriptionModal : s.a.CustomIframe;\n    }\n\n    static getTestEnv() {\n      return o.a.None;\n    }\n\n    static getBuildEnvPrefix(e = g.getBuildEnv()) {\n      switch (e) {\n        case n.Development:\n          return \"Dev-\";\n\n        case n.Staging:\n          return \"Staging-\";\n\n        case n.Production:\n          return \"\";\n\n        default:\n          throw new InvalidArgumentError.a(\"buildEnv\", InvalidArgumentError.b.EnumOutOfRange);\n      }\n    }\n\n    static getOneSignalApiUrl(e = g.getApiEnv()) {\n      switch (e) {\n        case n.Development:\n          return new URL(`https://localhost:${p}/api/v1`);\n\n        case n.Staging:\n          return new URL(`https://${window.location.host}/api/v1`);\n\n        case n.Production:\n          return new URL(\"https://onesignal.com/api/v1\");\n\n        default:\n          throw new InvalidArgumentError.a(\"buildEnv\", InvalidArgumentError.b.EnumOutOfRange);\n      }\n    }\n\n    static getOneSignalResourceUrlPath(e = g.getBuildEnv()) {\n      let t;\n      const i = l;\n\n      switch (e) {\n        case n.Development:\n          t = `http://localhost:${i}`;\n          break;\n\n        case n.Staging:\n          t = `https://${window.location.host}`;\n          break;\n\n        case n.Production:\n          t = \"https://onesignal.com\";\n          break;\n\n        default:\n          throw new InvalidArgumentError.a(\"buildEnv\", InvalidArgumentError.b.EnumOutOfRange);\n      }\n\n      return new URL(`${t}/sdks`);\n    }\n\n    static getOneSignalCssFileName(e = g.getBuildEnv()) {\n      switch (e) {\n        case n.Development:\n          return \"Dev-OneSignalSDKStyles.css\";\n\n        case n.Staging:\n          return \"Staging-OneSignalSDKStyles.css\";\n\n        case n.Production:\n          return \"OneSignalSDKStyles.css\";\n\n        default:\n          throw new InvalidArgumentError.a(\"buildEnv\", InvalidArgumentError.b.EnumOutOfRange);\n      }\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n;\n  i.d(t, \"a\", function () {\n    return n;\n  }), function (e) {\n    e.ServiceWorker = \"ServiceWorker\", e.Host = \"Host\", e.OneSignalSubscriptionPopup = \"Popup\", e.OneSignalSubscriptionModal = \"Modal\", e.OneSignalProxyFrame = \"ProxyFrame\", e.CustomIframe = \"CustomFrame\", e.Unknown = \"Unknown\";\n  }(n || (n = {}));\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n = i(0);\n\n  class r {\n    constructor() {\n      this._events = {};\n    }\n\n    on(e, t) {\n      return this._events[e] = this._events[e] || [], this._events[e].push(t), this;\n    }\n\n    once(e, t) {\n      const i = this;\n\n      function n() {\n        i.off(e, n), t.apply(this, arguments);\n      }\n\n      return n.listener = t, this.on(e, n), this;\n    }\n\n    off(e, t) {\n      const i = this._events[e];\n\n      if (void 0 !== i) {\n        for (let e = 0; e < i.length; e += 1) if (i[e] === t || i[e].listener === t) {\n          i.splice(e, 1);\n          break;\n        }\n\n        0 === i.length && this.removeAllListeners(e);\n      }\n\n      return this;\n    }\n\n    removeAllListeners(e) {\n      try {\n        e ? delete this._events[e] : this._events = {};\n      } catch (e) {}\n\n      return this;\n    }\n\n    listeners(e) {\n      try {\n        return this._events[e];\n      } catch (e) {\n        return;\n      }\n    }\n\n    numberOfListeners(e) {\n      const t = this.listeners(e);\n      return t ? t.length : 0;\n    }\n\n    emit(...e) {\n      return n.a(this, void 0, void 0, function* () {\n        const t = e.shift();\n        let i = this._events[t];\n\n        if (void 0 !== i) {\n          const t = (i = i.slice(0)).length;\n\n          for (let n = 0; n < t; n += 1) yield i[n].apply(this, e);\n        }\n\n        return this;\n      });\n    }\n\n  }\n\n  var o = i(1),\n      s = i(2);\n\n  class a {\n    constructor(e) {\n      this.databaseName = e, this.emitter = new r();\n    }\n\n    open(e) {\n      return new _Promise(t => {\n        try {\n          var i = indexedDB.open(e, 1);\n        } catch (e) {}\n\n        if (!i) return null;\n        i.onerror = this.onDatabaseOpenError, i.onblocked = this.onDatabaseOpenBlocked, i.onupgradeneeded = this.onDatabaseUpgradeNeeded, i.onsuccess = () => {\n          this.database = i.result, this.database.onerror = this.onDatabaseError, this.database.onversionchange = this.onDatabaseVersionChange, t(this.database);\n        };\n      });\n    }\n\n    ensureDatabaseOpen() {\n      return n.a(this, void 0, void 0, function* () {\n        return this.openLock || (this.openLock = this.open(this.databaseName)), yield this.openLock, this.database;\n      });\n    }\n\n    onDatabaseOpenError(e) {\n      e.preventDefault();\n      const t = e.target.error;\n      s.b.contains(t.message, \"The operation failed for reasons unrelated to the database itself and not covered by any other error code\") || s.b.contains(t.message, \"A mutation operation was attempted on a database that did not allow mutations\") ? o.a.warn(\"OneSignal: IndexedDb web storage is not available on this origin since this profile's IndexedDb schema has been upgraded in a newer version of Firefox. See: https://bugzilla.mozilla.org/show_bug.cgi?id=1236557#c6\") : o.a.warn(\"OneSignal: Fatal error opening IndexedDb database:\", t);\n    }\n\n    onDatabaseError(e) {\n      o.a.debug(\"IndexedDb: Generic database error\", e.target.errorCode);\n    }\n\n    onDatabaseOpenBlocked() {\n      o.a.debug(\"IndexedDb: Blocked event\");\n    }\n\n    onDatabaseVersionChange(e) {\n      o.a.debug(\"IndexedDb: versionchange event\");\n    }\n\n    onDatabaseUpgradeNeeded(e) {\n      o.a.debug(\"IndexedDb: Database is being rebuilt or upgraded (upgradeneeded event).\");\n      const t = e.target.result;\n      t.createObjectStore(\"Ids\", {\n        keyPath: \"type\"\n      }), t.createObjectStore(\"NotificationOpened\", {\n        keyPath: \"url\"\n      }), t.createObjectStore(\"Options\", {\n        keyPath: \"key\"\n      }), \"undefined\" != typeof OneSignal && (OneSignal._isNewVisitor = !0);\n    }\n\n    get(e, t) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield this.ensureDatabaseOpen(), t ? yield new _Promise((i, n) => {\n          var r = this.database.transaction(e).objectStore(e).get(t);\n          r.onsuccess = () => {\n            i(r.result);\n          }, r.onerror = () => {\n            n(r.error);\n          };\n        }) : yield new _Promise((t, i) => {\n          let n = {},\n              r = this.database.transaction(e).objectStore(e).openCursor();\n          r.onsuccess = e => {\n            var i = e.target.result;\n\n            if (i) {\n              let e = i.key;\n              n[e] = i.value, i.continue();\n            } else t(n);\n          }, r.onerror = () => {\n            i(r.error);\n          };\n        });\n      });\n    }\n\n    put(e, t) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield this.ensureDatabaseOpen(), yield new _Promise((i, n) => {\n          try {\n            let r = this.database.transaction([e], \"readwrite\").objectStore(e).put(t);\n            r.onsuccess = () => {\n              i(t);\n            }, r.onerror = e => {\n              o.a.error(\"Database PUT Transaction Error:\", e), n(e);\n            };\n          } catch (e) {\n            o.a.error(\"Database PUT Error:\", e), n(e);\n          }\n        });\n      });\n    }\n\n    remove(e, t) {\n      if (t) var i = \"delete\";else i = \"clear\";\n      return new _Promise((n, r) => {\n        try {\n          let s = this.database.transaction([e], \"readwrite\").objectStore(e)[i](t);\n          s.onsuccess = () => {\n            n(t);\n          }, s.onerror = e => {\n            o.a.error(\"Database REMOVE Transaction Error:\", e), r(e);\n          };\n        } catch (e) {\n          o.a.error(\"Database REMOVE Error:\", e), r(e);\n        }\n      });\n    }\n\n  }\n\n  class c {}\n\n  class d {}\n\n  class u {\n    serialize() {\n      return {\n        deviceId: this.deviceId,\n        subscriptionToken: this.subscriptionToken,\n        optedOut: this.optedOut,\n        createdAt: this.createdAt,\n        expirationTime: this.expirationTime\n      };\n    }\n\n    static deserialize(e) {\n      const t = new u();\n      return t.deviceId = e.deviceId, t.subscriptionToken = e.subscriptionToken, t.optedOut = e.optedOut, t.createdAt = e.createdAt, t.expirationTime = e.expirationTime, t;\n    }\n\n  }\n\n  var l = i(25),\n      p = i(4);\n\n  class g {\n    constructor(e, t, i) {\n      this.emailId = e, this.emailAddress = t, this.emailAuthHash = i;\n    }\n\n    serialize() {\n      return {\n        emailAddress: this.emailAddress,\n        emailAuthHash: this.emailAuthHash,\n        emailId: this.emailId\n      };\n    }\n\n    static deserialize(e) {\n      return new g(e.emailId, e.emailAddress, e.emailAuthHash);\n    }\n\n  }\n\n  var f,\n      h,\n      b = i(3),\n      m = i(8);\n  i.d(t, \"a\", function () {\n    return v;\n  }), (h = f || (f = {}))[h.SET = 0] = \"SET\";\n\n  class v {\n    constructor(e) {\n      this.databaseName = e, this.emitter = new r(), this.database = new a(this.databaseName);\n    }\n\n    static resetInstance() {\n      v.databaseInstance = null;\n    }\n\n    static get singletonInstance() {\n      return v.databaseInstanceName || (v.databaseInstanceName = \"ONE_SIGNAL_SDK_DB\"), v.databaseInstance || (v.databaseInstance = new v(v.databaseInstanceName)), v.databaseInstance;\n    }\n\n    static applyDbResultFilter(e, t, i) {\n      switch (e) {\n        case \"Options\":\n          return i && t ? i.value : i && !t ? i : null;\n\n        case \"Ids\":\n          return i && t ? i.id : i && !t ? i : null;\n\n        case \"NotificationOpened\":\n          return i && t ? {\n            data: i.data,\n            timestamp: i.timestamp\n          } : i && !t ? i : null;\n\n        default:\n          return i || null;\n      }\n    }\n\n    get(e, t) {\n      return n.a(this, void 0, void 0, function* () {\n        if (b.a.getWindowEnv() !== p.a.ServiceWorker && m.b.isUsingSubscriptionWorkaround() && b.a.getTestEnv() === l.a.None) return yield new _Promise(i => n.a(this, void 0, void 0, function* () {\n          OneSignal.proxyFrameHost.message(OneSignal.POSTMAM_COMMANDS.REMOTE_DATABASE_GET, [{\n            table: e,\n            key: t\n          }], e => {\n            let t = e.data[0];\n            i(t);\n          });\n        }));\n        {\n          const i = yield this.database.get(e, t);\n          return v.applyDbResultFilter(e, t, i);\n        }\n      });\n    }\n\n    put(e, t) {\n      return n.a(this, void 0, void 0, function* () {\n        yield new _Promise((i, r) => n.a(this, void 0, void 0, function* () {\n          b.a.getWindowEnv() !== p.a.ServiceWorker && m.b.isUsingSubscriptionWorkaround() && b.a.getTestEnv() === l.a.None ? OneSignal.proxyFrameHost.message(OneSignal.POSTMAM_COMMANDS.REMOTE_DATABASE_PUT, [{\n            table: e,\n            keypath: t\n          }], n => {\n            n.data === OneSignal.POSTMAM_COMMANDS.REMOTE_OPERATION_COMPLETE ? i() : r(`(Database) Attempted remote IndexedDB put(${e}, ${t}), but did not get success response.`);\n          }) : (yield this.database.put(e, t), i());\n        })), this.emitter.emit(v.EVENTS.SET, t);\n      });\n    }\n\n    remove(e, t) {\n      return b.a.getWindowEnv() !== p.a.ServiceWorker && m.b.isUsingSubscriptionWorkaround() && b.a.getTestEnv() === l.a.None ? new _Promise((i, n) => {\n        OneSignal.proxyFrameHost.message(OneSignal.POSTMAM_COMMANDS.REMOTE_DATABASE_REMOVE, [{\n          table: e,\n          keypath: t\n        }], r => {\n          r.data === OneSignal.POSTMAM_COMMANDS.REMOTE_OPERATION_COMPLETE ? i() : n(`(Database) Attempted remote IndexedDB remove(${e}, ${t}), but did not get success response.`);\n        });\n      }) : this.database.remove(e, t);\n    }\n\n    getAppConfig() {\n      return n.a(this, void 0, void 0, function* () {\n        const e = {},\n              t = yield this.get(\"Ids\", \"appId\");\n        return e.appId = t, e.subdomain = yield this.get(\"Options\", \"subdomain\"), e.vapidPublicKey = yield this.get(\"Options\", \"vapidPublicKey\"), e.emailAuthRequired = yield this.get(\"Options\", \"emailAuthRequired\"), e;\n      });\n    }\n\n    getExternalUserId() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield this.get(\"Ids\", \"externalUserId\");\n      });\n    }\n\n    setExternalUserId(e) {\n      return n.a(this, void 0, void 0, function* () {\n        const t = s.b.getValueOrDefault(e, \"\");\n        \"\" === t ? yield this.remove(\"Ids\", \"externalUserId\") : yield this.put(\"Ids\", {\n          type: \"externalUserId\",\n          id: t\n        });\n      });\n    }\n\n    setAppConfig(e) {\n      return n.a(this, void 0, void 0, function* () {\n        e.appId && (yield this.put(\"Ids\", {\n          type: \"appId\",\n          id: e.appId\n        })), e.subdomain && (yield this.put(\"Options\", {\n          key: \"subdomain\",\n          value: e.subdomain\n        })), !0 === e.httpUseOneSignalCom ? yield this.put(\"Options\", {\n          key: \"httpUseOneSignalCom\",\n          value: !0\n        }) : !1 === e.httpUseOneSignalCom && (yield this.put(\"Options\", {\n          key: \"httpUseOneSignalCom\",\n          value: !1\n        })), !0 === e.emailAuthRequired ? yield this.put(\"Options\", {\n          key: \"emailAuthRequired\",\n          value: !0\n        }) : !1 === e.emailAuthRequired && (yield this.put(\"Options\", {\n          key: \"emailAuthRequired\",\n          value: !1\n        })), e.vapidPublicKey && (yield this.put(\"Options\", {\n          key: \"vapidPublicKey\",\n          value: e.vapidPublicKey\n        }));\n      });\n    }\n\n    getAppState() {\n      return n.a(this, void 0, void 0, function* () {\n        const e = new c();\n        return e.defaultNotificationUrl = yield this.get(\"Options\", \"defaultUrl\"), e.defaultNotificationTitle = yield this.get(\"Options\", \"defaultTitle\"), e.lastKnownPushEnabled = yield this.get(\"Options\", \"isPushEnabled\"), e.clickedNotifications = yield this.get(\"NotificationOpened\"), e;\n      });\n    }\n\n    setAppState(e) {\n      return n.a(this, void 0, void 0, function* () {\n        if (e.defaultNotificationUrl && (yield this.put(\"Options\", {\n          key: \"defaultUrl\",\n          value: e.defaultNotificationUrl\n        })), (e.defaultNotificationTitle || \"\" === e.defaultNotificationTitle) && (yield this.put(\"Options\", {\n          key: \"defaultTitle\",\n          value: e.defaultNotificationTitle\n        })), null != e.lastKnownPushEnabled && (yield this.put(\"Options\", {\n          key: \"isPushEnabled\",\n          value: e.lastKnownPushEnabled\n        })), e.clickedNotifications) {\n          const t = _Object$keys(e.clickedNotifications);\n\n          for (let i of t) {\n            const t = e.clickedNotifications[i];\n            t ? yield this.put(\"NotificationOpened\", {\n              url: i,\n              data: t.data,\n              timestamp: t.timestamp\n            }) : null === t && (yield this.remove(\"NotificationOpened\", i));\n          }\n        }\n      });\n    }\n\n    getServiceWorkerState() {\n      return n.a(this, void 0, void 0, function* () {\n        const e = new d();\n        return e.workerVersion = yield this.get(\"Ids\", \"WORKER1_ONE_SIGNAL_SW_VERSION\"), e.updaterWorkerVersion = yield this.get(\"Ids\", \"WORKER2_ONE_SIGNAL_SW_VERSION\"), e;\n      });\n    }\n\n    setServiceWorkerState(e) {\n      return n.a(this, void 0, void 0, function* () {\n        e.workerVersion && (yield this.put(\"Ids\", {\n          type: \"WORKER1_ONE_SIGNAL_SW_VERSION\",\n          id: e.workerVersion\n        })), e.updaterWorkerVersion && (yield this.put(\"Ids\", {\n          type: \"WORKER2_ONE_SIGNAL_SW_VERSION\",\n          id: e.updaterWorkerVersion\n        }));\n      });\n    }\n\n    getSubscription() {\n      return n.a(this, void 0, void 0, function* () {\n        const e = new u();\n        e.deviceId = yield this.get(\"Ids\", \"userId\"), e.subscriptionToken = yield this.get(\"Ids\", \"registrationId\");\n        const t = yield this.get(\"Options\", \"optedOut\"),\n              i = yield this.get(\"Options\", \"subscription\"),\n              n = yield this.get(\"Options\", \"subscriptionCreatedAt\"),\n              r = yield this.get(\"Options\", \"subscriptionExpirationTime\");\n        return e.optedOut = null != t ? t : null != i && !i, e.createdAt = n, e.expirationTime = r, e;\n      });\n    }\n\n    setSubscription(e) {\n      return n.a(this, void 0, void 0, function* () {\n        e.deviceId && (yield this.put(\"Ids\", {\n          type: \"userId\",\n          id: e.deviceId\n        })), void 0 !== e.subscriptionToken && (yield this.put(\"Ids\", {\n          type: \"registrationId\",\n          id: e.subscriptionToken\n        })), null != e.optedOut && (yield this.put(\"Options\", {\n          key: \"optedOut\",\n          value: e.optedOut\n        })), null != e.createdAt && (yield this.put(\"Options\", {\n          key: \"subscriptionCreatedAt\",\n          value: e.createdAt\n        })), null != e.expirationTime ? yield this.put(\"Options\", {\n          key: \"subscriptionExpirationTime\",\n          value: e.expirationTime\n        }) : yield this.remove(\"Options\", \"subscriptionExpirationTime\");\n      });\n    }\n\n    getEmailProfile() {\n      return n.a(this, void 0, void 0, function* () {\n        const e = yield this.get(\"Ids\", \"emailProfile\");\n        return e ? g.deserialize(e) : new g();\n      });\n    }\n\n    setEmailProfile(e) {\n      return n.a(this, void 0, void 0, function* () {\n        e && (yield this.put(\"Ids\", {\n          type: \"emailProfile\",\n          id: e.serialize()\n        }));\n      });\n    }\n\n    setProvideUserConsent(e) {\n      return n.a(this, void 0, void 0, function* () {\n        yield this.put(\"Options\", {\n          key: \"userConsent\",\n          value: e\n        });\n      });\n    }\n\n    getProvideUserConsent() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield this.get(\"Options\", \"userConsent\");\n      });\n    }\n\n    static rebuild() {\n      return n.a(this, void 0, void 0, function* () {\n        return _Promise.all([v.singletonInstance.remove(\"Ids\"), v.singletonInstance.remove(\"NotificationOpened\"), v.singletonInstance.remove(\"Options\")]);\n      });\n    }\n\n    static on(...e) {\n      return n.a(this, void 0, void 0, function* () {\n        return v.singletonInstance.emitter.on.apply(v.singletonInstance.emitter, e);\n      });\n    }\n\n    static setEmailProfile(e) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.setEmailProfile(e);\n      });\n    }\n\n    static getEmailProfile() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.getEmailProfile();\n      });\n    }\n\n    static setSubscription(e) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.setSubscription(e);\n      });\n    }\n\n    static getSubscription() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.getSubscription();\n      });\n    }\n\n    static setProvideUserConsent(e) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.setProvideUserConsent(e);\n      });\n    }\n\n    static getProvideUserConsent() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.getProvideUserConsent();\n      });\n    }\n\n    static setServiceWorkerState(e) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.setServiceWorkerState(e);\n      });\n    }\n\n    static getServiceWorkerState() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.getServiceWorkerState();\n      });\n    }\n\n    static setAppState(e) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.setAppState(e);\n      });\n    }\n\n    static getAppState() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.getAppState();\n      });\n    }\n\n    static setAppConfig(e) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.setAppConfig(e);\n      });\n    }\n\n    static getAppConfig() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.getAppConfig();\n      });\n    }\n\n    static getExternalUserId() {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.getExternalUserId();\n      });\n    }\n\n    static setExternalUserId(e) {\n      return n.a(this, void 0, void 0, function* () {\n        yield v.singletonInstance.setExternalUserId(e);\n      });\n    }\n\n    static remove(e, t) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.remove(e, t);\n      });\n    }\n\n    static put(e, t) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.put(e, t);\n      });\n    }\n\n    static get(e, t) {\n      return n.a(this, void 0, void 0, function* () {\n        return yield v.singletonInstance.get(e, t);\n      });\n    }\n\n  }\n\n  v.EVENTS = f;\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"b\", function () {\n    return c;\n  }), i.d(t, \"a\", function () {\n    return n;\n  });\n  var n,\n      r = i(0),\n      o = i(1),\n      s = i(16),\n      a = i(8);\n\n  class c {\n    static getRegistration() {\n      return r.a(this, void 0, void 0, function* () {\n        try {\n          return yield navigator.serviceWorker.getRegistration(location.href);\n        } catch (e) {\n          return o.a.warn(\"[Service Worker Status] Error Checking service worker registration\", location.href, e), null;\n        }\n      });\n    }\n\n    static getServiceWorkerHref(e, t) {\n      let i = \"\";\n      if (e === n.WorkerA) i = t.workerBPath.getFullPath();else if (e === n.WorkerB || e === n.ThirdParty || e === n.None) i = t.workerAPath.getFullPath();else if (e === n.Bypassed) throw new s.a(s.b.UnsupportedEnvironment);\n      return new URL(i, a.a.getBaseUrl()).href;\n    }\n\n  }\n\n  !function (e) {\n    e.WorkerA = \"Worker A (Main)\", e.WorkerB = \"Worker B (Updater)\", e.ThirdParty = \"3rd Party\", e.Installing = \"Installing\", e.None = \"None\", e.Bypassed = \"Bypassed\", e.Indeterminate = \"Indeterminate\";\n  }(n || (n = {}));\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"b\", function () {\n    return n;\n  }), i.d(t, \"a\", function () {\n    return p;\n  });\n  var n,\n      r = i(0),\n      o = i(14),\n      s = i(3),\n      a = i(6),\n      c = i(4),\n      d = i(10),\n      u = i(1);\n  !function (e) {\n    e.WorkerVersion = \"GetWorkerVersion\", e.Subscribe = \"Subscribe\", e.SubscribeNew = \"SubscribeNew\", e.AmpSubscriptionState = \"amp-web-push-subscription-state\", e.AmpSubscribe = \"amp-web-push-subscribe\", e.AmpUnsubscribe = \"amp-web-push-unsubscribe\", e.NotificationDisplayed = \"notification.displayed\", e.NotificationClicked = \"notification.clicked\", e.NotificationDismissed = \"notification.dismissed\", e.RedirectPage = \"command.redirect\";\n  }(n || (n = {}));\n\n  class l {\n    constructor() {\n      this.replies = {};\n    }\n\n    addListener(e, t, i) {\n      const n = {\n        callback: t,\n        onceListenerOnly: i\n      },\n            r = this.replies[e.toString()];\n      r ? r.push(n) : this.replies[e.toString()] = [n];\n    }\n\n    findListenersForMessage(e) {\n      return this.replies[e.toString()] || [];\n    }\n\n    deleteListenerRecords(e) {\n      this.replies[e.toString()] = null;\n    }\n\n    deleteAllListenerRecords() {\n      this.replies = {};\n    }\n\n    deleteListenerRecord(e, t) {\n      const i = this.replies[e.toString()];\n      if (null != i) for (let e = i.length - 1; e >= 0; e--) {\n        i[e] === t && i.splice(e, 1);\n      }\n    }\n\n  }\n\n  class p {\n    constructor(e, t = new l()) {\n      this.context = e, this.replies = t;\n    }\n\n    broadcast(e, t) {\n      return r.a(this, void 0, void 0, function* () {\n        if (s.a.getWindowEnv() !== c.a.ServiceWorker) return;\n        const i = yield self.clients.matchAll({\n          type: \"window\",\n          includeUncontrolled: !0\n        });\n\n        for (const n of i) u.a.debug(`[Worker Messenger] [SW -> Page] Broadcasting '${e.toString()}' to window client ${n.url}.`), n.postMessage({\n          command: e,\n          payload: t\n        });\n      });\n    }\n\n    unicast(e, t, i) {\n      return r.a(this, void 0, void 0, function* () {\n        if (s.a.getWindowEnv() === c.a.ServiceWorker) {\n          if (!i) throw new o.a(\"windowClient\", o.b.Empty);\n          u.a.debug(`[Worker Messenger] [SW -> Page] Unicasting '${e.toString()}' to window client ${i.url}.`), i.postMessage({\n            command: e,\n            payload: t\n          });\n        } else (yield this.isWorkerControllingPage()) || u.a.debug(\"[Worker Messenger] The page is not controlled by the service worker yet. Waiting...\", self.registration), yield this.waitUntilWorkerControlsPage(), u.a.debug(`[Worker Messenger] [Page -> SW] Unicasting '${e.toString()}' to service worker.`), navigator.serviceWorker.controller.postMessage({\n          command: e,\n          payload: t\n        });\n      });\n    }\n\n    listen(e) {\n      return r.a(this, void 0, void 0, function* () {\n        if (!d.a.supportsServiceWorkers()) return;\n        s.a.getWindowEnv() === c.a.ServiceWorker ? (self.addEventListener(\"message\", this.onWorkerMessageReceivedFromPage.bind(this)), u.a.debug(\"[Worker Messenger] Service worker is now listening for messages.\")) : yield this.listenForPage(e);\n      });\n    }\n\n    listenForPage(e) {\n      return r.a(this, void 0, void 0, function* () {\n        e || ((yield this.isWorkerControllingPage()) || u.a.debug(`(${location.origin}) [Worker Messenger] The page is not controlled by the service worker yet. Waiting...`, self.registration), yield this.waitUntilWorkerControlsPage(), u.a.debug(`(${location.origin}) [Worker Messenger] The page is now controlled by the service worker.`)), navigator.serviceWorker.addEventListener(\"message\", this.onPageMessageReceivedFromServiceWorker.bind(this)), u.a.debug(`(${location.origin}) [Worker Messenger] Page is now listening for messages.`);\n      });\n    }\n\n    onWorkerMessageReceivedFromPage(e) {\n      const t = e.data;\n      if (!t || !t.command) return;\n      const i = this.replies.findListenersForMessage(t.command),\n            n = [],\n            r = [];\n      u.a.debug(\"[Worker Messenger] Service worker received message:\", e.data);\n\n      for (let e of i) e.onceListenerOnly && n.push(e), r.push(e);\n\n      for (let e = n.length - 1; e >= 0; e--) {\n        const i = n[e];\n        this.replies.deleteListenerRecord(t.command, i);\n      }\n\n      for (let e of r) e.callback.apply(null, [t.payload]);\n    }\n\n    onPageMessageReceivedFromServiceWorker(e) {\n      const t = e.data;\n      if (!t || !t.command) return;\n      const i = this.replies.findListenersForMessage(t.command),\n            n = [],\n            r = [];\n      u.a.debug(\"[Worker Messenger] Page received message:\", e.data);\n\n      for (let e of i) e.onceListenerOnly && n.push(e), r.push(e);\n\n      for (let e = n.length - 1; e >= 0; e--) {\n        const i = n[e];\n        this.replies.deleteListenerRecord(t.command, i);\n      }\n\n      for (let e of r) e.callback.apply(null, [t.payload]);\n    }\n\n    on(e, t) {\n      this.replies.addListener(e, t, !1);\n    }\n\n    once(e, t) {\n      this.replies.addListener(e, t, !0);\n    }\n\n    off(e) {\n      e ? this.replies.deleteListenerRecords(e) : this.replies.deleteAllListenerRecords();\n    }\n\n    isWorkerControllingPage() {\n      return r.a(this, void 0, void 0, function* () {\n        if (s.a.getWindowEnv() === c.a.ServiceWorker) return !!self.registration.active;\n        {\n          const e = yield this.context.serviceWorkerManager.getActiveState();\n          return e === a.a.WorkerA || e === a.a.WorkerB;\n        }\n      });\n    }\n\n    waitUntilWorkerControlsPage() {\n      return r.a(this, void 0, void 0, function* () {\n        return new _Promise(e => r.a(this, void 0, void 0, function* () {\n          if (yield this.isWorkerControllingPage()) e();else {\n            s.a.getWindowEnv() === c.a.ServiceWorker ? self.addEventListener(\"activate\", t => r.a(this, void 0, void 0, function* () {\n              (yield this.isWorkerControllingPage()) && e();\n            })) : navigator.serviceWorker.addEventListener(\"controllerchange\", t => r.a(this, void 0, void 0, function* () {\n              (yield this.isWorkerControllingPage()) && e();\n            }));\n          }\n        }));\n      });\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  (function (e) {\n    i.d(t, \"a\", function () {\n      return d;\n    });\n    var n = i(11),\n        r = i.n(n),\n        o = i(3),\n        s = i(4),\n        a = i(1),\n        c = i(2);\n\n    class d {\n      static getBaseUrl() {\n        return location.origin;\n      }\n\n      static isLocalhostAllowedAsSecureOrigin() {\n        return OneSignal.config && OneSignal.config.userConfig && !0 === OneSignal.config.userConfig.allowLocalhostAsSecureOrigin;\n      }\n\n      static isUsingSubscriptionWorkaround() {\n        const e = o.a.getWindowEnv();\n        if (!OneSignal.config) throw new Error(`(${e.toString()}) isUsingSubscriptionWorkaround() cannot be called until OneSignal.config exists.`);\n        if (r.a.safari) return !1;\n        const t = this.isLocalhostAllowedAsSecureOrigin();\n        return d.internalIsUsingSubscriptionWorkaround(OneSignal.config.subdomain, t);\n      }\n\n      static internalIsUsingSubscriptionWorkaround(e, t) {\n        if (r.a.safari) return !1;\n        if (!0 === t && (\"localhost\" === location.hostname || \"127.0.0.1\" === location.hostname)) return !1;\n        const i = o.a.getWindowEnv();\n        return !(i !== s.a.Host && i !== s.a.CustomIframe || !e && \"http:\" !== location.protocol);\n      }\n\n      static redetectBrowserUserAgent() {\n        return \"\" === r.a.name && \"\" === r.a.version ? r.a._detect(navigator.userAgent) : r.a;\n      }\n\n      static isValidUuid(e) {\n        return /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/.test(e);\n      }\n\n      static getRandomUuid() {\n        let t = \"\";\n        const i = true ? e.crypto : window.crypto || window.msCrypto;\n        return t = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, i ? function (e) {\n          var t = i.getRandomValues(new Uint8Array(1))[0] % 16 | 0;\n          return (\"x\" == e ? t : 3 & t | 8).toString(16);\n        } : function (e) {\n          var t = 16 * Math.random() | 0;\n          return (\"x\" == e ? t : 3 & t | 8).toString(16);\n        });\n      }\n\n      static logMethodCall(e, ...t) {\n        return a.a.debug(`Called %c${e}(${t.map(c.a.stringify).join(\", \")})`, c.a.getConsoleStyle(\"code\"), \".\");\n      }\n\n    }\n\n    t.b = d;\n  }).call(this, i(32));\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n;\n  i.d(t, \"a\", function () {\n    return n;\n  }), function (e) {\n    e[e.Default = 0] = \"Default\", e[e.Subscribed = 1] = \"Subscribed\", e[e.MutedByApi = -2] = \"MutedByApi\", e[e.NotSubscribed = -10] = \"NotSubscribed\", e[e.TemporaryWebRecord = -20] = \"TemporaryWebRecord\", e[e.PermissionRevoked = -21] = \"PermissionRevoked\", e[e.PushSubscriptionRevoked = -22] = \"PushSubscriptionRevoked\", e[e.ServiceWorkerStatus403 = -23] = \"ServiceWorkerStatus403\", e[e.ServiceWorkerStatus404 = -24] = \"ServiceWorkerStatus404\";\n  }(n || (n = {}));\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return a;\n  });\n  var n = i(3),\n      r = i(4),\n      o = i(11),\n      s = i.n(o);\n\n  class a {\n    static isBrowser() {\n      return false;\n    }\n\n    static isSafari() {\n      return a.isBrowser() && s.a.safari;\n    }\n\n    static version() {\n      return Number(150801);\n    }\n\n    static get TRADITIONAL_CHINESE_LANGUAGE_TAG() {\n      return [\"tw\", \"hant\"];\n    }\n\n    static get SIMPLIFIED_CHINESE_LANGUAGE_TAG() {\n      return [\"cn\", \"hans\"];\n    }\n\n    static getLanguage() {\n      let e = navigator.language;\n\n      if (e) {\n        let t = (e = e.toLowerCase()).split(\"-\");\n\n        if (\"zh\" == t[0]) {\n          for (let e of a.TRADITIONAL_CHINESE_LANGUAGE_TAG) if (-1 !== t.indexOf(e)) return \"zh-Hant\";\n\n          for (let e of a.SIMPLIFIED_CHINESE_LANGUAGE_TAG) if (-1 !== t.indexOf(e)) return \"zh-Hans\";\n\n          return \"zh-Hant\";\n        }\n\n        return t[0].substring(0, 2);\n      }\n\n      return \"en\";\n    }\n\n    static supportsServiceWorkers() {\n      switch (n.a.getWindowEnv()) {\n        case r.a.ServiceWorker:\n          return !0;\n\n        default:\n          return \"undefined\" != typeof navigator && \"serviceWorker\" in navigator;\n      }\n    }\n\n    static getSdkStylesVersionHash() {\n      return \"undefined\" == typeof __SRC_STYLESHEETS_MD5_HASH__ ? \"1\" : __SRC_STYLESHEETS_MD5_HASH__;\n    }\n\n  }\n}, function (e, t, i) {\n  var n;\n  n = function () {\n    var e = !0;\n\n    function t(t) {\n      function i(e) {\n        var i = t.match(e);\n        return i && i.length > 1 && i[1] || \"\";\n      }\n\n      var n,\n          r,\n          o,\n          s = i(/(ipod|iphone|ipad)/i).toLowerCase(),\n          a = !/like android/i.test(t) && /android/i.test(t),\n          c = /nexus\\s*[0-6]\\s*/i.test(t),\n          d = !c && /nexus\\s*[0-9]+/i.test(t),\n          u = /CrOS/.test(t),\n          l = /silk/i.test(t),\n          p = /sailfish/i.test(t),\n          g = /tizen/i.test(t),\n          f = /(web|hpw)os/i.test(t),\n          h = /windows phone/i.test(t),\n          b = (/SamsungBrowser/i.test(t), !h && /windows/i.test(t)),\n          m = !s && !l && /macintosh/i.test(t),\n          v = !a && !p && !g && !f && /linux/i.test(t),\n          S = i(/edge\\/(\\d+(\\.\\d+)?)/i),\n          y = i(/version\\/(\\d+(\\.\\d+)?)/i),\n          w = /tablet/i.test(t) && !/tablet pc/i.test(t),\n          P = !w && /[^-]mobi/i.test(t),\n          O = /xbox/i.test(t);\n      /opera/i.test(t) ? n = {\n        name: \"Opera\",\n        opera: e,\n        version: y || i(/(?:opera|opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      } : /opr\\/|opios/i.test(t) ? n = {\n        name: \"Opera\",\n        opera: e,\n        version: i(/(?:opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i) || y\n      } : /SamsungBrowser/i.test(t) ? n = {\n        name: \"Samsung Internet for Android\",\n        samsungBrowser: e,\n        version: y || i(/(?:SamsungBrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      } : /coast/i.test(t) ? n = {\n        name: \"Opera Coast\",\n        coast: e,\n        version: y || i(/(?:coast)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      } : /yabrowser/i.test(t) ? n = {\n        name: \"Yandex Browser\",\n        yandexbrowser: e,\n        version: y || i(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      } : /ucbrowser/i.test(t) ? n = {\n        name: \"UC Browser\",\n        ucbrowser: e,\n        version: i(/(?:ucbrowser)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      } : /mxios/i.test(t) ? n = {\n        name: \"Maxthon\",\n        maxthon: e,\n        version: i(/(?:mxios)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      } : /epiphany/i.test(t) ? n = {\n        name: \"Epiphany\",\n        epiphany: e,\n        version: i(/(?:epiphany)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      } : /puffin/i.test(t) ? n = {\n        name: \"Puffin\",\n        puffin: e,\n        version: i(/(?:puffin)[\\s\\/](\\d+(?:\\.\\d+)?)/i)\n      } : /sleipnir/i.test(t) ? n = {\n        name: \"Sleipnir\",\n        sleipnir: e,\n        version: i(/(?:sleipnir)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      } : /k-meleon/i.test(t) ? n = {\n        name: \"K-Meleon\",\n        kMeleon: e,\n        version: i(/(?:k-meleon)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      } : h ? (n = {\n        name: \"Windows Phone\",\n        windowsphone: e\n      }, S ? (n.msedge = e, n.version = S) : (n.msie = e, n.version = i(/iemobile\\/(\\d+(\\.\\d+)?)/i))) : /msie|trident/i.test(t) ? n = {\n        name: \"Internet Explorer\",\n        msie: e,\n        version: i(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i)\n      } : u ? n = {\n        name: \"Chrome\",\n        chromeos: e,\n        chromeBook: e,\n        chrome: e,\n        version: i(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n      } : /chrome.+? edge/i.test(t) ? n = {\n        name: \"Microsoft Edge\",\n        msedge: e,\n        version: S\n      } : /vivaldi/i.test(t) ? n = {\n        name: \"Vivaldi\",\n        vivaldi: e,\n        version: i(/vivaldi\\/(\\d+(\\.\\d+)?)/i) || y\n      } : p ? n = {\n        name: \"Sailfish\",\n        sailfish: e,\n        version: i(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)\n      } : /seamonkey\\//i.test(t) ? n = {\n        name: \"SeaMonkey\",\n        seamonkey: e,\n        version: i(/seamonkey\\/(\\d+(\\.\\d+)?)/i)\n      } : /firefox|iceweasel|fxios/i.test(t) ? (n = {\n        name: \"Firefox\",\n        firefox: e,\n        version: i(/(?:firefox|iceweasel|fxios)[ \\/](\\d+(\\.\\d+)?)/i)\n      }, /\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(t) && (n.firefoxos = e)) : l ? n = {\n        name: \"Amazon Silk\",\n        silk: e,\n        version: i(/silk\\/(\\d+(\\.\\d+)?)/i)\n      } : /phantom/i.test(t) ? n = {\n        name: \"PhantomJS\",\n        phantom: e,\n        version: i(/phantomjs\\/(\\d+(\\.\\d+)?)/i)\n      } : /slimerjs/i.test(t) ? n = {\n        name: \"SlimerJS\",\n        slimer: e,\n        version: i(/slimerjs\\/(\\d+(\\.\\d+)?)/i)\n      } : /blackberry|\\bbb\\d+/i.test(t) || /rim\\stablet/i.test(t) ? n = {\n        name: \"BlackBerry\",\n        blackberry: e,\n        version: y || i(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)\n      } : f ? (n = {\n        name: \"WebOS\",\n        webos: e,\n        version: y || i(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)\n      }, /touchpad\\//i.test(t) && (n.touchpad = e)) : /bada/i.test(t) ? n = {\n        name: \"Bada\",\n        bada: e,\n        version: i(/dolfin\\/(\\d+(\\.\\d+)?)/i)\n      } : g ? n = {\n        name: \"Tizen\",\n        tizen: e,\n        version: i(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i) || y\n      } : /qupzilla/i.test(t) ? n = {\n        name: \"QupZilla\",\n        qupzilla: e,\n        version: i(/(?:qupzilla)[\\s\\/](\\d+(?:\\.\\d+)+)/i) || y\n      } : /chromium/i.test(t) ? n = {\n        name: \"Chromium\",\n        chromium: e,\n        version: i(/(?:chromium)[\\s\\/](\\d+(?:\\.\\d+)?)/i) || y\n      } : /chrome|crios|crmo/i.test(t) ? n = {\n        name: \"Chrome\",\n        chrome: e,\n        version: i(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n      } : a ? n = {\n        name: \"Android\",\n        version: y\n      } : /safari|applewebkit/i.test(t) ? (n = {\n        name: \"Safari\",\n        safari: e\n      }, y && (n.version = y)) : s ? (n = {\n        name: \"iphone\" == s ? \"iPhone\" : \"ipad\" == s ? \"iPad\" : \"iPod\"\n      }, y && (n.version = y)) : n = /googlebot/i.test(t) ? {\n        name: \"Googlebot\",\n        googlebot: e,\n        version: i(/googlebot\\/(\\d+(\\.\\d+))/i) || y\n      } : {\n        name: i(/^(.*)\\/(.*) /),\n        version: (r = /^(.*)\\/(.*) /, o = t.match(r), o && o.length > 1 && o[2] || \"\")\n      }, !n.msedge && /(apple)?webkit/i.test(t) ? (/(apple)?webkit\\/537\\.36/i.test(t) ? (n.name = n.name || \"Blink\", n.blink = e) : (n.name = n.name || \"Webkit\", n.webkit = e), !n.version && y && (n.version = y)) : !n.opera && /gecko\\//i.test(t) && (n.name = n.name || \"Gecko\", n.gecko = e, n.version = n.version || i(/gecko\\/(\\d+(\\.\\d+)?)/i)), n.windowsphone || n.msedge || !a && !n.silk ? n.windowsphone || n.msedge || !s ? m ? n.mac = e : O ? n.xbox = e : b ? n.windows = e : v && (n.linux = e) : (n[s] = e, n.ios = e) : n.android = e;\n      var k = \"\";\n      n.windows ? k = function (e) {\n        switch (e) {\n          case \"NT\":\n            return \"NT\";\n\n          case \"XP\":\n            return \"XP\";\n\n          case \"NT 5.0\":\n            return \"2000\";\n\n          case \"NT 5.1\":\n            return \"XP\";\n\n          case \"NT 5.2\":\n            return \"2003\";\n\n          case \"NT 6.0\":\n            return \"Vista\";\n\n          case \"NT 6.1\":\n            return \"7\";\n\n          case \"NT 6.2\":\n            return \"8\";\n\n          case \"NT 6.3\":\n            return \"8.1\";\n\n          case \"NT 10.0\":\n            return \"10\";\n\n          default:\n            return;\n        }\n      }(i(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i)) : n.windowsphone ? k = i(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i) : n.mac ? k = (k = i(/Mac OS X (\\d+([_\\.\\s]\\d+)*)/i)).replace(/[_\\s]/g, \".\") : s ? k = (k = i(/os (\\d+([_\\s]\\d+)*) like mac os x/i)).replace(/[_\\s]/g, \".\") : a ? k = i(/android[ \\/-](\\d+(\\.\\d+)*)/i) : n.webos ? k = i(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i) : n.blackberry ? k = i(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i) : n.bada ? k = i(/bada\\/(\\d+(\\.\\d+)*)/i) : n.tizen && (k = i(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i)), k && (n.osversion = k);\n      var I = !n.windows && k.split(\".\")[0];\n      return w || d || \"ipad\" == s || a && (3 == I || I >= 4 && !P) || n.silk ? n.tablet = e : (P || \"iphone\" == s || \"ipod\" == s || a || c || n.blackberry || n.webos || n.bada) && (n.mobile = e), n.msedge || n.msie && n.version >= 10 || n.yandexbrowser && n.version >= 15 || n.vivaldi && n.version >= 1 || n.chrome && n.version >= 20 || n.samsungBrowser && n.version >= 4 || n.firefox && n.version >= 20 || n.safari && n.version >= 6 || n.opera && n.version >= 10 || n.ios && n.osversion && n.osversion.split(\".\")[0] >= 6 || n.blackberry && n.version >= 10.1 || n.chromium && n.version >= 20 ? n.a = e : n.msie && n.version < 10 || n.chrome && n.version < 20 || n.firefox && n.version < 20 || n.safari && n.version < 6 || n.opera && n.version < 10 || n.ios && n.osversion && n.osversion.split(\".\")[0] < 6 || n.chromium && n.version < 20 ? n.c = e : n.x = e, n;\n    }\n\n    var i = t(\"undefined\" != typeof navigator && navigator.userAgent || \"\");\n\n    function n(e) {\n      return e.split(\".\").length;\n    }\n\n    function r(e, t) {\n      var i,\n          n = [];\n      if (Array.prototype.map) return Array.prototype.map.call(e, t);\n\n      for (i = 0; i < e.length; i++) n.push(t(e[i]));\n\n      return n;\n    }\n\n    function o(e) {\n      for (var t = Math.max(n(e[0]), n(e[1])), i = r(e, function (e) {\n        var i = t - n(e);\n        return r((e += new Array(i + 1).join(\".0\")).split(\".\"), function (e) {\n          return new Array(20 - e.length).join(\"0\") + e;\n        }).reverse();\n      }); --t >= 0;) {\n        if (i[0][t] > i[1][t]) return 1;\n        if (i[0][t] !== i[1][t]) return -1;\n        if (0 === t) return 0;\n      }\n    }\n\n    function s(e, n, r) {\n      var s = i;\n      \"string\" == typeof n && (r = n, n = void 0), void 0 === n && (n = !1), r && (s = t(r));\n      var a = \"\" + s.version;\n\n      for (var c in e) if (e.hasOwnProperty(c) && s[c]) {\n        if (\"string\" != typeof e[c]) throw new Error(\"Browser version in the minVersion map should be a string: \" + c + \": \" + String(e));\n        return o([a, e[c]]) < 0;\n      }\n\n      return n;\n    }\n\n    return i.test = function (e) {\n      for (var t = 0; t < e.length; ++t) {\n        var n = e[t];\n        if (\"string\" == typeof n && n in i) return !0;\n      }\n\n      return !1;\n    }, i.isUnsupportedBrowser = s, i.compareVersions = o, i.check = function (e, t, i) {\n      return !s(e, t, i);\n    }, i._detect = t, i;\n  }, void 0 !== e && e.exports ? e.exports = n() : i(34)(\"bowser\", n);\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n;\n  i.d(t, \"a\", function () {\n    return n;\n  }), function (e) {\n    e.Default = \"default\", e.Granted = \"granted\", e.Denied = \"denied\";\n  }(n || (n = {}));\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return n;\n  });\n\n  class n extends Error {\n    constructor(e = \"\") {\n      super(e), _Object$defineProperty(this, \"message\", {\n        configurable: !0,\n        enumerable: !1,\n        value: e,\n        writable: !0\n      }), _Object$defineProperty(this, \"name\", {\n        configurable: !0,\n        enumerable: !1,\n        value: this.constructor.name,\n        writable: !0\n      }), Error.hasOwnProperty(\"captureStackTrace\") ? Error.captureStackTrace(this, this.constructor) : (_Object$defineProperty(this, \"stack\", {\n        configurable: !0,\n        enumerable: !1,\n        value: new Error(e).stack,\n        writable: !0\n      }), _Object$setPrototypeOf(this, n.prototype));\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"b\", function () {\n    return n;\n  }), i.d(t, \"a\", function () {\n    return InvalidArgumentError;\n  });\n  var n,\n      r = i(13);\n  !function (e) {\n    e[e.Empty = 0] = \"Empty\", e[e.Malformed = 1] = \"Malformed\", e[e.EnumOutOfRange = 2] = \"EnumOutOfRange\";\n  }(n || (n = {}));\n\n  class InvalidArgumentError extends r.a {\n    constructor(e, t) {\n      switch (t) {\n        case n.Empty:\n          super(`Supply a non-empty value to '${e}'.`);\n          break;\n\n        case n.Malformed:\n          super(`The value for '${e}' was malformed.`);\n          break;\n\n        case n.EnumOutOfRange:\n          super(`The value for '${e}' was out of range of the expected input enum.`);\n      }\n\n      this.argument = e, this.reason = n[t], _Object$setPrototypeOf(this, InvalidArgumentError.prototype);\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n;\n  i.d(t, \"a\", function () {\n    return n;\n  }), function (e) {\n    e.Secure = \"Secure\", e.SecureProxy = \"Secure Proxy\", e.InsecureProxy = \"Insecure Proxy\";\n  }(n || (n = {}));\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n,\n      r,\n      o,\n      s = i(13);\n  !function (e) {\n    e[e.HttpsPermissionRequest = \"HTTPS permission request\"] = \"HttpsPermissionRequest\", e[e.FullscreenHttpPermissionMessage = \"fullscreen HTTP permission message\"] = \"FullscreenHttpPermissionMessage\", e[e.FullscreenHttpsPermissionMessage = \"fullscreen HTTPS permission message\"] = \"FullscreenHttpsPermissionMessage\", e[e.SlidedownPermissionMessage = \"slidedown permission message\"] = \"SlidedownPermissionMessage\", e[e.SubscriptionBell = \"subscription bell\"] = \"SubscriptionBell\";\n  }(n || (n = {})), i.d(t, \"b\", function () {\n    return r;\n  }), i.d(t, \"a\", function () {\n    return a;\n  }), (o = r || (r = {}))[o.MissingAppId = 0] = \"MissingAppId\", o[o.RedundantPermissionMessage = 1] = \"RedundantPermissionMessage\", o[o.PushPermissionAlreadyGranted = 2] = \"PushPermissionAlreadyGranted\", o[o.UnsupportedEnvironment = 3] = \"UnsupportedEnvironment\", o[o.MissingDomElement = 4] = \"MissingDomElement\", o[o.ServiceWorkerNotActivated = 5] = \"ServiceWorkerNotActivated\", o[o.NoProxyFrame = 6] = \"NoProxyFrame\";\n\n  class a extends s.a {\n    constructor(e, t) {\n      switch (e) {\n        case r.MissingAppId:\n          super(\"Missing required app ID.\");\n          break;\n\n        case r.RedundantPermissionMessage:\n          let i = \"\";\n          t && t.permissionPromptType && (i = `(${n[t.permissionPromptType]})`), super(`Another permission message ${i} is being displayed.`);\n          break;\n\n        case r.PushPermissionAlreadyGranted:\n          super(\"Push permission has already been granted.\");\n          break;\n\n        case r.UnsupportedEnvironment:\n          super(\"The current environment does not support this operation.\");\n          break;\n\n        case r.ServiceWorkerNotActivated:\n          super(\"The service worker must be activated first.\");\n          break;\n\n        case r.NoProxyFrame:\n          super(\"No proxy frame.\");\n      }\n\n      this.description = r[e], this.reason = e, _Object$setPrototypeOf(this, a.prototype);\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return a;\n  });\n  var n = i(10),\n      r = i(3),\n      o = i(2),\n      s = i(22);\n\n  class a {\n    static get(e, t, i) {\n      return a.call(\"GET\", e, t, i);\n    }\n\n    static post(e, t, i) {\n      return a.call(\"POST\", e, t, i);\n    }\n\n    static put(e, t, i) {\n      return a.call(\"PUT\", e, t, i);\n    }\n\n    static delete(e, t, i) {\n      return a.call(\"DELETE\", e, t, i);\n    }\n\n    static call(e, t, i, o) {\n      if (\"GET\" === e) {\n        if (t.indexOf(\"players\") > -1 && -1 === t.indexOf(\"app_id=\")) return console.error(\"Calls to player api are not permitted without app_id\"), _Promise.reject(new s.a(s.b.MissingAppId));\n      } else if (t.indexOf(\"players\") > -1 && (!i || !i.app_id)) return console.error(\"Calls to player api are not permitted without app_id\"), _Promise.reject(new s.a(s.b.MissingAppId));\n\n      let c = new Headers();\n      if (c.append(\"SDK-Version\", `onesignal/web/${n.a.version()}`), c.append(\"Content-Type\", \"application/json;charset=UTF-8\"), o) for (let e of _Object$keys(o)) c.append(e, o[e]);\n      const d = {\n        method: e || \"NO_METHOD_SPECIFIED\",\n        headers: c,\n        cache: \"no-cache\"\n      };\n      let u;\n      return i && (d.body = _JSON$stringify(i)), fetch(r.a.getOneSignalApiUrl().toString() + \"/\" + t, d).then(e => (u = e.status, e.json())).then(e => {\n        if (u >= 200 && u < 300) return e;\n        if (\"no-user-id-error\" !== a.identifyError(e)) return _Promise.reject(e);\n      });\n    }\n\n    static identifyError(e) {\n      if (!e || !e.errors) return \"no-error\";\n      let t = e.errors;\n      return o.a.contains(t, \"No user with this id found\") || o.a.contains(t, \"Could not find app_id for given player id.\") ? \"no-user-id-error\" : \"unknown-error\";\n    }\n\n  }\n\n  t.b = a;\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return r;\n  });\n  var n = i(13);\n\n  class r extends n.a {\n    constructor() {\n      super(\"This code is not implemented yet.\"), _Object$setPrototypeOf(this, r.prototype);\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return p;\n  });\n  var n = i(0),\n      r = i(10),\n      o = i(3),\n      s = i(4),\n      a = i(1),\n      c = i(2);\n  const d = [\"notifyButtonHovering\", \"notifyButtonHover\", \"notifyButtonButtonClick\", \"notifyButtonLauncherClick\", \"animatedElementHiding\", \"animatedElementHidden\", \"animatedElementShowing\", \"animatedElementShown\", \"activeAnimatedElementActivating\", \"activeAnimatedElementActive\", \"activeAnimatedElementInactivating\", \"activeAnimatedElementInactive\", \"dbRetrieved\", \"dbSet\", \"testEvent\"],\n        u = [\"onesignal.prompt.custom.clicked\", \"onesignal.prompt.native.permissionchanged\", \"onesignal.subscription.changed\", \"onesignal.internal.subscriptionset\", \"dbRebuilt\", \"initialize\", \"subscriptionSet\", \"sendWelcomeNotification\", \"subscriptionChange\", \"notificationPermissionChange\", \"dbSet\", \"register\", \"notificationDisplay\", \"notificationDismiss\", \"notificationClick\", \"permissionPromptDisplay\", \"testWouldDisplay\", \"testInitOptionDisabled\", \"popupWindowTimeout\"],\n        l = {\n    notificationPermissionChange: \"onesignal.prompt.native.permissionchanged\",\n    subscriptionChange: \"onesignal.subscription.changed\",\n    customPromptClick: \"onesignal.prompt.custom.clicked\"\n  };\n\n  class p {\n    static trigger(e, t, i = null) {\n      return n.a(this, void 0, void 0, function* () {\n        if (!c.b.contains(d, e)) {\n          let n = t,\n              r = c.b.capitalize(o.a.getWindowEnv().toString());\n          i && (r = `${r}  ${c.b.capitalize(i)}`), n || !1 === n ? a.a.debug(`(${r})  %c${e}:`, c.b.getConsoleStyle(\"event\"), n) : a.a.debug(`(${r})  %c${e}`, c.b.getConsoleStyle(\"event\"));\n        }\n\n        if (r.a.isBrowser()) {\n          if (e === OneSignal.EVENTS.SDK_INITIALIZED) {\n            if (OneSignal.initialized) return;\n            OneSignal.initialized = !0;\n          }\n\n          yield OneSignal.emitter.emit(e, t);\n        }\n\n        if (l.hasOwnProperty(e)) {\n          let i = l[e];\n\n          p._triggerLegacy(i, t);\n        }\n\n        if (r.a.isBrowser() && (o.a.getWindowEnv() === s.a.OneSignalSubscriptionPopup || o.a.getWindowEnv() === s.a.OneSignalProxyFrame)) {\n          opener || parent ? c.b.contains(u, e) && (o.a.getWindowEnv() === s.a.OneSignalSubscriptionPopup ? OneSignal.subscriptionPopup.message(OneSignal.POSTMAM_COMMANDS.REMOTE_RETRIGGER_EVENT, {\n            eventName: e,\n            eventData: t\n          }) : OneSignal.proxyFrame.retriggerRemoteEvent(e, t)) : a.a.error(`Could not send event '${e}' back to host page because no creator (opener or parent) found!`);\n        }\n      });\n    }\n\n    static _triggerLegacy(e, t) {\n      const i = new CustomEvent(e, {\n        bubbles: !0,\n        cancelable: !0,\n        detail: t\n      });\n      window.dispatchEvent(i);\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"b\", function () {\n    return n;\n  }), i.d(t, \"a\", function () {\n    return SdkInitError;\n  });\n  var n,\n      r = i(13);\n  !function (e) {\n    e[e.InvalidAppId = 0] = \"InvalidAppId\", e[e.AppNotConfiguredForWebPush = 1] = \"AppNotConfiguredForWebPush\", e[e.MissingSubdomain = 2] = \"MissingSubdomain\", e[e.WrongSiteUrl = 3] = \"WrongSiteUrl\", e[e.MultipleInitialization = 4] = \"MultipleInitialization\", e[e.MissingSafariWebId = 5] = \"MissingSafariWebId\", e[e.Unknown = 6] = \"Unknown\";\n  }(n || (n = {}));\n\n  class SdkInitError extends r.a {\n    constructor(e, t) {\n      switch (e) {\n        case n.InvalidAppId:\n          super(\"OneSignal: This app ID does not match any existing app. Double check your app ID.\");\n          break;\n\n        case n.AppNotConfiguredForWebPush:\n          super(\"OneSignal: This app ID does not have any web platforms enabled. Double check your app ID, or see step 1 on our setup guide (https://goo.gl/01h7fZ).\");\n          break;\n\n        case n.MissingSubdomain:\n          super(\"OneSignal: Non-HTTPS pages require a subdomain of OneSignal to be chosen on your dashboard. See step 1.4 on our setup guide (https://goo.gl/xip6JB).\");\n          break;\n\n        case n.WrongSiteUrl:\n          t && t.siteUrl ? super(`OneSignal: This web push config can only be used on ${new URL(t.siteUrl).origin}. Your current origin is ${location.origin}.`) : super(\"OneSignal: This web push config can not be used on the current site.\");\n          break;\n\n        case n.MultipleInitialization:\n          super(\"OneSignal: The OneSignal web SDK can only be initialized once. Extra initializations are ignored. Please remove calls initializing the SDK more than once.\");\n          break;\n\n        case n.MissingSafariWebId:\n          super(\"OneSignal: Safari browser support on Mac OS X requires the Safari web platform to be enabled. Please see the Safari Support steps in our web setup guide.\");\n          break;\n\n        case n.Unknown:\n          super(\"OneSignal: An unknown initialization error occurred.\");\n      }\n\n      this.reason = n[e], _Object$setPrototypeOf(this, SdkInitError.prototype);\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return n;\n  });\n\n  class n {\n    isNewSubscription() {\n      return this.existingW3cPushSubscription ? !!this.existingW3cPushSubscription.w3cEndpoint != !!this.w3cEndpoint || !(!this.existingW3cPushSubscription.w3cEndpoint || !this.w3cEndpoint || this.existingW3cPushSubscription.w3cEndpoint.toString() === this.w3cEndpoint.toString()) || this.existingW3cPushSubscription.w3cP256dh !== this.w3cP256dh || this.existingW3cPushSubscription.w3cAuth !== this.w3cAuth : !this.existingSafariDeviceToken || this.existingSafariDeviceToken !== this.safariDeviceToken;\n    }\n\n    static setFromW3cSubscription(e) {\n      const t = new n();\n\n      if (e && (t.w3cEndpoint = new URL(e.endpoint), e.getKey)) {\n        let i = null;\n\n        try {\n          i = e.getKey(\"p256dh\");\n        } catch (e) {}\n\n        let n = null;\n\n        try {\n          n = e.getKey(\"auth\");\n        } catch (e) {}\n\n        if (i) {\n          let e = btoa(String.fromCharCode.apply(null, new Uint8Array(i)));\n          t.w3cP256dh = e;\n        }\n\n        if (n) {\n          let e = btoa(String.fromCharCode.apply(null, new Uint8Array(n)));\n          t.w3cAuth = e;\n        }\n      }\n\n      return t;\n    }\n\n    setFromSafariSubscription(e) {\n      this.safariDeviceToken = e;\n    }\n\n    serialize() {\n      return {\n        w3cEndpoint: this.w3cEndpoint ? this.w3cEndpoint.toString() : null,\n        w3cP256dh: this.w3cP256dh,\n        w3cAuth: this.w3cAuth,\n        safariDeviceToken: this.safariDeviceToken,\n        existingPushSubscription: this.existingW3cPushSubscription ? this.existingW3cPushSubscription.serialize() : null,\n        existingSafariDeviceToken: this.existingSafariDeviceToken\n      };\n    }\n\n    static deserialize(e) {\n      const t = new n();\n      if (!e) return t;\n\n      try {\n        t.w3cEndpoint = new URL(e.w3cEndpoint);\n      } catch (e) {}\n\n      return t.w3cP256dh = e.w3cP256dh, t.w3cAuth = e.w3cAuth, t.existingW3cPushSubscription = void 0, e.existingW3cPushSubscription ? t.existingW3cPushSubscription = n.deserialize(e.existingW3cPushSubscription) : e.existingPushSubscription && (t.existingW3cPushSubscription = n.deserialize(e.existingPushSubscription)), t.safariDeviceToken = e.safariDeviceToken, t.existingSafariDeviceToken = e.existingSafariDeviceToken, t;\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"b\", function () {\n    return n;\n  }), i.d(t, \"a\", function () {\n    return o;\n  });\n  var n,\n      r = i(13);\n  !function (e) {\n    e[e.MissingAppId = 0] = \"MissingAppId\";\n  }(n || (n = {}));\n\n  class o extends r.a {\n    constructor(e) {\n      switch (e) {\n        case n.MissingAppId:\n          super(\"The API call is missing an app ID.\");\n      }\n\n      _Object$setPrototypeOf(this, o.prototype);\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n;\n  i.d(t, \"a\", function () {\n    return n;\n  }), function (e) {\n    e[e.ChromeLike = 5] = \"ChromeLike\", e[e.Safari = 7] = \"Safari\", e[e.Firefox = 8] = \"Firefox\", e[e.Edge = 12] = \"Edge\", e[e.Email = 11] = \"Email\";\n  }(n || (n = {}));\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return c;\n  });\n  var n = i(11),\n      r = i.n(n),\n      o = i(18),\n      s = i(9),\n      a = i(30);\n\n  class c extends a.a {\n    constructor(e) {\n      super(), this.subscription = e;\n    }\n\n    serialize() {\n      const e = super.serialize();\n      return this.subscription && (e.identifier = r.a.safari ? this.subscription.safariDeviceToken : this.subscription.w3cEndpoint ? this.subscription.w3cEndpoint.toString() : null, e.web_auth = this.subscription.w3cAuth, e.web_p256 = this.subscription.w3cP256dh), e;\n    }\n\n    static createFromPushSubscription(e, t, i) {\n      const n = new c(t);\n      return n.appId = e, n.subscriptionState = t ? s.a.Subscribed : s.a.NotSubscribed, i && (n.subscriptionState = i), n;\n    }\n\n    deserialize(e) {\n      throw new o.a();\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n;\n  i.d(t, \"a\", function () {\n    return n;\n  }), function (e) {\n    e.None = \"None\", e.UnitTesting = \"Unit Testing\";\n  }(n || (n = {}));\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n = i(7),\n      r = i(3),\n      o = i(4),\n      s = i(1);\n\n  class a {\n    constructor() {\n      this.incrementedPageViewCount = !1;\n    }\n\n    getPageViewCount() {\n      try {\n        const e = sessionStorage.getItem(a.SESSION_STORAGE_KEY_NAME),\n              t = e ? _parseInt(e) : 0;\n        return isNaN(t) ? 0 : t;\n      } catch (e) {\n        return 0;\n      }\n    }\n\n    setPageViewCount(e) {\n      try {\n        sessionStorage.setItem(a.SESSION_STORAGE_KEY_NAME, e.toString()), r.a.getWindowEnv() === o.a.OneSignalSubscriptionPopup && OneSignal.subscriptionPopup && OneSignal.subscriptionPopup.message(OneSignal.POSTMAM_COMMANDS.SET_SESSION_COUNT);\n      } catch (e) {}\n    }\n\n    incrementPageViewCount() {\n      if (this.incrementedPageViewCount) return;\n      const e = this.getPageViewCount() + 1;\n      this.setPageViewCount(e), s.a.debug(`Incremented page view count to ${e}.`), this.incrementedPageViewCount = !0;\n    }\n\n    simulatePageNavigationOrRefresh() {\n      this.incrementedPageViewCount = !1;\n    }\n\n    isFirstPageView() {\n      return 1 === this.getPageViewCount();\n    }\n\n  }\n\n  a.SESSION_STORAGE_KEY_NAME = \"onesignal-pageview-count\";\n  var c = i(0),\n      d = i(8),\n      u = i(11),\n      l = i.n(u),\n      InvalidArgumentError = i(14),\n      p = i(12);\n  const g = \"isOptedOut\",\n        f = \"isPushNotificationsEnabled\";\n\n  class h {\n    static getIsOptedOut() {\n      return \"true\" === localStorage.getItem(g);\n    }\n\n    static getIsPushNotificationsEnabled() {\n      return \"true\" === localStorage.getItem(f);\n    }\n\n    static setIsOptedOut(e) {\n      localStorage.setItem(g, e.toString());\n    }\n\n    static setIsPushNotificationsEnabled(e) {\n      localStorage.setItem(f, e.toString());\n    }\n\n    static setStoredPermission(e) {\n      localStorage.setItem(b.STORED_PERMISSION_KEY, e);\n    }\n\n    static getStoredPermission() {\n      switch (localStorage.getItem(b.STORED_PERMISSION_KEY) || \"default\") {\n        case \"granted\":\n          return p.a.Granted;\n\n        case \"denied\":\n          return p.a.Denied;\n\n        default:\n          return p.a.Default;\n      }\n    }\n\n  }\n\n  class b {\n    static get STORED_PERMISSION_KEY() {\n      return \"storedNotificationPermission\";\n    }\n\n    getNotificationPermission(e) {\n      return c.a(this, void 0, void 0, function* () {\n        const t = yield this.getReportedNotificationPermission(e);\n        return (yield this.isPermissionEnvironmentAmbiguous(t)) ? yield this.getInterpretedAmbiguousPermission(t) : t;\n      });\n    }\n\n    getReportedNotificationPermission(e) {\n      return c.a(this, void 0, void 0, function* () {\n        return l.a.safari ? b.getSafariNotificationPermission(e) : d.b.isUsingSubscriptionWorkaround() ? yield this.getOneSignalSubdomainNotificationPermission(e) : this.getW3cNotificationPermission();\n      });\n    }\n\n    static getSafariNotificationPermission(e) {\n      if (e) return window.safari.pushNotification.permission(e).permission;\n      throw new InvalidArgumentError.a(\"safariWebId\", InvalidArgumentError.b.Empty);\n    }\n\n    getW3cNotificationPermission() {\n      return window.Notification.permission;\n    }\n\n    getOneSignalSubdomainNotificationPermission(e) {\n      return c.a(this, void 0, void 0, function* () {\n        return new _Promise(t => {\n          OneSignal.proxyFrameHost.message(OneSignal.POSTMAM_COMMANDS.REMOTE_NOTIFICATION_PERMISSION, {\n            safariWebId: e\n          }, e => {\n            let i = e.data;\n            t(i);\n          });\n        });\n      });\n    }\n\n    isPermissionEnvironmentAmbiguous(e) {\n      return c.a(this, void 0, void 0, function* () {\n        const t = d.b.redetectBrowserUserAgent();\n        return !t.safari && !t.firefox && e === p.a.Denied && (this.isCurrentFrameContextCrossOrigin() || (yield r.a.isFrameContextInsecure()) || d.b.isUsingSubscriptionWorkaround() || r.a.isInsecureOrigin());\n      });\n    }\n\n    isCurrentFrameContextCrossOrigin() {\n      let e;\n\n      try {\n        e = window.top.location.origin;\n      } catch (e) {\n        return !0;\n      }\n\n      return window.top !== window && e !== window.location.origin;\n    }\n\n    getInterpretedAmbiguousPermission(e) {\n      return c.a(this, void 0, void 0, function* () {\n        switch (e) {\n          case p.a.Denied:\n            const t = this.getStoredPermission();\n            return t || p.a.Default;\n\n          default:\n            return e;\n        }\n      });\n    }\n\n    getStoredPermission() {\n      return h.getStoredPermission();\n    }\n\n    setStoredPermission(e) {\n      h.setStoredPermission(e);\n    }\n\n    updateStoredPermission() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = yield this.getNotificationPermission();\n        return this.setStoredPermission(e);\n      });\n    }\n\n  }\n\n  var m = i(10);\n\n  class v {\n    constructor(e) {\n      if (!e) throw new InvalidArgumentError.a(\"path\", InvalidArgumentError.b.Empty);\n      this.path = e.trim();\n    }\n\n    getQueryString() {\n      const e = this.path.indexOf(\"?\");\n      return -1 === e ? null : this.path.length > e ? this.path.substring(e + 1) : null;\n    }\n\n    getWithoutQueryString() {\n      return this.path.split(v.QUERY_STRING)[0];\n    }\n\n    getFileName() {\n      return this.getWithoutQueryString().split(\"\\\\\").pop().split(\"/\").pop();\n    }\n\n    getFileNameWithQuery() {\n      return this.path.split(\"\\\\\").pop().split(\"/\").pop();\n    }\n\n    getFullPath() {\n      return this.path;\n    }\n\n    getPathWithoutFileName() {\n      const e = this.getWithoutQueryString(),\n            t = e.lastIndexOf(this.getFileName());\n      let i = e.substring(0, t);\n      return i = i.replace(/[\\\\\\/]$/, \"\");\n    }\n\n  }\n\n  v.QUERY_STRING = \"?\";\n  var S = i(5),\n      y = i(15),\n      w = i(18),\n      P = i(19),\n      O = i(13);\n\n  class k extends O.a {\n    constructor(e, t) {\n      super(\"Registration of a Service Worker failed.\"), this.status = e, this.statusText = t, _Object$setPrototypeOf(this, k.prototype);\n    }\n\n  }\n\n  var I = k,\n      E = i(6),\n      x = i(2);\n\n  class A {\n    constructor(e, t) {\n      this.context = e, this.config = t;\n    }\n\n    static getRegistration() {\n      return c.a(this, void 0, void 0, function* () {\n        return yield E.b.getRegistration();\n      });\n    }\n\n    getActiveState() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = yield r.a.getIntegration();\n        if (e === y.a.InsecureProxy) return E.a.Indeterminate;\n\n        if (e === y.a.SecureProxy) {\n          switch (r.a.getWindowEnv()) {\n            case o.a.Host:\n            case o.a.CustomIframe:\n              const e = OneSignal.proxyFrameHost;\n              return e ? yield e.runCommand(OneSignal.POSTMAM_COMMANDS.SERVICE_WORKER_STATE) : E.a.Indeterminate;\n\n            case o.a.OneSignalSubscriptionPopup:\n              break;\n\n            case o.a.OneSignalSubscriptionModal:\n              throw new w.a();\n          }\n        }\n\n        const t = yield A.getRegistration();\n        if (!t) return E.a.None;\n        if (t.installing) return E.a.Installing;\n        if (!t.active) return E.a.ThirdParty;\n        const i = A.activeSwFileName(t),\n              n = this.swActiveStateByFileName(i);\n        return navigator.serviceWorker.controller || n !== E.a.WorkerA && n !== E.a.WorkerB ? n : E.a.Bypassed;\n      });\n    }\n\n    static activeSwFileName(e) {\n      if (!e.active) return null;\n      const t = new URL(e.active.scriptURL).pathname,\n            i = new v(t).getFileName();\n\n      if (\"akam-sw.js\" == i) {\n        const t = new URLSearchParams(new URL(e.active.scriptURL).search).get(\"othersw\");\n        if (t) return s.a.debug(\"Found a ServiceWorker under Akamai's akam-sw.js?othersw=\", t), new v(new URL(t).pathname).getFileName();\n      }\n\n      return i;\n    }\n\n    swActiveStateByFileName(e) {\n      return e ? e == this.config.workerAPath.getFileName() ? E.a.WorkerA : e == this.config.workerBPath.getFileName() ? E.a.WorkerB : E.a.ThirdParty : E.a.None;\n    }\n\n    getWorkerVersion() {\n      return c.a(this, void 0, void 0, function* () {\n        return new _Promise(e => c.a(this, void 0, void 0, function* () {\n          if (d.b.isUsingSubscriptionWorkaround()) {\n            const t = OneSignal.proxyFrameHost;\n\n            if (t) {\n              const i = yield t.runCommand(OneSignal.POSTMAM_COMMANDS.GET_WORKER_VERSION);\n              e(i);\n            } else e(NaN);\n          } else this.context.workerMessenger.once(n.b.WorkerVersion, t => {\n            e(t);\n          }), this.context.workerMessenger.unicast(n.b.WorkerVersion);\n        }));\n      });\n    }\n\n    shouldInstallWorker() {\n      return c.a(this, void 0, void 0, function* () {\n        if (!m.a.supportsServiceWorkers()) return !1;\n        if (!OneSignal.config) return !1;\n        if (OneSignal.config.subdomain && r.a.getWindowEnv() == o.a.Host) return !1;\n        const e = yield this.getActiveState();\n\n        if (e === E.a.None || e === E.a.ThirdParty) {\n          return \"granted\" === (yield OneSignal.context.permissionManager.getNotificationPermission(OneSignal.config.safariWebId));\n        }\n\n        return this.workerNeedsUpdate();\n      });\n    }\n\n    workerNeedsUpdate() {\n      return c.a(this, void 0, void 0, function* () {\n        let e;\n        s.a.info(\"[Service Worker Update] Checking service worker version...\");\n\n        try {\n          e = yield x.a.timeoutPromise(this.getWorkerVersion(), 2e3);\n        } catch (e) {\n          return s.a.info(\"[Service Worker Update] Worker did not reply to version query; assuming older version and updating.\"), !0;\n        }\n\n        return e !== m.a.version() ? (s.a.info(`[Service Worker Update] Updating service worker from ${e} --\\x3e ${m.a.version()}.`), !0) : (s.a.info(`[Service Worker Update] Service worker version is current at ${e} (no update required).`), !1);\n      });\n    }\n\n    installWorker() {\n      return c.a(this, void 0, void 0, function* () {\n        if (!(yield this.shouldInstallWorker())) return;\n        const e = yield this.getActiveState();\n        yield this.installAlternatingWorker(), yield new _Promise(t => c.a(this, void 0, void 0, function* () {\n          const i = yield this.getActiveState();\n          s.a.debug(\"installWorker - Comparing pre and post states\", e, i), e !== i && i !== E.a.Installing ? t() : (s.a.debug(\"installWorker - Awaiting on navigator.serviceWorker's 'controllerchange' event\"), navigator.serviceWorker.addEventListener(\"controllerchange\", i => c.a(this, void 0, void 0, function* () {\n            const i = yield this.getActiveState();\n            i !== e && i !== E.a.Installing ? t() : s.a.error(\"installWorker - SW's 'controllerchange' fired but no state change!\");\n          })));\n        })), (yield this.getActiveState()) === E.a.WorkerB && (yield this.installAlternatingWorker()), yield this.establishServiceWorkerChannel();\n      });\n    }\n\n    establishServiceWorkerChannel() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = this.context.workerMessenger;\n        e.off(), e.on(n.b.NotificationDisplayed, e => {\n          s.a.debug(location.origin, \"Received notification display event from service worker.\"), P.a.trigger(OneSignal.EVENTS.NOTIFICATION_DISPLAYED, e);\n        }), e.on(n.b.NotificationClicked, e => c.a(this, void 0, void 0, function* () {\n          let t;\n\n          if (0 === (t = r.a.getWindowEnv() === o.a.OneSignalProxyFrame ? yield new _Promise(e => {\n            const t = OneSignal.proxyFrame;\n            t && t.messenger.message(OneSignal.POSTMAM_COMMANDS.GET_EVENT_LISTENER_COUNT, OneSignal.EVENTS.NOTIFICATION_CLICKED, t => {\n              let i = t.data;\n              e(i);\n            });\n          }) : OneSignal.emitter.numberOfListeners(OneSignal.EVENTS.NOTIFICATION_CLICKED))) {\n            s.a.debug(\"notification.clicked event received, but no event listeners; storing event in IndexedDb for later retrieval.\");\n            let t = e.url;\n            e.url || (t = location.href), yield S.a.put(\"NotificationOpened\", {\n              url: t,\n              data: e,\n              timestamp: _Date$now()\n            });\n          } else P.a.trigger(OneSignal.EVENTS.NOTIFICATION_CLICKED, e);\n        })), e.on(n.b.RedirectPage, e => {\n          s.a.debug(`${r.a.getWindowEnv().toString()} Picked up command.redirect to ${e}, forwarding to host page.`);\n          const t = OneSignal.proxyFrame;\n          t && t.messenger.message(OneSignal.POSTMAM_COMMANDS.SERVICEWORKER_COMMAND_REDIRECT, e);\n        }), e.on(n.b.NotificationDismissed, e => {\n          P.a.trigger(OneSignal.EVENTS.NOTIFICATION_DISMISSED, e);\n        });\n      });\n    }\n\n    installAlternatingWorker() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = yield this.getActiveState();\n        e === E.a.ThirdParty && s.a.info(\"[Service Worker Installation] 3rd party service worker detected.\");\n        const t = `${E.b.getServiceWorkerHref(e, this.config)}?${x.a.encodeHashAsUriComponent({\n          appId: this.context.appConfig.appId\n        })}`;\n        s.a.info(`[Service Worker Installation] Installing service worker ${t}.`);\n\n        try {\n          yield navigator.serviceWorker.register(t, {\n            scope: `${d.b.getBaseUrl()}${this.config.registrationOptions.scope}`\n          });\n        } catch (e) {\n          if (s.a.error(`[Service Worker Installation] Installing service worker failed ${e}`), r.a.getWindowEnv() === o.a.OneSignalSubscriptionPopup) throw e;\n          const i = yield fetch(t);\n          if (403 === i.status || 404 === i.status) throw new I(i.status, i.statusText);\n          throw e;\n        }\n\n        s.a.debug(\"[Service Worker Installation] Service worker installed.\");\n      });\n    }\n\n  }\n\n  var N = i(22),\n      W = i(23),\n      T = i(30);\n\n  class C extends T.a {\n    constructor(e, t, i) {\n      super(), this.email = e, this.emailAuthHash = t, this.pushDeviceRecordId = i, this.deliveryPlatform = W.a.Email;\n    }\n\n    serialize() {\n      const e = super.serialize();\n      return this.email && (e.identifier = this.email), this.emailAuthHash && (e.email_auth_hash = this.emailAuthHash), this.pushDeviceRecordId && (e.device_player_id = this.pushDeviceRecordId), e;\n    }\n\n    deserialize(e) {\n      throw new w.a();\n    }\n\n  }\n\n  var M = i(17);\n\n  class _ {\n    static getPlayer(e, t) {\n      return x.b.enforceAppId(e), x.b.enforcePlayerId(t), M.b.get(`players/${t}?app_id=${e}`);\n    }\n\n    static updatePlayer(e, t, i) {\n      return x.b.enforceAppId(e), x.b.enforcePlayerId(t), M.b.put(`players/${t}`, _Object$assign({\n        app_id: e\n      }, i));\n    }\n\n    static sendNotification(e, t, i, n, r, o, s, a) {\n      var c = {\n        app_id: e,\n        contents: n,\n        include_player_ids: t,\n        isAnyWeb: !0,\n        data: s,\n        web_buttons: a\n      };\n      return i && (c.headings = i), r && (c.url = r), o && (c.chrome_web_icon = o, c.firefox_icon = o), x.b.trimUndefined(c), M.b.post(\"notifications\", c);\n    }\n\n    static createUser(e) {\n      return c.a(this, void 0, void 0, function* () {\n        const t = e.serialize();\n        x.b.enforceAppId(t.app_id);\n        const i = yield M.b.post(\"players\", t);\n        return i && i.success ? i.id : null;\n      });\n    }\n\n    static createEmailRecord(e, t, i) {\n      return c.a(this, void 0, void 0, function* () {\n        x.b.enforceAppId(e.appId);\n        const n = new C(t.emailAddress, t.emailAuthHash, i);\n        n.appId = e.appId;\n        const r = yield M.b.post(\"players\", n.serialize());\n        return r && r.success ? r.id : null;\n      });\n    }\n\n    static updateEmailRecord(e, t, i) {\n      return c.a(this, void 0, void 0, function* () {\n        x.b.enforceAppId(e.appId), x.b.enforcePlayerId(t.emailId);\n        const n = new C(t.emailAddress, t.emailAuthHash, i);\n        n.appId = e.appId;\n        const r = yield M.b.put(`players/${t.emailId}`, n.serialize());\n        return r && r.success ? r.id : null;\n      });\n    }\n\n    static logoutEmail(e, t, i) {\n      return c.a(this, void 0, void 0, function* () {\n        x.b.enforceAppId(e.appId), x.b.enforcePlayerId(i);\n        const n = yield M.b.post(`players/${i}/email_logout`, {\n          app_id: e.appId,\n          parent_player_id: t.emailId,\n          email_auth_hash: t.emailAuthHash ? t.emailAuthHash : void 0\n        });\n        return !(!n || !n.success);\n      });\n    }\n\n    static updateUserSession(e, t) {\n      return c.a(this, void 0, void 0, function* () {\n        try {\n          const i = t.serialize();\n          x.b.enforceAppId(i.app_id), x.b.enforcePlayerId(e);\n          const n = yield M.b.post(`players/${e}/on_session`, i);\n          return n.id ? n.id : e;\n        } catch (e) {\n          throw e && _Array$isArray(e.errors) && e.errors.length > 0 && x.b.contains(e.errors[0], \"app_id not found\") ? new N.a(N.b.MissingAppId) : e;\n        }\n      });\n    }\n\n  }\n\n  var D,\n      R,\n      U = i(21),\n      F = i(9),\n      B = i(24),\n      InvalidStateError = i(16);\n  (R = D || (D = {}))[R.Blocked = 0] = \"Blocked\", R[R.Dismissed = 1] = \"Dismissed\", R[R.Default = 2] = \"Default\";\n\n  class L extends O.a {\n    constructor(e) {\n      switch (e) {\n        case D.Dismissed:\n          super(\"The user dismissed the permission prompt.\");\n          break;\n\n        case D.Blocked:\n          super(\"Notification permissions are blocked.\");\n          break;\n\n        case D.Default:\n          super(\"Notification permissions have not been granted yet.\");\n      }\n\n      this.reason = e, _Object$setPrototypeOf(this, L.prototype);\n    }\n\n  }\n\n  var V,\n      $,\n      SdkInitError = i(20);\n  ($ = V || (V = {}))[$.InvalidSafariSetup = 0] = \"InvalidSafariSetup\", $[$.Blocked = 1] = \"Blocked\", $[$.Dismissed = 2] = \"Dismissed\";\n\n  class H extends O.a {\n    constructor(e) {\n      switch (e) {\n        case V.InvalidSafariSetup:\n          super(\"The Safari site URL, icon size, or push certificate is invalid, or Safari is in a private session.\");\n          break;\n\n        case V.Blocked:\n          super(\"Notification permissions are blocked.\");\n          break;\n\n        case V.Dismissed:\n          super(\"The notification permission prompt was dismissed.\");\n      }\n\n      _Object$setPrototypeOf(this, H.prototype);\n    }\n\n  }\n\n  var j = i(27);\n\n  class z {\n    constructor(e, t) {\n      this.context = e, this.config = t;\n    }\n\n    static isSafari() {\n      return m.a.isSafari();\n    }\n\n    subscribe(e) {\n      return c.a(this, void 0, void 0, function* () {\n        const t = r.a.getWindowEnv();\n\n        switch (t) {\n          case o.a.CustomIframe:\n          case o.a.Unknown:\n          case o.a.OneSignalProxyFrame:\n            throw new InvalidStateError.a(InvalidStateError.b.UnsupportedEnvironment);\n        }\n\n        let i;\n\n        switch (t) {\n          case o.a.ServiceWorker:\n            i = yield this.subscribeFcmFromWorker(e);\n            break;\n\n          case o.a.Host:\n          case o.a.OneSignalSubscriptionModal:\n          case o.a.OneSignalSubscriptionPopup:\n            if ((yield OneSignal.privateGetNotificationPermission()) === p.a.Denied) throw new L(D.Blocked);\n            i = z.isSafari() ? yield this.subscribeSafari() : yield this.subscribeFcmFromPage(e);\n            break;\n\n          default:\n            throw new InvalidStateError.a(InvalidStateError.b.UnsupportedEnvironment);\n        }\n\n        return i;\n      });\n    }\n\n    registerSubscription(e, t) {\n      return c.a(this, void 0, void 0, function* () {\n        e && (e = U.a.deserialize(e));\n        const i = B.a.createFromPushSubscription(this.config.appId, e, t);\n        let n = void 0;\n        (yield this.isAlreadyRegisteredWithOneSignal()) ? yield this.context.updateManager.sendPlayerUpdate(i) : (n = yield this.context.updateManager.sendPlayerCreate(i)) && (yield this.associateSubscriptionWithEmail(n));\n        const s = yield S.a.getSubscription();\n        return s.deviceId = n, s.optedOut = !1, e ? z.isSafari() ? s.subscriptionToken = e.safariDeviceToken : s.subscriptionToken = e.w3cEndpoint ? e.w3cEndpoint.toString() : null : s.subscriptionToken = null, yield S.a.setSubscription(s), r.a.getWindowEnv() !== o.a.ServiceWorker && P.a.trigger(OneSignal.EVENTS.REGISTERED), \"undefined\" != typeof OneSignal && (OneSignal._sessionInitAlreadyRunning = !1), s;\n      });\n    }\n\n    static requestPresubscribeNotificationPermission() {\n      return c.a(this, void 0, void 0, function* () {\n        return yield z.requestNotificationPermission();\n      });\n    }\n\n    unsubscribe(e) {\n      return c.a(this, void 0, void 0, function* () {\n        if (0 === e) throw new w.a();\n        if (1 !== e) throw new w.a();\n        if (r.a.getWindowEnv() !== o.a.ServiceWorker) throw new w.a();\n        {\n          const {\n            deviceId: e\n          } = yield S.a.getSubscription();\n          yield _.updatePlayer(this.context.appConfig.appId, e, {\n            notification_types: F.a.MutedByApi\n          }), yield S.a.put(\"Options\", {\n            key: \"optedOut\",\n            value: !0\n          });\n        }\n      });\n    }\n\n    static requestNotificationPermission() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = yield window.Notification.requestPermission();\n        return p.a[e];\n      });\n    }\n\n    associateSubscriptionWithEmail(e) {\n      return c.a(this, void 0, void 0, function* () {\n        const t = yield S.a.getEmailProfile();\n        t.emailId && (yield _.updatePlayer(this.config.appId, e, {\n          parent_player_id: t.emailId,\n          email: t.emailAddress\n        }));\n      });\n    }\n\n    isAlreadyRegisteredWithOneSignal() {\n      return c.a(this, void 0, void 0, function* () {\n        const {\n          deviceId: e\n        } = yield S.a.getSubscription();\n        return !!e;\n      });\n    }\n\n    subscribeSafariPromptPermission() {\n      return new _Promise(e => {\n        window.safari.pushNotification.requestPermission(`${r.a.getOneSignalApiUrl().toString()}/safari`, this.config.safariWebId, {\n          app_id: this.config.appId\n        }, t => {\n          t.deviceToken ? e(t.deviceToken.toLowerCase()) : e(null);\n        });\n      });\n    }\n\n    subscribeSafari() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = new U.a();\n        if (!this.config.safariWebId) throw new SdkInitError.a(SdkInitError.b.MissingSafariWebId);\n        const {\n          deviceToken: t\n        } = window.safari.pushNotification.permission(this.config.safariWebId);\n        e.existingSafariDeviceToken = t, t || P.a.trigger(OneSignal.EVENTS.PERMISSION_PROMPT_DISPLAYED);\n        const i = yield this.subscribeSafariPromptPermission();\n        if (j.a.triggerNotificationPermissionChanged(), !i) throw new H(V.InvalidSafariSetup);\n        return e.setFromSafariSubscription(i), e;\n      });\n    }\n\n    subscribeFcmFromPage(e) {\n      return c.a(this, void 0, void 0, function* () {\n        if (r.a.getWindowEnv() !== o.a.ServiceWorker && window.Notification.permission === p.a.Default) {\n          yield P.a.trigger(OneSignal.EVENTS.PERMISSION_PROMPT_DISPLAYED);\n          const e = yield z.requestPresubscribeNotificationPermission();\n\n          switch (e === p.a.Default && (yield j.a.triggerNotificationPermissionChanged(!0)), e) {\n            case p.a.Default:\n              throw s.a.debug(\"Exiting subscription and not registering worker because the permission was dismissed.\"), OneSignal._sessionInitAlreadyRunning = !1, OneSignal._isRegisteringForPush = !1, new L(D.Dismissed);\n\n            case p.a.Denied:\n              throw s.a.debug(\"Exiting subscription and not registering worker because the permission was blocked.\"), OneSignal._sessionInitAlreadyRunning = !1, OneSignal._isRegisteringForPush = !1, new L(D.Blocked);\n          }\n        }\n\n        try {\n          yield this.context.serviceWorkerManager.installWorker();\n        } catch (e) {\n          throw e instanceof I && (403 === e.status ? yield this.context.subscriptionManager.registerFailedSubscription(F.a.ServiceWorkerStatus403, this.context) : 404 === e.status && (yield this.context.subscriptionManager.registerFailedSubscription(F.a.ServiceWorkerStatus404, this.context))), e;\n        }\n\n        s.a.debug(\"Waiting for the service worker to activate...\");\n        const t = yield navigator.serviceWorker.ready;\n        return s.a.debug(\"Service worker is ready to continue subscribing.\"), yield this.subscribeWithVapidKey(t.pushManager, e);\n      });\n    }\n\n    subscribeFcmFromWorker(e) {\n      return c.a(this, void 0, void 0, function* () {\n        const t = self.registration;\n        if (!t.active && !l.a.firefox) throw new InvalidStateError.a(InvalidStateError.b.ServiceWorkerNotActivated);\n        const i = yield t.pushManager.permissionState({\n          userVisibleOnly: !0\n        });\n        if (\"denied\" === i) throw new L(D.Blocked);\n        if (\"prompt\" === i) throw new L(D.Default);\n        return yield this.subscribeWithVapidKey(t.pushManager, e);\n      });\n    }\n\n    getVapidKeyForBrowser() {\n      let e = void 0;\n      return (e = l.a.firefox ? this.config.onesignalVapidPublicKey : this.config.vapidPublicKey) ? function (e) {\n        const t = (e + \"=\".repeat((4 - e.length % 4) % 4)).replace(/\\-/g, \"+\").replace(/_/g, \"/\"),\n              i = atob(t),\n              n = new Uint8Array(i.length);\n\n        for (let e = 0; e < i.length; ++e) n[e] = i.charCodeAt(e);\n\n        return n;\n      }(e).buffer : void 0;\n    }\n\n    subscribeWithVapidKey(e, t) {\n      return c.a(this, void 0, void 0, function* () {\n        const i = yield e.getSubscription();\n\n        switch (t) {\n          case 0:\n            if (!i) break;\n            i.options ? s.a.debug(\"[Subscription Manager] An existing push subscription exists and it's options is not null.\") : (s.a.debug(\"[Subscription Manager] An existing push subscription exists and options is null. Unsubscribing from push first now.\"), yield z.doPushUnsubscribe(i));\n            break;\n\n          case 1:\n            i && (yield z.doPushUnsubscribe(i));\n        }\n\n        const [n, r] = yield z.doPushSubscribe(e, this.getVapidKeyForBrowser());\n        yield z.updateSubscriptionTime(r, n.expirationTime);\n        const o = U.a.setFromW3cSubscription(n);\n        return i && (o.existingW3cPushSubscription = U.a.setFromW3cSubscription(i)), o;\n      });\n    }\n\n    static updateSubscriptionTime(e, t) {\n      return c.a(this, void 0, void 0, function* () {\n        const i = yield S.a.getSubscription();\n        e && (i.createdAt = new Date().getTime()), i.expirationTime = t, yield S.a.setSubscription(i);\n      });\n    }\n\n    static doPushUnsubscribe(e) {\n      return c.a(this, void 0, void 0, function* () {\n        s.a.debug(\"[Subscription Manager] Unsubscribing existing push subscription.\");\n        const t = yield e.unsubscribe();\n        return s.a.debug(`[Subscription Manager] Unsubscribing existing push subscription result: ${t}`), t;\n      });\n    }\n\n    static doPushSubscribe(e, t) {\n      return c.a(this, void 0, void 0, function* () {\n        if (!t) throw new Error(\"Missing required 'applicationServerKey' to subscribe for push notifications!\");\n        const i = {\n          userVisibleOnly: !0,\n          applicationServerKey: t\n        };\n        s.a.debug(\"[Subscription Manager] Subscribing to web push with these options:\", i);\n\n        try {\n          const t = yield e.getSubscription();\n          return [yield e.subscribe(i), !t];\n        } catch (t) {\n          if (\"InvalidStateError\" == t.name) return s.a.warn(\"[Subscription Manager] Couldn't re-subscribe due to applicationServerKey changing, unsubscribe and attempting to subscribe with new key.\", t), yield z.doPushUnsubscribe((yield e.getSubscription())), [yield e.subscribe(i), !0];\n          throw t;\n        }\n      });\n    }\n\n    isSubscriptionExpiring() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = yield r.a.getIntegration(),\n              t = r.a.getWindowEnv();\n\n        switch (e) {\n          case y.a.Secure:\n            return yield this.isSubscriptionExpiringForSecureIntegration();\n\n          case y.a.SecureProxy:\n            if (t === o.a.Host) {\n              const e = OneSignal.proxyFrameHost;\n              if (e) return yield e.runCommand(OneSignal.POSTMAM_COMMANDS.SUBSCRIPTION_EXPIRATION_STATE);\n              throw new InvalidStateError.a(InvalidStateError.b.NoProxyFrame);\n            }\n\n            return yield this.isSubscriptionExpiringForSecureIntegration();\n\n          case y.a.InsecureProxy:\n            const {\n              expirationTime: i\n            } = yield S.a.getSubscription();\n            return !!i && new Date().getTime() >= i;\n        }\n      });\n    }\n\n    isSubscriptionExpiringForSecureIntegration() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = yield this.context.serviceWorkerManager.getActiveState();\n        if (e !== E.a.WorkerA && e !== E.a.WorkerB) return !1;\n        const t = yield A.getRegistration();\n        if (!t) return !1;\n        if (!t.pushManager) return !1;\n        const i = yield t.pushManager.getSubscription();\n        if (!i) return !1;\n        if (!i.expirationTime) return !1;\n        let {\n          createdAt: n\n        } = yield S.a.getSubscription();\n\n        if (!n) {\n          const e = 31536e6;\n          n = new Date().getTime() + e;\n        }\n\n        const r = n + (i.expirationTime - n) / 2;\n        return !!i.expirationTime && (new Date().getTime() >= i.expirationTime || new Date().getTime() >= r);\n      });\n    }\n\n    getSubscriptionState() {\n      return c.a(this, void 0, void 0, function* () {\n        if (z.isSafari()) return this.getSubscriptionStateForSecure();\n        const e = r.a.getWindowEnv();\n\n        switch (e) {\n          case o.a.ServiceWorker:\n            const t = yield self.registration.pushManager.getSubscription(),\n                  {\n              optedOut: i\n            } = yield S.a.getSubscription();\n            return {\n              subscribed: !!t,\n              optedOut: !!i\n            };\n\n          default:\n            switch (yield r.a.getIntegration()) {\n              case y.a.Secure:\n                return this.getSubscriptionStateForSecure();\n\n              case y.a.SecureProxy:\n                switch (e) {\n                  case o.a.OneSignalProxyFrame:\n                  case o.a.OneSignalSubscriptionPopup:\n                  case o.a.OneSignalSubscriptionModal:\n                    return this.getSubscriptionStateForSecure();\n\n                  default:\n                    return yield OneSignal.proxyFrameHost.runCommand(OneSignal.POSTMAM_COMMANDS.GET_SUBSCRIPTION_STATE);\n                }\n\n              case y.a.InsecureProxy:\n                return yield this.getSubscriptionStateForInsecure();\n\n              default:\n                throw new InvalidStateError.a(InvalidStateError.b.UnsupportedEnvironment);\n            }\n\n        }\n      });\n    }\n\n    getSubscriptionStateForSecure() {\n      return c.a(this, void 0, void 0, function* () {\n        const {\n          deviceId: e,\n          optedOut: t\n        } = yield S.a.getSubscription();\n\n        if (z.isSafari()) {\n          const i = window.safari.pushNotification.permission(this.config.safariWebId);\n          return {\n            subscribed: !(\"granted\" !== i.permission || !i.deviceToken || !e),\n            optedOut: !!t\n          };\n        }\n\n        const i = yield this.context.serviceWorkerManager.getActiveState(),\n              n = yield A.getRegistration(),\n              r = yield this.context.permissionManager.getNotificationPermission(this.context.appConfig.safariWebId),\n              o = i === E.a.WorkerA || i === E.a.WorkerB;\n        return n ? {\n          subscribed: !(!e || r !== p.a.Granted || !o),\n          optedOut: !!t\n        } : {\n          subscribed: !1,\n          optedOut: !!t\n        };\n      });\n    }\n\n    getSubscriptionStateForInsecure() {\n      return c.a(this, void 0, void 0, function* () {\n        const {\n          deviceId: e,\n          subscriptionToken: t,\n          optedOut: i\n        } = yield S.a.getSubscription(),\n              n = yield this.context.permissionManager.getNotificationPermission(this.context.appConfig.safariWebId);\n        return {\n          subscribed: !(!e || !t || n !== p.a.Granted),\n          optedOut: !!i\n        };\n      });\n    }\n\n    registerFailedSubscription(e, t) {\n      return c.a(this, void 0, void 0, function* () {\n        t.sessionManager.isFirstPageView() && (t.subscriptionManager.registerSubscription(new U.a(), e), t.sessionManager.incrementPageViewCount());\n      });\n    }\n\n  }\n\n  var K,\n      G,\n      q = class {\n    static getServiceWorkerManager(e) {\n      const t = e.appConfig,\n            i = r.a.getBuildEnvPrefix(),\n            n = {\n        workerAPath: new v(`/${i}OneSignalSDKWorker.js`),\n        workerBPath: new v(`/${i}OneSignalSDKUpdaterWorker.js`),\n        registrationOptions: {\n          scope: \"/\"\n        }\n      };\n      return t.userConfig && (t.userConfig.path && (n.workerAPath = new v(`${t.userConfig.path}${i}${t.userConfig.serviceWorkerPath}`), n.workerBPath = new v(`${t.userConfig.path}${i}${t.userConfig.serviceWorkerUpdaterPath}`)), t.userConfig.serviceWorkerParam && (n.registrationOptions = t.userConfig.serviceWorkerParam)), new A(e, n);\n    }\n\n    static getSubscriptionManager(e) {\n      const t = e.appConfig,\n            i = {\n        safariWebId: t.safariWebId,\n        appId: t.appId,\n        vapidPublicKey: t.vapidPublicKey,\n        onesignalVapidPublicKey: t.onesignalVapidPublicKey\n      };\n      return new z(e, i);\n    }\n\n  };\n  (G = K || (K = {}))[G.Unknown = 0] = \"Unknown\", G[G.NoDeviceId = 1] = \"NoDeviceId\", G[G.NoEmailSet = 2] = \"NoEmailSet\", G[G.OptedOut = 3] = \"OptedOut\";\n\n  class J extends O.a {\n    constructor(e) {\n      switch (e) {\n        case K.Unknown || K.NoDeviceId:\n          super(\"This operation can only be performed after the user is subscribed.\");\n          break;\n\n        case K.NoEmailSet:\n          super(\"No email is currently set.\");\n          break;\n\n        case K.OptedOut:\n          super(\"The user has manually opted out of receiving of notifications. This operation can only be performed after the user is fully resubscribed.\");\n      }\n\n      this.reason = K[e], _Object$setPrototypeOf(this, J.prototype);\n    }\n\n  }\n\n  var Y = i(29);\n\n  class Q {\n    constructor(e) {\n      this.context = e, this.onSessionSent = e.sessionManager.getPageViewCount() > 1;\n    }\n\n    getDeviceId() {\n      return c.a(this, void 0, void 0, function* () {\n        const {\n          deviceId: e\n        } = yield S.a.getSubscription();\n        if (!e) throw new J(K.NoDeviceId);\n        return e;\n      });\n    }\n\n    createDeviceRecord() {\n      return c.a(this, void 0, void 0, function* () {\n        const e = new B.a();\n        return e.appId = this.context.appConfig.appId, e.subscriptionState = yield Y.a.getCurrentNotificationType(), e;\n      });\n    }\n\n    sendPlayerUpdate(e) {\n      return c.a(this, void 0, void 0, function* () {\n        if (!(yield this.context.subscriptionManager.isAlreadyRegisteredWithOneSignal())) return void s.a.debug(\"Not sending the update because user is not registered with OneSignal (no device id)\");\n        const t = yield this.getDeviceId();\n        e || (e = yield this.createDeviceRecord()), this.onSessionSent ? yield _.updatePlayer(this.context.appConfig.appId, t, _Object$assign({\n          notification_types: F.a.Subscribed\n        }, e.serialize())) : yield this.sendOnSessionUpdate(e);\n      });\n    }\n\n    sendOnSessionUpdate(e) {\n      return c.a(this, void 0, void 0, function* () {\n        if (this.onSessionSent) return;\n        if (!this.context.sessionManager.isFirstPageView()) return;\n        if (!(yield this.context.subscriptionManager.isAlreadyRegisteredWithOneSignal())) return void s.a.debug(\"Not sending the on session because user is not registered with OneSignal (no device id)\");\n        const t = yield this.getDeviceId();\n        if (e || (e = yield this.createDeviceRecord()), e.subscriptionState === F.a.Subscribed || !0 === OneSignal.config.enableOnSession) try {\n          const i = yield _.updateUserSession(t, e);\n\n          if (this.onSessionSent = !0, i !== t) {\n            const e = yield S.a.getSubscription();\n            e.deviceId = i, yield S.a.setSubscription(e);\n          }\n        } catch (e) {\n          s.a.error(`Failed to update user session. Error \"${e.message}\" ${e.stack}`);\n        }\n      });\n    }\n\n    sendPlayerCreate(e) {\n      return c.a(this, void 0, void 0, function* () {\n        try {\n          const t = yield _.createUser(e);\n          return t ? (s.a.info(\"Subscribed to web push and registered with OneSignal\", e, t), this.onSessionSent = !0, t) : void s.a.error(\"Failed to create user.\");\n        } catch (e) {\n          return void s.a.error(`Failed to create user. Error \"${e.message}\" ${e.stack}`);\n        }\n      });\n    }\n\n    onSessionAlreadyCalled() {\n      return this.onSessionSent;\n    }\n\n    sendExternalUserIdUpdate(e) {\n      return c.a(this, void 0, void 0, function* () {\n        const t = yield this.getDeviceId();\n        yield _.updatePlayer(this.context.appConfig.appId, t, {\n          external_user_id: x.b.getValueOrDefault(e, \"\")\n        });\n      });\n    }\n\n  }\n\n  i.d(t, \"a\", function () {\n    return X;\n  });\n\n  class X {\n    constructor(e) {\n      this.appConfig = e, this.subscriptionManager = q.getSubscriptionManager(this), this.serviceWorkerManager = q.getServiceWorkerManager(this), this.sessionManager = new a(), this.permissionManager = new b(), this.workerMessenger = new n.a(this), this.updateManager = new Q(this);\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return s;\n  });\n  var n = i(0),\n      r = i(5),\n      o = i(19);\n\n  class s {\n    static triggerNotificationPermissionChanged(e = !1) {\n      return n.a(this, void 0, void 0, function* () {\n        const t = yield OneSignal.privateGetNotificationPermission();\n        (t !== (yield r.a.get(\"Options\", \"notificationPermission\")) || e) && (yield r.a.put(\"Options\", {\n          key: \"notificationPermission\",\n          value: t\n        }), o.a.trigger(OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, {\n          to: t\n        }));\n      });\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n = i(0),\n      r = i(17),\n      o = i(9),\n      s = i(1),\n      a = i(2);\n  t.a = class {\n    static downloadServerAppConfig(e) {\n      return n.a(this, void 0, void 0, function* () {\n        return a.a.enforceAppId(e), yield new _Promise((t, i) => {\n          t(r.a.get(`sync/${e}/web`, null));\n        });\n      });\n    }\n\n    static getUserIdFromSubscriptionIdentifier(e, t, i) {\n      return a.a.enforceAppId(e), r.a.post(\"players\", {\n        app_id: e,\n        device_type: t,\n        identifier: i,\n        notification_types: o.a.TemporaryWebRecord\n      }).then(e => e && e.id ? e.id : null).catch(e => (s.a.debug(\"Error getting user ID from subscription identifier:\", e), null));\n    }\n\n    static updatePlayer(e, t, i) {\n      return a.a.enforceAppId(e), a.a.enforcePlayerId(t), r.a.put(`players/${t}`, _Object$assign({\n        app_id: e\n      }, i));\n    }\n\n  };\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n = i(0),\n      InvalidStateError = i(16),\n      r = i(19),\n      o = i(3),\n      s = i(5);\n\n  class a {\n    static isLocalStorageSupported() {\n      try {\n        return \"undefined\" != typeof localStorage && (localStorage.getItem(\"test\"), !0);\n      } catch (e) {\n        return !1;\n      }\n    }\n\n    static setItem(e, t, i) {\n      if (!a.isLocalStorageSupported()) return;\n      const n = void 0 !== i ? 60 * i * 1e3 : 0,\n            r = {\n        value: _JSON$stringify(t),\n        timestamp: void 0 !== i ? new Date().getTime() + n : void 0\n      };\n      localStorage.setItem(e, _JSON$stringify(r));\n    }\n\n    static getItem(e) {\n      if (!a.isLocalStorageSupported()) return null;\n      const t = localStorage.getItem(e);\n      let i;\n\n      try {\n        i = JSON.parse(t);\n      } catch (e) {\n        return null;\n      }\n\n      if (null === i) return null;\n      if (i.timestamp && new Date().getTime() >= i.timestamp) return localStorage.removeItem(e), null;\n      let n = i.value;\n\n      try {\n        n = JSON.parse(i.value);\n      } catch (e) {\n        return n;\n      }\n\n      return n;\n    }\n\n    static removeItem(e) {\n      if (!a.isLocalStorageSupported()) return null;\n      localStorage.removeItem(e);\n    }\n\n  }\n\n  var c = i(1),\n      d = i(9),\n      u = i(12),\n      l = i(8),\n      p = i(27),\n      g = i(2);\n  i.d(t, \"a\", function () {\n    return f;\n  });\n\n  class f {\n    static getCurrentNotificationType() {\n      return n.a(this, void 0, void 0, function* () {\n        const e = yield OneSignal.context.permissionManager.getNotificationPermission(OneSignal.context.appConfig.safariWebId);\n        if (e === u.a.Default) return d.a.Default;\n        if (e === u.a.Denied) return l.a.isUsingSubscriptionWorkaround() ? d.a.Default : d.a.NotSubscribed;\n        const t = yield OneSignal.context.subscriptionManager.isAlreadyRegisteredWithOneSignal();\n\n        if (e === u.a.Granted && t) {\n          return (yield OneSignal.privateIsPushNotificationsEnabled()) ? d.a.Subscribed : d.a.MutedByApi;\n        }\n\n        return d.a.Default;\n      });\n    }\n\n    static getNotificationTypeFromOptIn(e) {\n      return 1 == e || null == e ? d.a.Subscribed : d.a.MutedByApi;\n    }\n\n    static wasHttpsNativePromptDismissed() {\n      return \"dismissed\" === a.getItem(\"onesignal-notification-prompt\");\n    }\n\n    static markHttpPopoverShown() {\n      sessionStorage.setItem(\"ONESIGNAL_HTTP_PROMPT_SHOWN\", \"true\");\n    }\n\n    static isHttpPromptAlreadyShown() {\n      return \"true\" == sessionStorage.getItem(\"ONESIGNAL_HTTP_PROMPT_SHOWN\");\n    }\n\n    static checkAndTriggerNotificationPermissionChanged() {\n      return n.a(this, void 0, void 0, function* () {\n        const e = yield s.a.get(\"Options\", \"notificationPermission\"),\n              t = yield OneSignal.getNotificationPermission();\n        e !== t && (yield p.a.triggerNotificationPermissionChanged(), yield s.a.put(\"Options\", {\n          key: \"notificationPermission\",\n          value: t\n        }));\n      });\n    }\n\n    static getNotificationIcons() {\n      return n.a(this, void 0, void 0, function* () {\n        const e = yield f.getAppId();\n        if (!e) throw new InvalidStateError.a(InvalidStateError.b.MissingAppId);\n        var t = `${o.a.getOneSignalApiUrl().toString()}/apps/${e}/icon`;\n        const i = yield (yield fetch(t)).json();\n        if (i.errors) throw c.a.error(`API call %c${t}`, g.a.getConsoleStyle(\"code\"), \"failed with:\", i.errors), new Error(\"Failed to get notification icons.\");\n        return i;\n      });\n    }\n\n    static getSlidedownPermissionMessageOptions(e) {\n      const t = \"We'd like to show you notifications for the latest news and updates.\";\n      return e ? e.slidedown ? {\n        enabled: e.slidedown.enabled,\n        autoPrompt: e.slidedown.autoPrompt,\n        actionMessage: e.slidedown.actionMessage || t,\n        acceptButtonText: e.slidedown.acceptButtonText || \"Allow\",\n        cancelButtonText: e.slidedown.cancelButtonText || \"No Thanks\"\n      } : {\n        enabled: !1,\n        autoPrompt: !1,\n        actionMessage: e.actionMessage || t,\n        acceptButtonText: e.acceptButtonText || \"Allow\",\n        cancelButtonText: e.cancelButtonText || \"No Thanks\"\n      } : {\n        enabled: !1,\n        autoPrompt: !1,\n        actionMessage: t,\n        acceptButtonText: \"Allow\",\n        cancelButtonText: \"No Thanks\"\n      };\n    }\n\n    static getFullscreenPermissionMessageOptions(e) {\n      return e ? e.fullscreen ? {\n        autoAcceptTitle: e.fullscreen.autoAcceptTitle,\n        actionMessage: e.fullscreen.actionMessage,\n        exampleNotificationTitleDesktop: e.fullscreen.title,\n        exampleNotificationTitleMobile: e.fullscreen.title,\n        exampleNotificationMessageDesktop: e.fullscreen.message,\n        exampleNotificationMessageMobile: e.fullscreen.message,\n        exampleNotificationCaption: e.fullscreen.caption,\n        acceptButtonText: e.fullscreen.acceptButton,\n        cancelButtonText: e.fullscreen.cancelButton\n      } : e : null;\n    }\n\n    static getPromptOptionsQueryString() {\n      let e = \"\";\n\n      if (f.getFullscreenPermissionMessageOptions(OneSignal.config.userConfig.promptOptions)) {\n        let t = f.getPromptOptionsPostHash();\n\n        for (let i of _Object$keys(t)) {\n          e += \"&\" + i + \"=\" + t[i];\n        }\n      }\n\n      return e;\n    }\n\n    static getPromptOptionsPostHash() {\n      let e = f.getFullscreenPermissionMessageOptions(OneSignal.config.userConfig.promptOptions);\n\n      if (e) {\n        var t = {\n          exampleNotificationTitleDesktop: \"exampleNotificationTitle\",\n          exampleNotificationMessageDesktop: \"exampleNotificationMessage\",\n          exampleNotificationTitleMobile: \"exampleNotificationTitle\",\n          exampleNotificationMessageMobile: \"exampleNotificationMessage\"\n        };\n\n        for (let i of _Object$keys(t)) {\n          let n = t[i];\n          e[i] && (e[n] = e[i]);\n        }\n\n        for (var i = [\"autoAcceptTitle\", \"siteName\", \"autoAcceptTitle\", \"subscribeText\", \"showGraphic\", \"actionMessage\", \"exampleNotificationTitle\", \"exampleNotificationMessage\", \"exampleNotificationCaption\", \"acceptButtonText\", \"cancelButtonText\", \"timeout\"], n = {}, r = 0; r < i.length; r++) {\n          var o = i[r],\n              s = e[o],\n              a = encodeURIComponent(s);\n          (s || !1 === s || \"\" === s) && (n[o] = a);\n        }\n      }\n\n      return n;\n    }\n\n    static triggerCustomPromptClicked(e) {\n      r.a.trigger(OneSignal.EVENTS.CUSTOM_PROMPT_CLICKED, {\n        result: e\n      });\n    }\n\n    static getAppId() {\n      return n.a(this, void 0, void 0, function* () {\n        if (OneSignal.config.appId) return _Promise.resolve(OneSignal.config.appId);\n        return yield s.a.get(\"Ids\", \"appId\");\n      });\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.d(t, \"a\", function () {\n    return d;\n  });\n  var n = i(11),\n      r = i.n(n),\n      o = i(10),\n      s = i(18),\n      a = i(23),\n      c = i(8);\n\n  class d {\n    constructor() {\n      this.language = o.a.getLanguage(), this.timezone = -60 * new Date().getTimezoneOffset();\n\n      const e = _parseInt(String(r.a.version), 10);\n\n      this.browserVersion = isNaN(e) ? -1 : e, this.deviceModel = navigator.platform, this.sdkVersion = o.a.version().toString(), this.deliveryPlatform = this.getDeliveryPlatform();\n    }\n\n    isSafari() {\n      return r.a.safari && void 0 !== window.safari && void 0 !== window.safari.pushNotification;\n    }\n\n    getDeliveryPlatform() {\n      const e = c.a.redetectBrowserUserAgent();\n      return this.isSafari() ? a.a.Safari : e.firefox ? a.a.Firefox : e.msedge ? a.a.Edge : a.a.ChromeLike;\n    }\n\n    serialize() {\n      const e = {\n        device_type: this.deliveryPlatform,\n        language: this.language,\n        timezone: this.timezone,\n        device_os: this.browserVersion,\n        device_model: this.deviceModel,\n        sdk: this.sdkVersion,\n        notification_types: this.subscriptionState\n      };\n      return this.appId && (e.app_id = this.appId), e;\n    }\n\n    deserialize(e) {\n      throw new s.a();\n    }\n\n  }\n}, function (e, t, i) {\n  \"use strict\";\n\n  var n,\n      r,\n      o,\n      s = i(0);\n  !function (e) {\n    e.TypicalSite = \"typical\", e.WordPress = \"wordpress\", e.Shopify = \"shopify\", e.Blogger = \"blogger\", e.Magento = \"magento\", e.Drupal = \"drupal\", e.SquareSpace = \"squarespace\", e.Joomla = \"joomla\", e.Weebly = \"weebly\", e.Wix = \"wix\", e.Custom = \"custom\";\n  }(n || (n = {})), function (e) {\n    e.Exact = \"exact\", e.Origin = \"origin\";\n  }(r || (r = {})), function (e) {\n    e.Navigate = \"navigate\", e.Focus = \"focus\";\n  }(o || (o = {}));\n  var a,\n      c,\n      d = i(4),\n      SdkInitError = i(20),\n      u = i(3),\n      l = i(8),\n      p = i(2),\n      g = i(29);\n  i.d(t, \"a\", function () {\n    return f;\n  }), (c = a || (a = {}))[c.Dashboard = 0] = \"Dashboard\", c[c.JavaScript = 1] = \"JavaScript\";\n\n  class f {\n    static getAppConfig(e, t) {\n      return s.a(this, void 0, void 0, function* () {\n        try {\n          if (!e || !e.appId || !l.b.isValidUuid(e.appId)) throw new SdkInitError.a(SdkInitError.b.InvalidAppId);\n          const i = yield t(e.appId),\n                n = this.getMergedConfig(e, i);\n          return this.checkRestrictedOrigin(n), n;\n        } catch (e) {\n          if (e) {\n            if (1 === e.code) throw new SdkInitError.a(SdkInitError.b.InvalidAppId);\n            if (2 === e.code) throw new SdkInitError.a(SdkInitError.b.AppNotConfiguredForWebPush);\n          }\n\n          throw e;\n        }\n      });\n    }\n\n    static checkRestrictedOrigin(e) {\n      if (e.restrictedOriginEnabled && u.a.getWindowEnv() !== d.a.ServiceWorker && window.top === window && !p.b.contains(window.location.hostname, \".os.tc\") && !p.b.contains(window.location.hostname, \".onesignal.com\") && !this.doesCurrentOriginMatchConfigOrigin(e.origin)) throw new SdkInitError.a(SdkInitError.b.WrongSiteUrl, {\n        siteUrl: e.origin\n      });\n    }\n\n    static doesCurrentOriginMatchConfigOrigin(e) {\n      try {\n        return location.origin === new URL(e).origin;\n      } catch (e) {\n        return !1;\n      }\n    }\n\n    static getIntegrationCapabilities(e) {\n      switch (e) {\n        case n.Custom:\n        case n.WordPress:\n          return {\n            configuration: a.JavaScript\n          };\n\n        default:\n          return {\n            configuration: a.Dashboard\n          };\n      }\n    }\n\n    static getMergedConfig(e, t) {\n      const i = this.getConfigIntegrationKind(t),\n            n = this.getSubdomainForConfigIntegrationKind(i, e, t),\n            r = t.config.setupBehavior ? t.config.setupBehavior.allowLocalhostAsSecureOrigin : e.allowLocalhostAsSecureOrigin,\n            o = l.b.internalIsUsingSubscriptionWorkaround(n, r),\n            s = this.getUserConfigForConfigIntegrationKind(i, e, t, o);\n      return {\n        appId: t.app_id,\n        subdomain: n,\n        origin: t.config.origin,\n        httpUseOneSignalCom: t.config.http_use_onesignal_com,\n        cookieSyncEnabled: t.features.cookie_sync.enable,\n        restrictedOriginEnabled: t.features.restrict_origin && t.features.restrict_origin.enable,\n        metrics: {\n          enable: t.features.metrics.enable,\n          mixpanelReportingToken: t.features.metrics.mixpanel_reporting_token\n        },\n        safariWebId: t.config.safari_web_id,\n        vapidPublicKey: t.config.vapid_public_key,\n        onesignalVapidPublicKey: t.config.onesignal_vapid_public_key,\n        emailAuthRequired: t.features.email && t.features.email.require_auth,\n        userConfig: s,\n        enableOnSession: t.features.enable_on_session || !1,\n        receiveReceiptsEnable: t.features.receive_receipts_enable || !1\n      };\n    }\n\n    static getConfigIntegrationKind(e) {\n      return e.config.integration ? e.config.integration.kind : n.Custom;\n    }\n\n    static getCustomLinkConfig(e) {\n      const t = {\n        enabled: !1,\n        style: \"button\",\n        size: \"medium\",\n        unsubscribeEnabled: !1,\n        text: {\n          explanation: \"\",\n          subscribe: \"\",\n          unsubscribe: \"\"\n        },\n        color: {\n          button: \"\",\n          text: \"\"\n        }\n      };\n      if (!(e && e.config && e.config.staticPrompts && e.config.staticPrompts.customlink && e.config.staticPrompts.customlink.enabled)) return t;\n      const i = e.config.staticPrompts.customlink;\n      return {\n        enabled: i.enabled,\n        style: i.style,\n        size: i.size,\n        unsubscribeEnabled: i.unsubscribeEnabled,\n        text: i.text ? {\n          subscribe: i.text.subscribe,\n          unsubscribe: i.text.unsubscribe,\n          explanation: i.text.explanation\n        } : t.text,\n        color: i.color ? {\n          button: i.color.button,\n          text: i.color.text\n        } : t.color\n      };\n    }\n\n    static injectDefaultsIntoPromptOptions(e, t, i, n = !1) {\n      let r = {\n        enabled: !1\n      };\n      e && e.customlink && (r = e.customlink);\n\n      const o = t.customlink,\n            s = _Object$assign({}, e, {\n        customlink: {\n          enabled: p.b.getValueOrDefault(r.enabled, o.enabled),\n          style: p.b.getValueOrDefault(r.style, o.style),\n          size: p.b.getValueOrDefault(r.size, o.size),\n          unsubscribeEnabled: p.b.getValueOrDefault(r.unsubscribeEnabled, o.unsubscribeEnabled),\n          text: {\n            subscribe: p.b.getValueOrDefault(r.text ? r.text.subscribe : void 0, o.text.subscribe),\n            unsubscribe: p.b.getValueOrDefault(r.text ? r.text.unsubscribe : void 0, o.text.unsubscribe),\n            explanation: p.b.getValueOrDefault(r.text ? r.text.explanation : void 0, o.text.explanation)\n          },\n          color: {\n            button: p.b.getValueOrDefault(r.color ? r.color.button : void 0, o.color.button),\n            text: p.b.getValueOrDefault(r.color ? r.color.text : void 0, o.color.text)\n          }\n        }\n      });\n\n      return s.slidedown ? (s.slidedown.enabled = !!s.slidedown.enabled, s.slidedown.autoPrompt = s.slidedown.hasOwnProperty(\"autoPrompt\") ? !!s.slidedown.enabled && !!s.slidedown.autoPrompt : !!s.slidedown.enabled) : (s.slidedown = g.a.getSlidedownPermissionMessageOptions(s), s.slidedown.enabled = !1, s.slidedown.autoPrompt = !1), s.native ? (s.native.enabled = !!s.native.enabled, s.native.autoPrompt = s.native.hasOwnProperty(\"autoPrompt\") ? !!s.native.enabled && !!s.native.autoPrompt : !!s.native.enabled) : s.native = {\n        enabled: !1,\n        autoPrompt: !1\n      }, !0 === i.autoRegister && (n ? (s.native.enabled = !1, s.native.autoPrompt = !1, s.slidedown.enabled = !0, s.slidedown.autoPrompt = !0) : (s.native.enabled = !0, s.native.autoPrompt = !0)), s.autoPrompt = s.native.autoPrompt || s.slidedown.autoPrompt, s;\n    }\n\n    static getPromptOptionsForDashboardConfiguration(e) {\n      const t = e.config.staticPrompts,\n            i = t.native ? {\n        enabled: t.native.enabled,\n        autoPrompt: t.native.enabled && !1 !== t.native.autoPrompt\n      } : {\n        enabled: !1,\n        autoPrompt: !1\n      },\n            n = {\n        enabled: t.slidedown.enabled,\n        autoPrompt: t.slidedown.enabled && !1 !== t.slidedown.autoPrompt,\n        actionMessage: t.slidedown.actionMessage,\n        acceptButtonText: t.slidedown.acceptButton,\n        cancelButtonText: t.slidedown.cancelButton\n      };\n      return {\n        autoPrompt: i.autoPrompt || n.autoPrompt,\n        native: i,\n        slidedown: n,\n        fullscreen: {\n          enabled: t.fullscreen.enabled,\n          actionMessage: t.fullscreen.actionMessage,\n          acceptButton: t.fullscreen.acceptButton,\n          cancelButton: t.fullscreen.cancelButton,\n          title: t.fullscreen.title,\n          message: t.fullscreen.message,\n          caption: t.fullscreen.caption,\n          autoAcceptTitle: t.fullscreen.autoAcceptTitle\n        },\n        customlink: this.getCustomLinkConfig(e)\n      };\n    }\n\n    static getUserConfigForConfigIntegrationKind(e, t, i, n = !1) {\n      switch (this.getIntegrationCapabilities(e).configuration) {\n        case a.Dashboard:\n          return {\n            appId: i.app_id,\n            autoRegister: !1,\n            autoResubscribe: i.config.autoResubscribe,\n            path: i.config.serviceWorker.path,\n            serviceWorkerPath: i.config.serviceWorker.workerName,\n            serviceWorkerUpdaterPath: i.config.serviceWorker.updaterWorkerName,\n            serviceWorkerParam: {\n              scope: i.config.serviceWorker.registrationScope\n            },\n            subdomainName: i.config.siteInfo.proxyOrigin,\n            promptOptions: this.getPromptOptionsForDashboardConfiguration(i),\n            welcomeNotification: {\n              disable: !i.config.welcomeNotification.enable,\n              title: i.config.welcomeNotification.title,\n              message: i.config.welcomeNotification.message,\n              url: i.config.welcomeNotification.url\n            },\n            notifyButton: {\n              enable: i.config.staticPrompts.bell.enabled,\n              displayPredicate: i.config.staticPrompts.bell.hideWhenSubscribed ? () => OneSignal.isPushNotificationsEnabled().then(e => !e) : null,\n              size: i.config.staticPrompts.bell.size,\n              position: i.config.staticPrompts.bell.location,\n              showCredit: !1,\n              offset: {\n                bottom: i.config.staticPrompts.bell.offset.bottom + \"px\",\n                left: i.config.staticPrompts.bell.offset.left + \"px\",\n                right: i.config.staticPrompts.bell.offset.right + \"px\"\n              },\n              colors: {\n                \"circle.background\": i.config.staticPrompts.bell.color.main,\n                \"circle.foreground\": i.config.staticPrompts.bell.color.accent,\n                \"badge.background\": \"black\",\n                \"badge.foreground\": \"white\",\n                \"badge.bordercolor\": \"black\",\n                \"pulse.color\": i.config.staticPrompts.bell.color.accent,\n                \"dialog.button.background.hovering\": i.config.staticPrompts.bell.color.main,\n                \"dialog.button.background.active\": i.config.staticPrompts.bell.color.main,\n                \"dialog.button.background\": i.config.staticPrompts.bell.color.main,\n                \"dialog.button.foreground\": \"white\"\n              },\n              text: {\n                \"tip.state.unsubscribed\": i.config.staticPrompts.bell.tooltip.unsubscribed,\n                \"tip.state.subscribed\": i.config.staticPrompts.bell.tooltip.subscribed,\n                \"tip.state.blocked\": i.config.staticPrompts.bell.tooltip.blocked,\n                \"message.prenotify\": i.config.staticPrompts.bell.tooltip.unsubscribed,\n                \"message.action.subscribing\": i.config.staticPrompts.bell.message.subscribing,\n                \"message.action.subscribed\": i.config.staticPrompts.bell.message.subscribing,\n                \"message.action.resubscribed\": i.config.staticPrompts.bell.message.subscribing,\n                \"message.action.unsubscribed\": i.config.staticPrompts.bell.message.unsubscribing,\n                \"dialog.main.title\": i.config.staticPrompts.bell.dialog.main.title,\n                \"dialog.main.button.subscribe\": i.config.staticPrompts.bell.dialog.main.subscribeButton,\n                \"dialog.main.button.unsubscribe\": i.config.staticPrompts.bell.dialog.main.unsubscribeButton,\n                \"dialog.blocked.title\": i.config.staticPrompts.bell.dialog.blocked.title,\n                \"dialog.blocked.message\": i.config.staticPrompts.bell.dialog.blocked.message\n              }\n            },\n            persistNotification: i.config.notificationBehavior ? i.config.notificationBehavior.display.persist : void 0,\n            webhooks: {\n              cors: i.config.webhooks.corsEnable,\n              \"notification.displayed\": i.config.webhooks.notificationDisplayedHook,\n              \"notification.clicked\": i.config.webhooks.notificationClickedHook,\n              \"notification.dismissed\": i.config.webhooks.notificationDismissedHook\n            },\n            notificationClickHandlerMatch: i.config.notificationBehavior ? i.config.notificationBehavior.click.match : void 0,\n            notificationClickHandlerAction: i.config.notificationBehavior ? i.config.notificationBehavior.click.action : void 0,\n            allowLocalhostAsSecureOrigin: i.config.setupBehavior ? i.config.setupBehavior.allowLocalhostAsSecureOrigin : void 0,\n            requiresUserPrivacyConsent: t.requiresUserPrivacyConsent\n          };\n\n        case a.JavaScript:\n          const r = _Object$assign({}, t, {\n            promptOptions: this.injectDefaultsIntoPromptOptions(t.promptOptions, i.config.staticPrompts, t, n)\n          }, {\n            serviceWorkerParam: \"undefined\" != typeof OneSignal && OneSignal.SERVICE_WORKER_PARAM ? OneSignal.SERVICE_WORKER_PARAM : {\n              scope: \"/\"\n            },\n            serviceWorkerPath: \"undefined\" != typeof OneSignal && OneSignal.SERVICE_WORKER_PATH ? OneSignal.SERVICE_WORKER_PATH : \"OneSignalSDKWorker.js\",\n            serviceWorkerUpdaterPath: \"undefined\" != typeof OneSignal && OneSignal.SERVICE_WORKER_UPDATER_PATH ? OneSignal.SERVICE_WORKER_UPDATER_PATH : \"OneSignalSDUpdaterKWorker.js\",\n            path: t.path ? t.path : \"/\"\n          });\n\n          return t.hasOwnProperty(\"autoResubscribe\") ? r.autoResubscribe = !!t.autoResubscribe : t.hasOwnProperty(\"autoRegister\") ? r.autoResubscribe = !!t.autoRegister : r.autoResubscribe = !!i.config.autoResubscribe, r;\n      }\n    }\n\n    static getSubdomainForConfigIntegrationKind(e, t, i) {\n      const n = this.getIntegrationCapabilities(e);\n      let r = t.subdomainName,\n          o = \"\";\n\n      switch (n.configuration) {\n        case a.Dashboard:\n          o = i.config.siteInfo.proxyOriginEnabled ? i.config.siteInfo.proxyOrigin : void 0;\n          break;\n\n        case a.JavaScript:\n          o = i.config.subdomain;\n      }\n\n      return o && !this.shouldUseServerConfigSubdomain(r, n) ? void 0 : o;\n    }\n\n    static shouldUseServerConfigSubdomain(e, t) {\n      switch (t.configuration) {\n        case a.Dashboard:\n          return !0;\n\n        case a.JavaScript:\n          switch (location.protocol) {\n            case \"https:\":\n              return !!e;\n\n            case \"http:\":\n              return !0;\n\n            default:\n              return !1;\n          }\n\n      }\n    }\n\n  }\n}, function (e, t) {\n  var i;\n\n  i = function () {\n    return this;\n  }();\n\n  try {\n    i = i || Function(\"return this\")() || (0, eval)(\"this\");\n  } catch (e) {\n    false && (i = window);\n  }\n\n  e.exports = i;\n}, function (e, t, i) {\n  \"use strict\";\n\n  (function (e) {\n    i.d(t, \"a\", function () {\n      return y;\n    });\n    var n = i(0),\n        r = i(11),\n        o = i.n(r),\n        s = i(10),\n        a = i(7),\n        c = i(3),\n        d = i(26),\n        u = i(17),\n        l = i(28),\n        p = i(5),\n        g = i(21),\n        f = i(9),\n        h = i(24),\n        b = i(1),\n        m = i(31),\n        v = i(8),\n        S = i(2);\n\n    class y {\n      static get VERSION() {\n        return s.a.version();\n      }\n\n      static get environment() {\n        return s.a;\n      }\n\n      static get log() {\n        return b.a;\n      }\n\n      static get database() {\n        return p.a;\n      }\n\n      static get browser() {\n        return o.a;\n      }\n\n      static get workerMessenger() {\n        return self.workerMessenger || (self.workerMessenger = new a.a(null)), self.workerMessenger;\n      }\n\n      static run() {\n        self.addEventListener(\"push\", y.onPushReceived), self.addEventListener(\"notificationclose\", y.onNotificationClosed), self.addEventListener(\"notificationclick\", e => e.waitUntil(y.onNotificationClicked(e))), self.addEventListener(\"install\", y.onServiceWorkerInstalled), self.addEventListener(\"activate\", y.onServiceWorkerActivated), self.addEventListener(\"pushsubscriptionchange\", e => {\n          e.waitUntil(y.onPushSubscriptionChange(e));\n        }), b.a.debug(\"Setting up message listeners.\"), y.workerMessenger.listen(), y.setupMessageListeners();\n      }\n\n      static getAppId() {\n        return n.a(this, void 0, void 0, function* () {\n          if (self.location.search) {\n            const e = self.location.search.match(/appId=([0-9a-z-]+)&?/i);\n\n            if (e && e.length > 1) {\n              return e[1];\n            }\n          }\n\n          const {\n            appId: e\n          } = yield p.a.getAppConfig();\n          return e;\n        });\n      }\n\n      static setupMessageListeners() {\n        y.workerMessenger.on(a.b.WorkerVersion, e => {\n          b.a.debug(\"[Service Worker] Received worker version message.\"), y.workerMessenger.broadcast(a.b.WorkerVersion, s.a.version());\n        }), y.workerMessenger.on(a.b.Subscribe, e => n.a(this, void 0, void 0, function* () {\n          const t = e;\n          b.a.debug(\"[Service Worker] Received subscribe message.\");\n          const i = new d.a(t),\n                n = yield i.subscriptionManager.subscribe(0),\n                r = yield i.subscriptionManager.registerSubscription(n);\n          y.workerMessenger.broadcast(a.b.Subscribe, r.serialize());\n        })), y.workerMessenger.on(a.b.SubscribeNew, e => n.a(this, void 0, void 0, function* () {\n          const t = e;\n          b.a.debug(\"[Service Worker] Received subscribe new message.\");\n          const i = new d.a(t),\n                n = yield i.subscriptionManager.subscribe(1),\n                r = yield i.subscriptionManager.registerSubscription(n);\n          y.workerMessenger.broadcast(a.b.SubscribeNew, r.serialize());\n        })), y.workerMessenger.on(a.b.AmpSubscriptionState, e => n.a(this, void 0, void 0, function* () {\n          b.a.debug(\"[Service Worker] Received AMP subscription state message.\");\n          const e = yield self.registration.pushManager.getSubscription();\n\n          if (e) {\n            const t = yield self.registration.pushManager.permissionState(e.options),\n                  {\n              optedOut: i\n            } = yield p.a.getSubscription(),\n                  n = !!e && \"granted\" === t && !0 !== i;\n            y.workerMessenger.broadcast(a.b.AmpSubscriptionState, n);\n          } else y.workerMessenger.broadcast(a.b.AmpSubscriptionState, !1);\n        })), y.workerMessenger.on(a.b.AmpSubscribe, () => n.a(this, void 0, void 0, function* () {\n          b.a.debug(\"[Service Worker] Received AMP subscribe message.\");\n          const e = yield y.getAppId(),\n                t = yield m.a.getAppConfig({\n            appId: e\n          }, l.a.downloadServerAppConfig),\n                i = new d.a(t),\n                n = yield i.subscriptionManager.subscribe(0),\n                r = yield i.subscriptionManager.registerSubscription(n);\n          y.workerMessenger.broadcast(a.b.AmpSubscribe, r.deviceId);\n        })), y.workerMessenger.on(a.b.AmpUnsubscribe, () => n.a(this, void 0, void 0, function* () {\n          b.a.debug(\"[Service Worker] Received AMP unsubscribe message.\");\n          const e = yield y.getAppId(),\n                t = yield m.a.getAppConfig({\n            appId: e\n          }, l.a.downloadServerAppConfig);\n          yield new d.a(t).subscriptionManager.unsubscribe(1), y.workerMessenger.broadcast(a.b.AmpUnsubscribe, null);\n        }));\n      }\n\n      static onPushReceived(e) {\n        b.a.debug(`Called %conPushReceived(${_JSON$stringify(e, null, 4)}):`, S.a.getConsoleStyle(\"code\"), e), e.waitUntil(y.parseOrFetchNotifications(e).then(e => {\n          let t = [];\n\n          for (let i of e) {\n            b.a.debug(\"Raw Notification from OneSignal:\", i);\n            let e = y.buildStructuredNotificationObject(i);\n            t.push((e => y.displayNotification(e).then(() => y.workerMessenger.broadcast(a.b.NotificationDisplayed, e).catch(e => b.a.error(e))).then(() => y.executeWebhooks(\"notification.displayed\", e).then(() => y.sendConfirmedDelivery(e)).catch(e => b.a.error(e)))).bind(null, e));\n          }\n\n          return t.reduce((e, t) => e.then(t), _Promise.resolve());\n        }).catch(e => {\n          b.a.debug(\"Failed to display a notification:\", e), y.UNSUBSCRIBED_FROM_NOTIFICATIONS && b.a.debug(\"Because we have just unsubscribed from notifications, we will not show anything.\");\n        }));\n      }\n\n      static executeWebhooks(e, t) {\n        return n.a(this, void 0, void 0, function* () {\n          const i = yield p.a.get(\"Options\", `webhooks.${e}`);\n          if (!i) return null;\n          const {\n            deviceId: n\n          } = yield p.a.getSubscription(),\n                r = yield p.a.get(\"Options\", \"webhooks.cors\"),\n                o = {\n            event: e,\n            id: t.id,\n            userId: n,\n            action: t.action,\n            buttons: t.buttons,\n            heading: t.heading,\n            content: t.content,\n            url: t.url,\n            icon: t.icon,\n            data: t.data\n          },\n                s = {\n            method: \"post\",\n            mode: \"no-cors\",\n            body: _JSON$stringify(o)\n          };\n          return r && (s.mode = \"cors\", s.headers = {\n            \"X-OneSignal-Event\": e,\n            \"Content-Type\": \"application/json\"\n          }), b.a.debug(`Executing ${e} webhook ${r ? \"with\" : \"without\"} CORS %cPOST ${i}`, S.a.getConsoleStyle(\"code\"), \":\", o), yield fetch(i, s);\n        });\n      }\n\n      static sendConfirmedDelivery(e) {\n        return n.a(this, void 0, void 0, function* () {\n          if (!e) return null;\n          if (\"y\" !== e.rr) return null;\n          const t = yield y.getAppId(),\n                {\n            deviceId: i\n          } = yield p.a.getSubscription();\n          if (!!(!t || !e.id)) return null;\n          const n = {\n            player_id: i,\n            app_id: t\n          };\n          return b.a.debug(`Called %csendConfirmedDelivery(${_JSON$stringify(e, null, 4)})`, S.a.getConsoleStyle(\"code\")), yield u.b.put(`notifications/${e.id}/report_received`, n);\n        });\n      }\n\n      static getActiveClients() {\n        return n.a(this, void 0, void 0, function* () {\n          const e = yield self.clients.matchAll({\n            type: \"window\",\n            includeUncontrolled: !0\n          }),\n                t = [];\n\n          for (const i of e) {\n            if (i.frameType && \"nested\" === i.frameType) {\n              if (!S.a.contains(i.url, c.a.getOneSignalApiUrl().host) && !S.a.contains(i.url, \".os.tc\")) continue;\n              i.isSubdomainIframe = !0;\n            }\n\n            t.push(i);\n          }\n\n          return t;\n        });\n      }\n\n      static buildStructuredNotificationObject(e) {\n        let t = {\n          id: e.custom.i,\n          heading: e.title,\n          content: e.alert,\n          data: e.custom.a,\n          url: e.custom.u,\n          rr: e.custom.rr,\n          icon: e.icon,\n          image: e.image,\n          tag: e.tag,\n          badge: e.badge,\n          vibrate: e.vibrate\n        };\n\n        if (e.o) {\n          t.buttons = [];\n\n          for (let i of e.o) t.buttons.push({\n            action: i.i,\n            title: i.n,\n            icon: i.p,\n            url: i.u\n          });\n        }\n\n        return S.a.trimUndefined(t);\n      }\n\n      static ensureImageResourceHttps(e) {\n        if (!e) return null;\n\n        try {\n          let t = new URL(e);\n          return \"localhost\" === t.hostname || -1 !== t.hostname.indexOf(\"192.168\") || \"127.0.0.1\" === t.hostname || \"https:\" === t.protocol ? e : \"i0.wp.com\" === t.hostname || \"i1.wp.com\" === t.hostname || \"i2.wp.com\" === t.hostname || \"i3.wp.com\" === t.hostname ? `https://${t.hostname}${t.pathname}` : `https://i0.wp.com/${t.host + t.pathname}`;\n        } catch (e) {}\n      }\n\n      static ensureNotificationResourcesHttps(e) {\n        if (e && (e.icon && (e.icon = y.ensureImageResourceHttps(e.icon)), e.image && (e.image = y.ensureImageResourceHttps(e.image)), e.buttons && e.buttons.length > 0)) for (let t of e.buttons) t.icon && (t.icon = y.ensureImageResourceHttps(t.icon));\n      }\n\n      static displayNotification(e, t) {\n        return n.a(this, void 0, void 0, function* () {\n          b.a.debug(`Called %cdisplayNotification(${_JSON$stringify(e, null, 4)}):`, S.a.getConsoleStyle(\"code\"), e);\n          const i = yield y._getTitle(),\n                n = yield p.a.get(\"Options\", \"defaultIcon\"),\n                r = yield p.a.get(\"Options\", \"persistNotification\"),\n                o = yield y.getAppId();\n          e.heading = e.heading ? e.heading : i, e.icon = e.icon ? e.icon : n || void 0;\n          const s = {};\n          s.tag = e.tag || o, s.persistNotification = !1 !== r, t || (t = {}), e = _Object$assign({}, e, t), y.ensureNotificationResourcesHttps(e);\n          let a = {\n            body: e.content,\n            icon: e.icon,\n            image: e.image,\n            data: e,\n            actions: e.buttons,\n            tag: s.tag,\n            requireInteraction: s.persistNotification,\n            renotify: !0,\n            badge: e.badge,\n            vibrate: e.vibrate\n          };\n          return a = y.fixPlatformSpecificDisplayIssues(a), self.registration.showNotification(e.heading, a);\n        });\n      }\n\n      static fixPlatformSpecificDisplayIssues(e) {\n        const t = _Object$assign({}, e),\n              i = v.a.redetectBrowserUserAgent();\n\n        return i.chrome && i.mac && S.a.isVersionAtLeast(i.osversion, 10.15) ? t.requireInteraction = !1 : i.opera && i.mac && S.a.isVersionAtLeast(i.osversion, 10.14) && (t.requireInteraction = !1), t;\n      }\n\n      static shouldOpenNotificationUrl(e) {\n        return \"javascript:void(0);\" !== e && \"do_not_open\" !== e && !S.a.contains(e, \"_osp=do_not_open\");\n      }\n\n      static onNotificationClosed(e) {\n        b.a.debug(`Called %conNotificationClosed(${_JSON$stringify(e, null, 4)}):`, S.a.getConsoleStyle(\"code\"), e);\n        let t = e.notification.data;\n        y.workerMessenger.broadcast(a.b.NotificationDismissed, t).catch(e => b.a.error(e)), e.waitUntil(y.executeWebhooks(\"notification.dismissed\", t));\n      }\n\n      static getNotificationUrlToOpen(e) {\n        return n.a(this, void 0, void 0, function* () {\n          let t = self.registration.scope;\n          const {\n            defaultNotificationUrl: i\n          } = yield p.a.getAppState();\n          if (i && (t = i), e.action) for (let i of e.buttons) i.action === e.action && i.url && \"\" !== i.url && (t = i.url);else e.url && \"\" !== e.url && (t = e.url);\n          return t;\n        });\n      }\n\n      static onNotificationClicked(e) {\n        return n.a(this, void 0, void 0, function* () {\n          b.a.debug(`Called %conNotificationClicked(${_JSON$stringify(e, null, 4)}):`, S.a.getConsoleStyle(\"code\"), e), e.notification.close();\n          const t = e.notification.data;\n          e.action && (t.action = e.action);\n          let i = \"exact\",\n              n = \"navigate\";\n          const r = yield p.a.get(\"Options\", \"notificationClickHandlerMatch\");\n          r && (i = r);\n          const o = yield this.database.get(\"Options\", \"notificationClickHandlerAction\");\n          o && (n = o);\n          const s = yield y.getActiveClients(),\n                c = yield y.getNotificationUrlToOpen(t),\n                d = y.shouldOpenNotificationUrl(c),\n                {\n            appId: u\n          } = yield p.a.getAppConfig(),\n                {\n            deviceId: l\n          } = yield p.a.getSubscription(),\n                g = y.sendConvertedAPIRequests(u, l, t);\n          let f = !1;\n\n          for (const e of s) {\n            let r = e.url;\n\n            if (e.isSubdomainIframe) {\n              const e = yield p.a.get(\"Options\", \"lastKnownHostUrl\");\n              r = e, e || (r = yield p.a.get(\"Options\", \"defaultUrl\"));\n            }\n\n            let o = \"\";\n\n            try {\n              o = new URL(r).origin;\n            } catch (e) {\n              b.a.error(\"Failed to get the HTTP site's actual origin:\", e);\n            }\n\n            let s = null;\n\n            try {\n              s = new URL(c).origin;\n            } catch (e) {}\n\n            if (\"exact\" === i && r === c || \"origin\" === i && o === s) {\n              if (e.isSubdomainIframe && r === c || !e.isSubdomainIframe && e.url === c || \"focus\" === n && o === s) {\n                y.workerMessenger.unicast(a.b.NotificationClicked, t, e);\n\n                try {\n                  e instanceof WindowClient && (yield e.focus());\n                } catch (t) {\n                  b.a.error(\"Failed to focus:\", e, t);\n                }\n              } else if (e.isSubdomainIframe) {\n                try {\n                  b.a.debug(\"Client is subdomain iFrame. Attempting to focus() client.\"), e instanceof WindowClient && (yield e.focus());\n                } catch (t) {\n                  b.a.error(\"Failed to focus:\", e, t);\n                }\n\n                d ? (b.a.debug(`Redirecting HTTP site to ${c}.`), yield p.a.put(\"NotificationOpened\", {\n                  url: c,\n                  data: t,\n                  timestamp: _Date$now()\n                }), y.workerMessenger.unicast(a.b.RedirectPage, c, e)) : b.a.debug(\"Not navigating because link is special.\");\n              } else if (e instanceof WindowClient && e.navigate) {\n                try {\n                  b.a.debug(\"Client is standard HTTPS site. Attempting to focus() client.\"), e instanceof WindowClient && (yield e.focus());\n                } catch (t) {\n                  b.a.error(\"Failed to focus:\", e, t);\n                }\n\n                try {\n                  d ? (b.a.debug(`Redirecting HTTPS site to (${c}).`), yield p.a.put(\"NotificationOpened\", {\n                    url: c,\n                    data: t,\n                    timestamp: _Date$now()\n                  }), yield e.navigate(c)) : b.a.debug(\"Not navigating because link is special.\");\n                } catch (t) {\n                  b.a.error(\"Failed to navigate:\", e, c, t);\n                }\n              } else yield p.a.put(\"NotificationOpened\", {\n                url: c,\n                data: t,\n                timestamp: _Date$now()\n              }), yield y.openUrl(c);\n\n              f = !0;\n              break;\n            }\n          }\n\n          return d && !f && (yield p.a.put(\"NotificationOpened\", {\n            url: c,\n            data: t,\n            timestamp: _Date$now()\n          }), yield y.openUrl(c)), yield g;\n        });\n      }\n\n      static sendConvertedAPIRequests(e, t, i) {\n        return n.a(this, void 0, void 0, function* () {\n          if (!i.id) return void console.error(\"No notification id, skipping networks calls to report open!\");\n          let n;\n          e ? n = u.b.put(`notifications/${i.id}`, {\n            app_id: e,\n            player_id: t,\n            opened: !0\n          }) : console.error(\"No app Id, skipping OneSignal API call for notification open!\"), yield y.executeWebhooks(\"notification.clicked\", i), n && (yield n);\n        });\n      }\n\n      static openUrl(e) {\n        return n.a(this, void 0, void 0, function* () {\n          b.a.debug(\"Opening notification URL:\", e);\n\n          try {\n            return yield self.clients.openWindow(e);\n          } catch (t) {\n            return b.a.warn(`Failed to open the URL '${e}':`, t), null;\n          }\n        });\n      }\n\n      static onServiceWorkerInstalled(e) {\n        e.waitUntil(self.skipWaiting());\n      }\n\n      static onServiceWorkerActivated(e) {\n        b.a.info(`%cOneSignal Service Worker activated (version ${s.a.version()}, ${c.a.getWindowEnv().toString()} environment).`, S.a.getConsoleStyle(\"bold\")), e.waitUntil(self.clients.claim());\n      }\n\n      static onPushSubscriptionChange(e) {\n        return n.a(this, void 0, void 0, function* () {\n          b.a.debug(`Called %conPushSubscriptionChange(${_JSON$stringify(e, null, 4)}):`, S.a.getConsoleStyle(\"code\"), e);\n          const t = yield y.getAppId();\n          if (!t) return;\n          const i = yield m.a.getAppConfig({\n            appId: t\n          }, l.a.downloadServerAppConfig);\n          if (!i) return;\n          const n = new d.a(i);\n          let r, o;\n          {\n            let {\n              deviceId: i\n            } = yield p.a.getSubscription();\n\n            if (!(r = !!i) && e.oldSubscription) {\n              i = yield l.a.getUserIdFromSubscriptionIdentifier(t, h.a.prototype.getDeliveryPlatform(), e.oldSubscription.endpoint);\n              const n = yield p.a.getSubscription();\n              n.deviceId = i, yield p.a.setSubscription(n);\n            }\n\n            r = !!i;\n          }\n          const s = e.newSubscription;\n          if (s) o = g.a.setFromW3cSubscription(s);else try {\n            o = yield n.subscriptionManager.subscribe(1);\n          } catch (e) {}\n\n          if (r || !!o) {\n            let e = null;\n            \"granted\" !== Notification.permission ? e = f.a.PermissionRevoked : o || (e = f.a.PushSubscriptionRevoked), yield n.subscriptionManager.registerSubscription(o, e);\n          } else yield p.a.remove(\"Ids\", \"userId\"), yield p.a.remove(\"Ids\", \"registrationId\");\n        });\n      }\n\n      static _getTitle() {\n        return new _Promise(e => {\n          _Promise.all([p.a.get(\"Options\", \"defaultTitle\"), p.a.get(\"Options\", \"pageTitle\")]).then(([t, i]) => {\n            e(null !== t ? t : null != i ? i : \"\");\n          });\n        });\n      }\n\n      static parseOrFetchNotifications(e) {\n        if (!e || !e.data) return _Promise.reject(\"Missing event.data on push payload!\");\n        return y.isValidPushPayload(e.data) ? (b.a.debug(\"Received a valid encrypted push payload.\"), _Promise.resolve([e.data.json()])) : _Promise.reject(`Unexpected push message payload received: ${e.data}`);\n      }\n\n      static isValidPushPayload(e) {\n        try {\n          const t = e.json();\n          return !!(t && t.custom && t.custom.i && v.a.isValidUuid(t.custom.i)) || (b.a.debug(\"isValidPushPayload: Valid JSON but missing notification UUID:\", t), !1);\n        } catch (e) {\n          return b.a.debug(\"isValidPushPayload: Parsing to JSON failed with:\", e), !1;\n        }\n      }\n\n    }\n\n    \"undefined\" == typeof self && void 0 !== e ? e.OneSignalWorker = y : self.OneSignalWorker = y, \"undefined\" != typeof self && y.run();\n  }).call(this, i(32));\n}, function (e, t) {\n  e.exports = function () {\n    throw new Error(\"define cannot be used indirect\");\n  };\n}, function (e, t, i) {\n  \"use strict\";\n\n  i.r(t);\n  var n = i(33);\n  self.OneSignal = n.a;\n}]);","map":{"version":3,"sources":["/Users/raheemmcdonald/Desktop/cxcspanish/assets/js/onesignal.js"],"names":["OneSignal","window","push","init","appId","e","t","i","n","exports","r","l","call","m","c","d","o","configurable","enumerable","get","value","__esModule","default","Object","prototype","hasOwnProperty","p","s","Array","next","a","throw","done","then","apply","shouldLog","localStorage","getItem","toLowerCase","setLevel","setItem","proxyMethodsCreated","createProxyMethods","log","trace","info","warn","error","console","bind","constructor","message","contains","indexOf","getConsoleStyle","trimUndefined","capitalize","charAt","toUpperCase","slice","stringify","encodeHashAsUriComponent","encodeURIComponent","timeoutPromise","setTimeout","race","getValueOrDefault","padStart","length","parseVersionString","toString","split","Number","isVersionAtLeast","enforceAppId","Error","enforcePlayerId","b","Development","Staging","Production","InvalidArgumentError","u","g","getBuildEnv","getApiEnv","getIntegration","isSafari","Secure","top","location","protocol","context","appConfig","Empty","subdomain","SecureProxy","isLocalhostAllowedAsSecureOrigin","hostname","InsecureProxy","isFrameContextInsecure","navigator","serviceWorker","getRegistration","isInsecureOrigin","getWindowEnv","self","ServiceWorkerGlobalScope","ServiceWorker","Unknown","href","pathname","search","endsWith","OneSignalSubscriptionPopup","Host","OneSignalProxyFrame","OneSignalSubscriptionModal","CustomIframe","getTestEnv","None","getBuildEnvPrefix","EnumOutOfRange","getOneSignalApiUrl","URL","host","getOneSignalResourceUrlPath","getOneSignalCssFileName","_events","on","once","off","arguments","listener","splice","removeAllListeners","listeners","numberOfListeners","emit","shift","databaseName","emitter","open","indexedDB","onerror","onDatabaseOpenError","onblocked","onDatabaseOpenBlocked","onupgradeneeded","onDatabaseUpgradeNeeded","onsuccess","database","result","onDatabaseError","onversionchange","onDatabaseVersionChange","ensureDatabaseOpen","openLock","preventDefault","target","debug","errorCode","createObjectStore","keyPath","_isNewVisitor","transaction","objectStore","openCursor","key","continue","put","remove","serialize","deviceId","subscriptionToken","optedOut","createdAt","expirationTime","deserialize","emailId","emailAddress","emailAuthHash","f","h","v","SET","resetInstance","databaseInstance","singletonInstance","databaseInstanceName","applyDbResultFilter","id","data","timestamp","isUsingSubscriptionWorkaround","proxyFrameHost","POSTMAM_COMMANDS","REMOTE_DATABASE_GET","table","REMOTE_DATABASE_PUT","keypath","REMOTE_OPERATION_COMPLETE","EVENTS","REMOTE_DATABASE_REMOVE","getAppConfig","vapidPublicKey","emailAuthRequired","getExternalUserId","setExternalUserId","type","setAppConfig","httpUseOneSignalCom","getAppState","defaultNotificationUrl","defaultNotificationTitle","lastKnownPushEnabled","clickedNotifications","setAppState","url","getServiceWorkerState","workerVersion","updaterWorkerVersion","setServiceWorkerState","getSubscription","setSubscription","getEmailProfile","setEmailProfile","setProvideUserConsent","getProvideUserConsent","rebuild","all","getServiceWorkerHref","WorkerA","workerBPath","getFullPath","WorkerB","ThirdParty","workerAPath","Bypassed","UnsupportedEnvironment","getBaseUrl","Installing","Indeterminate","WorkerVersion","Subscribe","SubscribeNew","AmpSubscriptionState","AmpSubscribe","AmpUnsubscribe","NotificationDisplayed","NotificationClicked","NotificationDismissed","RedirectPage","replies","addListener","callback","onceListenerOnly","findListenersForMessage","deleteListenerRecords","deleteAllListenerRecords","deleteListenerRecord","broadcast","clients","matchAll","includeUncontrolled","postMessage","command","payload","unicast","isWorkerControllingPage","registration","waitUntilWorkerControlsPage","controller","listen","supportsServiceWorkers","addEventListener","onWorkerMessageReceivedFromPage","listenForPage","origin","onPageMessageReceivedFromServiceWorker","active","serviceWorkerManager","getActiveState","config","userConfig","allowLocalhostAsSecureOrigin","safari","internalIsUsingSubscriptionWorkaround","redetectBrowserUserAgent","name","version","_detect","userAgent","isValidUuid","test","getRandomUuid","crypto","msCrypto","replace","getRandomValues","Uint8Array","Math","random","logMethodCall","map","join","Default","Subscribed","MutedByApi","NotSubscribed","TemporaryWebRecord","PermissionRevoked","PushSubscriptionRevoked","ServiceWorkerStatus403","ServiceWorkerStatus404","isBrowser","TRADITIONAL_CHINESE_LANGUAGE_TAG","SIMPLIFIED_CHINESE_LANGUAGE_TAG","getLanguage","language","substring","getSdkStylesVersionHash","__SRC_STYLESHEETS_MD5_HASH__","match","S","y","w","P","O","opera","samsungBrowser","coast","yandexbrowser","ucbrowser","maxthon","epiphany","puffin","sleipnir","kMeleon","windowsphone","msedge","msie","chromeos","chromeBook","chrome","vivaldi","sailfish","seamonkey","firefox","firefoxos","silk","phantom","slimer","blackberry","webos","touchpad","bada","tizen","qupzilla","chromium","googlebot","blink","webkit","gecko","mac","xbox","windows","linux","ios","android","k","osversion","I","tablet","mobile","x","max","reverse","String","isUnsupportedBrowser","compareVersions","check","Granted","Denied","writable","captureStackTrace","stack","Malformed","argument","reason","HttpsPermissionRequest","FullscreenHttpPermissionMessage","FullscreenHttpsPermissionMessage","SlidedownPermissionMessage","SubscriptionBell","MissingAppId","RedundantPermissionMessage","PushPermissionAlreadyGranted","MissingDomElement","ServiceWorkerNotActivated","NoProxyFrame","permissionPromptType","description","post","delete","reject","app_id","Headers","append","method","headers","cache","body","fetch","status","json","identifyError","errors","notificationPermissionChange","subscriptionChange","customPromptClick","trigger","SDK_INITIALIZED","initialized","_triggerLegacy","opener","parent","subscriptionPopup","REMOTE_RETRIGGER_EVENT","eventName","eventData","proxyFrame","retriggerRemoteEvent","CustomEvent","bubbles","cancelable","detail","dispatchEvent","SdkInitError","InvalidAppId","AppNotConfiguredForWebPush","MissingSubdomain","WrongSiteUrl","MultipleInitialization","MissingSafariWebId","siteUrl","isNewSubscription","existingW3cPushSubscription","w3cEndpoint","w3cP256dh","w3cAuth","existingSafariDeviceToken","safariDeviceToken","setFromW3cSubscription","endpoint","getKey","btoa","fromCharCode","setFromSafariSubscription","existingPushSubscription","ChromeLike","Safari","Firefox","Edge","Email","subscription","identifier","web_auth","web_p256","createFromPushSubscription","subscriptionState","UnitTesting","incrementedPageViewCount","getPageViewCount","sessionStorage","SESSION_STORAGE_KEY_NAME","isNaN","setPageViewCount","SET_SESSION_COUNT","incrementPageViewCount","simulatePageNavigationOrRefresh","isFirstPageView","getIsOptedOut","getIsPushNotificationsEnabled","setIsOptedOut","setIsPushNotificationsEnabled","setStoredPermission","STORED_PERMISSION_KEY","getStoredPermission","getNotificationPermission","getReportedNotificationPermission","isPermissionEnvironmentAmbiguous","getInterpretedAmbiguousPermission","getSafariNotificationPermission","getOneSignalSubdomainNotificationPermission","getW3cNotificationPermission","pushNotification","permission","Notification","REMOTE_NOTIFICATION_PERMISSION","safariWebId","isCurrentFrameContextCrossOrigin","updateStoredPermission","path","trim","getQueryString","getWithoutQueryString","QUERY_STRING","getFileName","pop","getFileNameWithQuery","getPathWithoutFileName","lastIndexOf","statusText","E","A","runCommand","SERVICE_WORKER_STATE","installing","activeSwFileName","swActiveStateByFileName","scriptURL","URLSearchParams","getWorkerVersion","GET_WORKER_VERSION","NaN","workerMessenger","shouldInstallWorker","permissionManager","workerNeedsUpdate","installWorker","installAlternatingWorker","establishServiceWorkerChannel","NOTIFICATION_DISPLAYED","messenger","GET_EVENT_LISTENER_COUNT","NOTIFICATION_CLICKED","SERVICEWORKER_COMMAND_REDIRECT","NOTIFICATION_DISMISSED","register","scope","registrationOptions","N","W","T","C","email","pushDeviceRecordId","deliveryPlatform","email_auth_hash","device_player_id","M","_","getPlayer","updatePlayer","sendNotification","contents","include_player_ids","isAnyWeb","web_buttons","headings","chrome_web_icon","firefox_icon","createUser","success","createEmailRecord","updateEmailRecord","logoutEmail","parent_player_id","updateUserSession","D","R","U","F","B","InvalidStateError","Blocked","Dismissed","L","V","$","InvalidSafariSetup","H","j","z","subscribe","subscribeFcmFromWorker","privateGetNotificationPermission","subscribeSafari","subscribeFcmFromPage","registerSubscription","isAlreadyRegisteredWithOneSignal","updateManager","sendPlayerUpdate","sendPlayerCreate","associateSubscriptionWithEmail","REGISTERED","_sessionInitAlreadyRunning","requestPresubscribeNotificationPermission","requestNotificationPermission","unsubscribe","notification_types","requestPermission","subscribeSafariPromptPermission","deviceToken","PERMISSION_PROMPT_DISPLAYED","triggerNotificationPermissionChanged","_isRegisteringForPush","subscriptionManager","registerFailedSubscription","ready","subscribeWithVapidKey","pushManager","permissionState","userVisibleOnly","getVapidKeyForBrowser","onesignalVapidPublicKey","repeat","atob","charCodeAt","buffer","options","doPushUnsubscribe","doPushSubscribe","updateSubscriptionTime","Date","getTime","applicationServerKey","isSubscriptionExpiring","isSubscriptionExpiringForSecureIntegration","SUBSCRIPTION_EXPIRATION_STATE","getSubscriptionState","getSubscriptionStateForSecure","subscribed","GET_SUBSCRIPTION_STATE","getSubscriptionStateForInsecure","sessionManager","K","G","q","getServiceWorkerManager","serviceWorkerPath","serviceWorkerUpdaterPath","serviceWorkerParam","getSubscriptionManager","NoDeviceId","NoEmailSet","OptedOut","J","Y","Q","onSessionSent","getDeviceId","createDeviceRecord","getCurrentNotificationType","sendOnSessionUpdate","enableOnSession","onSessionAlreadyCalled","sendExternalUserIdUpdate","external_user_id","X","NATIVE_PROMPT_PERMISSIONCHANGED","to","downloadServerAppConfig","getUserIdFromSubscriptionIdentifier","device_type","catch","isLocalStorageSupported","JSON","parse","removeItem","privateIsPushNotificationsEnabled","getNotificationTypeFromOptIn","wasHttpsNativePromptDismissed","markHttpPopoverShown","isHttpPromptAlreadyShown","checkAndTriggerNotificationPermissionChanged","getNotificationIcons","getAppId","getSlidedownPermissionMessageOptions","slidedown","enabled","autoPrompt","actionMessage","acceptButtonText","cancelButtonText","getFullscreenPermissionMessageOptions","fullscreen","autoAcceptTitle","exampleNotificationTitleDesktop","title","exampleNotificationTitleMobile","exampleNotificationMessageDesktop","exampleNotificationMessageMobile","exampleNotificationCaption","caption","acceptButton","cancelButton","getPromptOptionsQueryString","promptOptions","getPromptOptionsPostHash","triggerCustomPromptClicked","CUSTOM_PROMPT_CLICKED","resolve","timezone","getTimezoneOffset","browserVersion","deviceModel","platform","sdkVersion","getDeliveryPlatform","device_os","device_model","sdk","TypicalSite","WordPress","Shopify","Blogger","Magento","Drupal","SquareSpace","Joomla","Weebly","Wix","Custom","Exact","Origin","Navigate","Focus","Dashboard","JavaScript","getMergedConfig","checkRestrictedOrigin","code","restrictedOriginEnabled","doesCurrentOriginMatchConfigOrigin","getIntegrationCapabilities","configuration","getConfigIntegrationKind","getSubdomainForConfigIntegrationKind","setupBehavior","getUserConfigForConfigIntegrationKind","http_use_onesignal_com","cookieSyncEnabled","features","cookie_sync","enable","restrict_origin","metrics","mixpanelReportingToken","mixpanel_reporting_token","safari_web_id","vapid_public_key","onesignal_vapid_public_key","require_auth","enable_on_session","receiveReceiptsEnable","receive_receipts_enable","integration","kind","getCustomLinkConfig","style","size","unsubscribeEnabled","text","explanation","color","button","staticPrompts","customlink","injectDefaultsIntoPromptOptions","native","autoRegister","getPromptOptionsForDashboardConfiguration","autoResubscribe","workerName","updaterWorkerName","registrationScope","subdomainName","siteInfo","proxyOrigin","welcomeNotification","disable","notifyButton","bell","displayPredicate","hideWhenSubscribed","isPushNotificationsEnabled","position","showCredit","offset","bottom","left","right","colors","main","accent","tooltip","unsubscribed","blocked","subscribing","unsubscribing","dialog","subscribeButton","unsubscribeButton","persistNotification","notificationBehavior","display","persist","webhooks","cors","corsEnable","notificationDisplayedHook","notificationClickedHook","notificationDismissedHook","notificationClickHandlerMatch","click","notificationClickHandlerAction","action","requiresUserPrivacyConsent","SERVICE_WORKER_PARAM","SERVICE_WORKER_PATH","SERVICE_WORKER_UPDATER_PATH","proxyOriginEnabled","shouldUseServerConfigSubdomain","Function","eval","VERSION","environment","browser","run","onPushReceived","onNotificationClosed","waitUntil","onNotificationClicked","onServiceWorkerInstalled","onServiceWorkerActivated","onPushSubscriptionChange","setupMessageListeners","parseOrFetchNotifications","buildStructuredNotificationObject","displayNotification","executeWebhooks","sendConfirmedDelivery","reduce","UNSUBSCRIBED_FROM_NOTIFICATIONS","event","userId","buttons","heading","content","icon","mode","rr","player_id","getActiveClients","frameType","isSubdomainIframe","custom","alert","image","tag","badge","vibrate","ensureImageResourceHttps","ensureNotificationResourcesHttps","_getTitle","actions","requireInteraction","renotify","fixPlatformSpecificDisplayIssues","showNotification","shouldOpenNotificationUrl","notification","getNotificationUrlToOpen","close","sendConvertedAPIRequests","WindowClient","focus","navigate","openUrl","opened","openWindow","skipWaiting","claim","oldSubscription","newSubscription","isValidPushPayload","OneSignalWorker"],"mappings":"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","sourcesContent":["var OneSignal = window.OneSignal || [];\nOneSignal.push(function() {\n  OneSignal.init({\n    appId: \"bfebf78b-978a-4caa-950f-92359bde0be0\"\n  });\n});\n\n!(function(e) {\n  var t = {};\n  function i(n) {\n    if (t[n]) return t[n].exports;\n    var r = (t[n] = { i: n, l: !1, exports: {} });\n    return e[n].call(r.exports, r, r.exports, i), (r.l = !0), r.exports;\n  }\n  (i.m = e),\n    (i.c = t),\n    (i.d = function(e, t, n) {\n      i.o(e, t) ||\n        Object.defineProperty(e, t, {\n          configurable: !1,\n          enumerable: !0,\n          get: n\n        });\n    }),\n    (i.r = function(e) {\n      Object.defineProperty(e, \"__esModule\", { value: !0 });\n    }),\n    (i.n = function(e) {\n      var t =\n        e && e.__esModule\n          ? function() {\n              return e.default;\n            }\n          : function() {\n              return e;\n            };\n      return i.d(t, \"a\", t), t;\n    }),\n    (i.o = function(e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }),\n    (i.p = \"\"),\n    i((i.s = 35));\n})([\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return n;\n    });\n    Object.setPrototypeOf || Array;\n    Object.assign;\n    function n(e, t, i, n) {\n      return new (i || (i = Promise))(function(r, o) {\n        function s(e) {\n          try {\n            c(n.next(e));\n          } catch (e) {\n            o(e);\n          }\n        }\n        function a(e) {\n          try {\n            c(n.throw(e));\n          } catch (e) {\n            o(e);\n          }\n        }\n        function c(e) {\n          e.done\n            ? r(e.value)\n            : new i(function(t) {\n                t(e.value);\n              }).then(s, a);\n        }\n        c((n = n.apply(e, t || [])).next());\n      });\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return n;\n    });\n    class n {\n      static shouldLog() {\n        try {\n          if (\"undefined\" == typeof window || void 0 === window.localStorage)\n            return !1;\n          const e = window.localStorage.getItem(\"loglevel\");\n          return !(!e || \"trace\" !== e.toLowerCase());\n        } catch (e) {\n          return !1;\n        }\n      }\n      static setLevel(e) {\n        if (\"undefined\" != typeof window && void 0 !== window.localStorage)\n          try {\n            window.localStorage.setItem(\"loglevel\", e),\n              (n.proxyMethodsCreated = void 0),\n              n.createProxyMethods();\n          } catch (e) {\n            return;\n          }\n      }\n      static createProxyMethods() {\n        if (void 0 !== n.proxyMethodsCreated) return;\n        n.proxyMethodsCreated = !0;\n        const e = {\n          log: \"debug\",\n          trace: \"trace\",\n          info: \"info\",\n          warn: \"warn\",\n          error: \"error\"\n        };\n        for (const t of Object.keys(e)) {\n          const i = void 0 !== console[t],\n            r = e[t],\n            o = i && (n.shouldLog() || \"error\" === r);\n          n[r] = o ? console[t].bind(console) : function() {};\n        }\n      }\n    }\n    n.createProxyMethods();\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n = i(13);\n    class r extends n.a {\n      constructor(e = \"The asynchronous operation has timed out.\") {\n        super(e), (this.message = e), Object.setPrototypeOf(this, r.prototype);\n      }\n    }\n    i.d(t, \"a\", function() {\n      return o;\n    });\n    class o {\n      static contains(e, t) {\n        return !!e && -1 !== e.indexOf(t);\n      }\n      static getConsoleStyle(e) {\n        return \"code\" == e\n          ? 'padding: 0 1px 1px 5px;border: 1px solid #ddd;border-radius: 3px;font-family: Monaco,\"DejaVu Sans Mono\",\"Courier New\",monospace;color: #444;'\n          : \"bold\" == e\n          ? \"font-weight: 600;color: rgb(51, 51, 51);\"\n          : \"alert\" == e\n          ? \"font-weight: 600;color: red;\"\n          : \"event\" == e\n          ? \"color: green;\"\n          : \"postmessage\" == e\n          ? \"color: orange;\"\n          : \"serviceworkermessage\" == e\n          ? \"color: purple;\"\n          : \"\";\n      }\n      static trimUndefined(e) {\n        for (var t in e) e.hasOwnProperty(t) && void 0 === e[t] && delete e[t];\n        return e;\n      }\n      static capitalize(e) {\n        return e.charAt(0).toUpperCase() + e.slice(1);\n      }\n      static stringify(e) {\n        return JSON.stringify(\n          e,\n          (e, t) => (\"function\" == typeof t ? \"[Function]\" : t),\n          4\n        );\n      }\n      static encodeHashAsUriComponent(e) {\n        let t = \"\";\n        const i = Object.keys(e);\n        for (var n of i) {\n          const i = e[n];\n          t += `${encodeURIComponent(n)}=${encodeURIComponent(i)}`;\n        }\n        return t;\n      }\n      static timeoutPromise(e, t) {\n        const i = new Promise((e, i) => {\n          setTimeout(() => {\n            i(new r());\n          }, t);\n        });\n        return Promise.race([e, i]);\n      }\n      static getValueOrDefault(e, t) {\n        return void 0 !== e && null !== e ? e : t;\n      }\n      static padStart(e, t, i) {\n        let n = e;\n        for (; n.length < t; ) n = i + n;\n        return n;\n      }\n      static parseVersionString(e) {\n        const t = e.toString().split(\".\"),\n          i = o.padStart(t[0], 2, \"0\");\n        let n;\n        return (\n          (n = t[1] ? o.padStart(t[1], 2, \"0\") : \"00\"), Number(`${i}.${n}`)\n        );\n      }\n      static isVersionAtLeast(e, t) {\n        return this.parseVersionString(e) >= t;\n      }\n      static enforceAppId(e) {\n        if (!e) throw new Error(\"App id cannot be empty\");\n      }\n      static enforcePlayerId(e) {\n        if (!e) throw new Error(\"Player id cannot be empty\");\n      }\n    }\n    t.b = o;\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n,\n      r = i(0);\n    !(function(e) {\n      (e.Development = \"Development\"),\n        (e.Staging = \"Staging\"),\n        (e.Production = \"Production\");\n    })(n || (n = {}));\n    var o = i(25),\n      s = i(4),\n      InvalidArgumentError = i(14),\n      a = i(15),\n      c = i(6),\n      d = i(10),\n      u = i(8);\n    i.d(t, \"a\", function() {\n      return g;\n    });\n    const l = 4e3,\n      p = 3001;\n    class g {\n      static getBuildEnv() {\n        return n.Production;\n      }\n      static getApiEnv() {\n        return n.Production;\n      }\n      static getIntegration(e) {\n        return r.a(this, void 0, void 0, function*() {\n          if (d.a.isSafari()) return a.a.Secure;\n          const t = window === window.top,\n            i = \"https:\" === window.location.protocol;\n          if (void 0 === e) {\n            if (\n              \"undefined\" == typeof OneSignal ||\n              !OneSignal.context ||\n              !OneSignal.context.appConfig\n            )\n              throw new InvalidArgumentError.a(\n                \"usingProxyOrigin\",\n                InvalidArgumentError.b.Empty\n              );\n            e = !!OneSignal.context.appConfig.subdomain;\n          }\n          if (t)\n            return i\n              ? e\n                ? a.a.SecureProxy\n                : a.a.Secure\n              : !u.b.isLocalhostAllowedAsSecureOrigin() ||\n                (\"localhost\" !== location.hostname &&\n                  \"127.0.0.1\" !== location.hostname)\n              ? a.a.InsecureProxy\n              : a.a.Secure;\n          if (i) {\n            return (yield g.isFrameContextInsecure())\n              ? a.a.InsecureProxy\n              : e\n              ? a.a.SecureProxy\n              : a.a.Secure;\n          }\n          return a.a.InsecureProxy;\n        });\n      }\n      static isFrameContextInsecure() {\n        return r.a(this, void 0, void 0, function*() {\n          if (\n            window === window.top ||\n            !(\"serviceWorker\" in navigator) ||\n            void 0 === navigator.serviceWorker.getRegistration\n          )\n            return !1;\n          return !(yield c.b.getRegistration());\n        });\n      }\n      static isInsecureOrigin() {\n        return \"http:\" === window.location.protocol;\n      }\n      static getWindowEnv() {\n        return \"undefined\" == typeof window\n          ? \"undefined\" != typeof self &&\n            \"undefined\" != typeof ServiceWorkerGlobalScope\n            ? s.a.ServiceWorker\n            : s.a.Unknown\n          : window === window.top\n          ? -1 !== location.href.indexOf(\"initOneSignal\") ||\n            (\"/subscribe\" === location.pathname &&\n              \"\" === location.search &&\n              (location.hostname.endsWith(\".onesignal.com\") ||\n                location.hostname.endsWith(\".os.tc\") ||\n                (-1 !== location.hostname.indexOf(\".localhost\") &&\n                  g.getBuildEnv() === n.Development)))\n            ? s.a.OneSignalSubscriptionPopup\n            : s.a.Host\n          : \"/webPushIframe\" === location.pathname\n          ? s.a.OneSignalProxyFrame\n          : \"/webPushModal\" === location.pathname\n          ? s.a.OneSignalSubscriptionModal\n          : s.a.CustomIframe;\n      }\n      static getTestEnv() {\n        return o.a.None;\n      }\n      static getBuildEnvPrefix(e = g.getBuildEnv()) {\n        switch (e) {\n          case n.Development:\n            return \"Dev-\";\n          case n.Staging:\n            return \"Staging-\";\n          case n.Production:\n            return \"\";\n          default:\n            throw new InvalidArgumentError.a(\n              \"buildEnv\",\n              InvalidArgumentError.b.EnumOutOfRange\n            );\n        }\n      }\n      static getOneSignalApiUrl(e = g.getApiEnv()) {\n        switch (e) {\n          case n.Development:\n            return new URL(`https://localhost:${p}/api/v1`);\n          case n.Staging:\n            return new URL(`https://${window.location.host}/api/v1`);\n          case n.Production:\n            return new URL(\"https://onesignal.com/api/v1\");\n          default:\n            throw new InvalidArgumentError.a(\n              \"buildEnv\",\n              InvalidArgumentError.b.EnumOutOfRange\n            );\n        }\n      }\n      static getOneSignalResourceUrlPath(e = g.getBuildEnv()) {\n        let t;\n        const i = l;\n        switch (e) {\n          case n.Development:\n            t = `http://localhost:${i}`;\n            break;\n          case n.Staging:\n            t = `https://${window.location.host}`;\n            break;\n          case n.Production:\n            t = \"https://onesignal.com\";\n            break;\n          default:\n            throw new InvalidArgumentError.a(\n              \"buildEnv\",\n              InvalidArgumentError.b.EnumOutOfRange\n            );\n        }\n        return new URL(`${t}/sdks`);\n      }\n      static getOneSignalCssFileName(e = g.getBuildEnv()) {\n        switch (e) {\n          case n.Development:\n            return \"Dev-OneSignalSDKStyles.css\";\n          case n.Staging:\n            return \"Staging-OneSignalSDKStyles.css\";\n          case n.Production:\n            return \"OneSignalSDKStyles.css\";\n          default:\n            throw new InvalidArgumentError.a(\n              \"buildEnv\",\n              InvalidArgumentError.b.EnumOutOfRange\n            );\n        }\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n;\n    i.d(t, \"a\", function() {\n      return n;\n    }),\n      (function(e) {\n        (e.ServiceWorker = \"ServiceWorker\"),\n          (e.Host = \"Host\"),\n          (e.OneSignalSubscriptionPopup = \"Popup\"),\n          (e.OneSignalSubscriptionModal = \"Modal\"),\n          (e.OneSignalProxyFrame = \"ProxyFrame\"),\n          (e.CustomIframe = \"CustomFrame\"),\n          (e.Unknown = \"Unknown\");\n      })(n || (n = {}));\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n = i(0);\n    class r {\n      constructor() {\n        this._events = {};\n      }\n      on(e, t) {\n        return (\n          (this._events[e] = this._events[e] || []),\n          this._events[e].push(t),\n          this\n        );\n      }\n      once(e, t) {\n        const i = this;\n        function n() {\n          i.off(e, n), t.apply(this, arguments);\n        }\n        return (n.listener = t), this.on(e, n), this;\n      }\n      off(e, t) {\n        const i = this._events[e];\n        if (void 0 !== i) {\n          for (let e = 0; e < i.length; e += 1)\n            if (i[e] === t || i[e].listener === t) {\n              i.splice(e, 1);\n              break;\n            }\n          0 === i.length && this.removeAllListeners(e);\n        }\n        return this;\n      }\n      removeAllListeners(e) {\n        try {\n          e ? delete this._events[e] : (this._events = {});\n        } catch (e) {}\n        return this;\n      }\n      listeners(e) {\n        try {\n          return this._events[e];\n        } catch (e) {\n          return;\n        }\n      }\n      numberOfListeners(e) {\n        const t = this.listeners(e);\n        return t ? t.length : 0;\n      }\n      emit(...e) {\n        return n.a(this, void 0, void 0, function*() {\n          const t = e.shift();\n          let i = this._events[t];\n          if (void 0 !== i) {\n            const t = (i = i.slice(0)).length;\n            for (let n = 0; n < t; n += 1) yield i[n].apply(this, e);\n          }\n          return this;\n        });\n      }\n    }\n    var o = i(1),\n      s = i(2);\n    class a {\n      constructor(e) {\n        (this.databaseName = e), (this.emitter = new r());\n      }\n      open(e) {\n        return new Promise(t => {\n          try {\n            var i = indexedDB.open(e, 1);\n          } catch (e) {}\n          if (!i) return null;\n          (i.onerror = this.onDatabaseOpenError),\n            (i.onblocked = this.onDatabaseOpenBlocked),\n            (i.onupgradeneeded = this.onDatabaseUpgradeNeeded),\n            (i.onsuccess = () => {\n              (this.database = i.result),\n                (this.database.onerror = this.onDatabaseError),\n                (this.database.onversionchange = this.onDatabaseVersionChange),\n                t(this.database);\n            });\n        });\n      }\n      ensureDatabaseOpen() {\n        return n.a(this, void 0, void 0, function*() {\n          return (\n            this.openLock || (this.openLock = this.open(this.databaseName)),\n            yield this.openLock,\n            this.database\n          );\n        });\n      }\n      onDatabaseOpenError(e) {\n        e.preventDefault();\n        const t = e.target.error;\n        s.b.contains(\n          t.message,\n          \"The operation failed for reasons unrelated to the database itself and not covered by any other error code\"\n        ) ||\n        s.b.contains(\n          t.message,\n          \"A mutation operation was attempted on a database that did not allow mutations\"\n        )\n          ? o.a.warn(\n              \"OneSignal: IndexedDb web storage is not available on this origin since this profile's IndexedDb schema has been upgraded in a newer version of Firefox. See: https://bugzilla.mozilla.org/show_bug.cgi?id=1236557#c6\"\n            )\n          : o.a.warn(\"OneSignal: Fatal error opening IndexedDb database:\", t);\n      }\n      onDatabaseError(e) {\n        o.a.debug(\"IndexedDb: Generic database error\", e.target.errorCode);\n      }\n      onDatabaseOpenBlocked() {\n        o.a.debug(\"IndexedDb: Blocked event\");\n      }\n      onDatabaseVersionChange(e) {\n        o.a.debug(\"IndexedDb: versionchange event\");\n      }\n      onDatabaseUpgradeNeeded(e) {\n        o.a.debug(\n          \"IndexedDb: Database is being rebuilt or upgraded (upgradeneeded event).\"\n        );\n        const t = e.target.result;\n        t.createObjectStore(\"Ids\", { keyPath: \"type\" }),\n          t.createObjectStore(\"NotificationOpened\", { keyPath: \"url\" }),\n          t.createObjectStore(\"Options\", { keyPath: \"key\" }),\n          \"undefined\" != typeof OneSignal && (OneSignal._isNewVisitor = !0);\n      }\n      get(e, t) {\n        return n.a(this, void 0, void 0, function*() {\n          return (\n            yield this.ensureDatabaseOpen(),\n            t\n              ? yield new Promise((i, n) => {\n                  var r = this.database\n                    .transaction(e)\n                    .objectStore(e)\n                    .get(t);\n                  (r.onsuccess = () => {\n                    i(r.result);\n                  }),\n                    (r.onerror = () => {\n                      n(r.error);\n                    });\n                })\n              : yield new Promise((t, i) => {\n                  let n = {},\n                    r = this.database\n                      .transaction(e)\n                      .objectStore(e)\n                      .openCursor();\n                  (r.onsuccess = e => {\n                    var i = e.target.result;\n                    if (i) {\n                      let e = i.key;\n                      (n[e] = i.value), i.continue();\n                    } else t(n);\n                  }),\n                    (r.onerror = () => {\n                      i(r.error);\n                    });\n                })\n          );\n        });\n      }\n      put(e, t) {\n        return n.a(this, void 0, void 0, function*() {\n          return (\n            yield this.ensureDatabaseOpen(),\n            yield new Promise((i, n) => {\n              try {\n                let r = this.database\n                  .transaction([e], \"readwrite\")\n                  .objectStore(e)\n                  .put(t);\n                (r.onsuccess = () => {\n                  i(t);\n                }),\n                  (r.onerror = e => {\n                    o.a.error(\"Database PUT Transaction Error:\", e), n(e);\n                  });\n              } catch (e) {\n                o.a.error(\"Database PUT Error:\", e), n(e);\n              }\n            })\n          );\n        });\n      }\n      remove(e, t) {\n        if (t) var i = \"delete\";\n        else i = \"clear\";\n        return new Promise((n, r) => {\n          try {\n            let s = this.database\n              .transaction([e], \"readwrite\")\n              .objectStore(e)\n              [i](t);\n            (s.onsuccess = () => {\n              n(t);\n            }),\n              (s.onerror = e => {\n                o.a.error(\"Database REMOVE Transaction Error:\", e), r(e);\n              });\n          } catch (e) {\n            o.a.error(\"Database REMOVE Error:\", e), r(e);\n          }\n        });\n      }\n    }\n    class c {}\n    class d {}\n    class u {\n      serialize() {\n        return {\n          deviceId: this.deviceId,\n          subscriptionToken: this.subscriptionToken,\n          optedOut: this.optedOut,\n          createdAt: this.createdAt,\n          expirationTime: this.expirationTime\n        };\n      }\n      static deserialize(e) {\n        const t = new u();\n        return (\n          (t.deviceId = e.deviceId),\n          (t.subscriptionToken = e.subscriptionToken),\n          (t.optedOut = e.optedOut),\n          (t.createdAt = e.createdAt),\n          (t.expirationTime = e.expirationTime),\n          t\n        );\n      }\n    }\n    var l = i(25),\n      p = i(4);\n    class g {\n      constructor(e, t, i) {\n        (this.emailId = e), (this.emailAddress = t), (this.emailAuthHash = i);\n      }\n      serialize() {\n        return {\n          emailAddress: this.emailAddress,\n          emailAuthHash: this.emailAuthHash,\n          emailId: this.emailId\n        };\n      }\n      static deserialize(e) {\n        return new g(e.emailId, e.emailAddress, e.emailAuthHash);\n      }\n    }\n    var f,\n      h,\n      b = i(3),\n      m = i(8);\n    i.d(t, \"a\", function() {\n      return v;\n    }),\n      ((h = f || (f = {}))[(h.SET = 0)] = \"SET\");\n    class v {\n      constructor(e) {\n        (this.databaseName = e),\n          (this.emitter = new r()),\n          (this.database = new a(this.databaseName));\n      }\n      static resetInstance() {\n        v.databaseInstance = null;\n      }\n      static get singletonInstance() {\n        return (\n          v.databaseInstanceName ||\n            (v.databaseInstanceName = \"ONE_SIGNAL_SDK_DB\"),\n          v.databaseInstance ||\n            (v.databaseInstance = new v(v.databaseInstanceName)),\n          v.databaseInstance\n        );\n      }\n      static applyDbResultFilter(e, t, i) {\n        switch (e) {\n          case \"Options\":\n            return i && t ? i.value : i && !t ? i : null;\n          case \"Ids\":\n            return i && t ? i.id : i && !t ? i : null;\n          case \"NotificationOpened\":\n            return i && t\n              ? { data: i.data, timestamp: i.timestamp }\n              : i && !t\n              ? i\n              : null;\n          default:\n            return i || null;\n        }\n      }\n      get(e, t) {\n        return n.a(this, void 0, void 0, function*() {\n          if (\n            b.a.getWindowEnv() !== p.a.ServiceWorker &&\n            m.b.isUsingSubscriptionWorkaround() &&\n            b.a.getTestEnv() === l.a.None\n          )\n            return yield new Promise(i =>\n              n.a(this, void 0, void 0, function*() {\n                OneSignal.proxyFrameHost.message(\n                  OneSignal.POSTMAM_COMMANDS.REMOTE_DATABASE_GET,\n                  [{ table: e, key: t }],\n                  e => {\n                    let t = e.data[0];\n                    i(t);\n                  }\n                );\n              })\n            );\n          {\n            const i = yield this.database.get(e, t);\n            return v.applyDbResultFilter(e, t, i);\n          }\n        });\n      }\n      put(e, t) {\n        return n.a(this, void 0, void 0, function*() {\n          yield new Promise((i, r) =>\n            n.a(this, void 0, void 0, function*() {\n              b.a.getWindowEnv() !== p.a.ServiceWorker &&\n              m.b.isUsingSubscriptionWorkaround() &&\n              b.a.getTestEnv() === l.a.None\n                ? OneSignal.proxyFrameHost.message(\n                    OneSignal.POSTMAM_COMMANDS.REMOTE_DATABASE_PUT,\n                    [{ table: e, keypath: t }],\n                    n => {\n                      n.data ===\n                      OneSignal.POSTMAM_COMMANDS.REMOTE_OPERATION_COMPLETE\n                        ? i()\n                        : r(\n                            `(Database) Attempted remote IndexedDB put(${e}, ${t}), but did not get success response.`\n                          );\n                    }\n                  )\n                : (yield this.database.put(e, t), i());\n            })\n          ),\n            this.emitter.emit(v.EVENTS.SET, t);\n        });\n      }\n      remove(e, t) {\n        return b.a.getWindowEnv() !== p.a.ServiceWorker &&\n          m.b.isUsingSubscriptionWorkaround() &&\n          b.a.getTestEnv() === l.a.None\n          ? new Promise((i, n) => {\n              OneSignal.proxyFrameHost.message(\n                OneSignal.POSTMAM_COMMANDS.REMOTE_DATABASE_REMOVE,\n                [{ table: e, keypath: t }],\n                r => {\n                  r.data ===\n                  OneSignal.POSTMAM_COMMANDS.REMOTE_OPERATION_COMPLETE\n                    ? i()\n                    : n(\n                        `(Database) Attempted remote IndexedDB remove(${e}, ${t}), but did not get success response.`\n                      );\n                }\n              );\n            })\n          : this.database.remove(e, t);\n      }\n      getAppConfig() {\n        return n.a(this, void 0, void 0, function*() {\n          const e = {},\n            t = yield this.get(\"Ids\", \"appId\");\n          return (\n            (e.appId = t),\n            (e.subdomain = yield this.get(\"Options\", \"subdomain\")),\n            (e.vapidPublicKey = yield this.get(\"Options\", \"vapidPublicKey\")),\n            (e.emailAuthRequired = yield this.get(\n              \"Options\",\n              \"emailAuthRequired\"\n            )),\n            e\n          );\n        });\n      }\n      getExternalUserId() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield this.get(\"Ids\", \"externalUserId\");\n        });\n      }\n      setExternalUserId(e) {\n        return n.a(this, void 0, void 0, function*() {\n          const t = s.b.getValueOrDefault(e, \"\");\n          \"\" === t\n            ? yield this.remove(\"Ids\", \"externalUserId\")\n            : yield this.put(\"Ids\", { type: \"externalUserId\", id: t });\n        });\n      }\n      setAppConfig(e) {\n        return n.a(this, void 0, void 0, function*() {\n          e.appId && (yield this.put(\"Ids\", { type: \"appId\", id: e.appId })),\n            e.subdomain &&\n              (yield this.put(\"Options\", {\n                key: \"subdomain\",\n                value: e.subdomain\n              })),\n            !0 === e.httpUseOneSignalCom\n              ? yield this.put(\"Options\", {\n                  key: \"httpUseOneSignalCom\",\n                  value: !0\n                })\n              : !1 === e.httpUseOneSignalCom &&\n                (yield this.put(\"Options\", {\n                  key: \"httpUseOneSignalCom\",\n                  value: !1\n                })),\n            !0 === e.emailAuthRequired\n              ? yield this.put(\"Options\", {\n                  key: \"emailAuthRequired\",\n                  value: !0\n                })\n              : !1 === e.emailAuthRequired &&\n                (yield this.put(\"Options\", {\n                  key: \"emailAuthRequired\",\n                  value: !1\n                })),\n            e.vapidPublicKey &&\n              (yield this.put(\"Options\", {\n                key: \"vapidPublicKey\",\n                value: e.vapidPublicKey\n              }));\n        });\n      }\n      getAppState() {\n        return n.a(this, void 0, void 0, function*() {\n          const e = new c();\n          return (\n            (e.defaultNotificationUrl = yield this.get(\n              \"Options\",\n              \"defaultUrl\"\n            )),\n            (e.defaultNotificationTitle = yield this.get(\n              \"Options\",\n              \"defaultTitle\"\n            )),\n            (e.lastKnownPushEnabled = yield this.get(\n              \"Options\",\n              \"isPushEnabled\"\n            )),\n            (e.clickedNotifications = yield this.get(\"NotificationOpened\")),\n            e\n          );\n        });\n      }\n      setAppState(e) {\n        return n.a(this, void 0, void 0, function*() {\n          if (\n            (e.defaultNotificationUrl &&\n              (yield this.put(\"Options\", {\n                key: \"defaultUrl\",\n                value: e.defaultNotificationUrl\n              })),\n            (e.defaultNotificationTitle || \"\" === e.defaultNotificationTitle) &&\n              (yield this.put(\"Options\", {\n                key: \"defaultTitle\",\n                value: e.defaultNotificationTitle\n              })),\n            null != e.lastKnownPushEnabled &&\n              (yield this.put(\"Options\", {\n                key: \"isPushEnabled\",\n                value: e.lastKnownPushEnabled\n              })),\n            e.clickedNotifications)\n          ) {\n            const t = Object.keys(e.clickedNotifications);\n            for (let i of t) {\n              const t = e.clickedNotifications[i];\n              t\n                ? yield this.put(\"NotificationOpened\", {\n                    url: i,\n                    data: t.data,\n                    timestamp: t.timestamp\n                  })\n                : null === t && (yield this.remove(\"NotificationOpened\", i));\n            }\n          }\n        });\n      }\n      getServiceWorkerState() {\n        return n.a(this, void 0, void 0, function*() {\n          const e = new d();\n          return (\n            (e.workerVersion = yield this.get(\n              \"Ids\",\n              \"WORKER1_ONE_SIGNAL_SW_VERSION\"\n            )),\n            (e.updaterWorkerVersion = yield this.get(\n              \"Ids\",\n              \"WORKER2_ONE_SIGNAL_SW_VERSION\"\n            )),\n            e\n          );\n        });\n      }\n      setServiceWorkerState(e) {\n        return n.a(this, void 0, void 0, function*() {\n          e.workerVersion &&\n            (yield this.put(\"Ids\", {\n              type: \"WORKER1_ONE_SIGNAL_SW_VERSION\",\n              id: e.workerVersion\n            })),\n            e.updaterWorkerVersion &&\n              (yield this.put(\"Ids\", {\n                type: \"WORKER2_ONE_SIGNAL_SW_VERSION\",\n                id: e.updaterWorkerVersion\n              }));\n        });\n      }\n      getSubscription() {\n        return n.a(this, void 0, void 0, function*() {\n          const e = new u();\n          (e.deviceId = yield this.get(\"Ids\", \"userId\")),\n            (e.subscriptionToken = yield this.get(\"Ids\", \"registrationId\"));\n          const t = yield this.get(\"Options\", \"optedOut\"),\n            i = yield this.get(\"Options\", \"subscription\"),\n            n = yield this.get(\"Options\", \"subscriptionCreatedAt\"),\n            r = yield this.get(\"Options\", \"subscriptionExpirationTime\");\n          return (\n            (e.optedOut = null != t ? t : null != i && !i),\n            (e.createdAt = n),\n            (e.expirationTime = r),\n            e\n          );\n        });\n      }\n      setSubscription(e) {\n        return n.a(this, void 0, void 0, function*() {\n          e.deviceId &&\n            (yield this.put(\"Ids\", { type: \"userId\", id: e.deviceId })),\n            void 0 !== e.subscriptionToken &&\n              (yield this.put(\"Ids\", {\n                type: \"registrationId\",\n                id: e.subscriptionToken\n              })),\n            null != e.optedOut &&\n              (yield this.put(\"Options\", {\n                key: \"optedOut\",\n                value: e.optedOut\n              })),\n            null != e.createdAt &&\n              (yield this.put(\"Options\", {\n                key: \"subscriptionCreatedAt\",\n                value: e.createdAt\n              })),\n            null != e.expirationTime\n              ? yield this.put(\"Options\", {\n                  key: \"subscriptionExpirationTime\",\n                  value: e.expirationTime\n                })\n              : yield this.remove(\"Options\", \"subscriptionExpirationTime\");\n        });\n      }\n      getEmailProfile() {\n        return n.a(this, void 0, void 0, function*() {\n          const e = yield this.get(\"Ids\", \"emailProfile\");\n          return e ? g.deserialize(e) : new g();\n        });\n      }\n      setEmailProfile(e) {\n        return n.a(this, void 0, void 0, function*() {\n          e &&\n            (yield this.put(\"Ids\", {\n              type: \"emailProfile\",\n              id: e.serialize()\n            }));\n        });\n      }\n      setProvideUserConsent(e) {\n        return n.a(this, void 0, void 0, function*() {\n          yield this.put(\"Options\", { key: \"userConsent\", value: e });\n        });\n      }\n      getProvideUserConsent() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield this.get(\"Options\", \"userConsent\");\n        });\n      }\n      static rebuild() {\n        return n.a(this, void 0, void 0, function*() {\n          return Promise.all([\n            v.singletonInstance.remove(\"Ids\"),\n            v.singletonInstance.remove(\"NotificationOpened\"),\n            v.singletonInstance.remove(\"Options\")\n          ]);\n        });\n      }\n      static on(...e) {\n        return n.a(this, void 0, void 0, function*() {\n          return v.singletonInstance.emitter.on.apply(\n            v.singletonInstance.emitter,\n            e\n          );\n        });\n      }\n      static setEmailProfile(e) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.setEmailProfile(e);\n        });\n      }\n      static getEmailProfile() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.getEmailProfile();\n        });\n      }\n      static setSubscription(e) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.setSubscription(e);\n        });\n      }\n      static getSubscription() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.getSubscription();\n        });\n      }\n      static setProvideUserConsent(e) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.setProvideUserConsent(e);\n        });\n      }\n      static getProvideUserConsent() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.getProvideUserConsent();\n        });\n      }\n      static setServiceWorkerState(e) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.setServiceWorkerState(e);\n        });\n      }\n      static getServiceWorkerState() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.getServiceWorkerState();\n        });\n      }\n      static setAppState(e) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.setAppState(e);\n        });\n      }\n      static getAppState() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.getAppState();\n        });\n      }\n      static setAppConfig(e) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.setAppConfig(e);\n        });\n      }\n      static getAppConfig() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.getAppConfig();\n        });\n      }\n      static getExternalUserId() {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.getExternalUserId();\n        });\n      }\n      static setExternalUserId(e) {\n        return n.a(this, void 0, void 0, function*() {\n          yield v.singletonInstance.setExternalUserId(e);\n        });\n      }\n      static remove(e, t) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.remove(e, t);\n        });\n      }\n      static put(e, t) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.put(e, t);\n        });\n      }\n      static get(e, t) {\n        return n.a(this, void 0, void 0, function*() {\n          return yield v.singletonInstance.get(e, t);\n        });\n      }\n    }\n    v.EVENTS = f;\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"b\", function() {\n      return c;\n    }),\n      i.d(t, \"a\", function() {\n        return n;\n      });\n    var n,\n      r = i(0),\n      o = i(1),\n      s = i(16),\n      a = i(8);\n    class c {\n      static getRegistration() {\n        return r.a(this, void 0, void 0, function*() {\n          try {\n            return yield navigator.serviceWorker.getRegistration(location.href);\n          } catch (e) {\n            return (\n              o.a.warn(\n                \"[Service Worker Status] Error Checking service worker registration\",\n                location.href,\n                e\n              ),\n              null\n            );\n          }\n        });\n      }\n      static getServiceWorkerHref(e, t) {\n        let i = \"\";\n        if (e === n.WorkerA) i = t.workerBPath.getFullPath();\n        else if (e === n.WorkerB || e === n.ThirdParty || e === n.None)\n          i = t.workerAPath.getFullPath();\n        else if (e === n.Bypassed) throw new s.a(s.b.UnsupportedEnvironment);\n        return new URL(i, a.a.getBaseUrl()).href;\n      }\n    }\n    !(function(e) {\n      (e.WorkerA = \"Worker A (Main)\"),\n        (e.WorkerB = \"Worker B (Updater)\"),\n        (e.ThirdParty = \"3rd Party\"),\n        (e.Installing = \"Installing\"),\n        (e.None = \"None\"),\n        (e.Bypassed = \"Bypassed\"),\n        (e.Indeterminate = \"Indeterminate\");\n    })(n || (n = {}));\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"b\", function() {\n      return n;\n    }),\n      i.d(t, \"a\", function() {\n        return p;\n      });\n    var n,\n      r = i(0),\n      o = i(14),\n      s = i(3),\n      a = i(6),\n      c = i(4),\n      d = i(10),\n      u = i(1);\n    !(function(e) {\n      (e.WorkerVersion = \"GetWorkerVersion\"),\n        (e.Subscribe = \"Subscribe\"),\n        (e.SubscribeNew = \"SubscribeNew\"),\n        (e.AmpSubscriptionState = \"amp-web-push-subscription-state\"),\n        (e.AmpSubscribe = \"amp-web-push-subscribe\"),\n        (e.AmpUnsubscribe = \"amp-web-push-unsubscribe\"),\n        (e.NotificationDisplayed = \"notification.displayed\"),\n        (e.NotificationClicked = \"notification.clicked\"),\n        (e.NotificationDismissed = \"notification.dismissed\"),\n        (e.RedirectPage = \"command.redirect\");\n    })(n || (n = {}));\n    class l {\n      constructor() {\n        this.replies = {};\n      }\n      addListener(e, t, i) {\n        const n = { callback: t, onceListenerOnly: i },\n          r = this.replies[e.toString()];\n        r ? r.push(n) : (this.replies[e.toString()] = [n]);\n      }\n      findListenersForMessage(e) {\n        return this.replies[e.toString()] || [];\n      }\n      deleteListenerRecords(e) {\n        this.replies[e.toString()] = null;\n      }\n      deleteAllListenerRecords() {\n        this.replies = {};\n      }\n      deleteListenerRecord(e, t) {\n        const i = this.replies[e.toString()];\n        if (null != i)\n          for (let e = i.length - 1; e >= 0; e--) {\n            i[e] === t && i.splice(e, 1);\n          }\n      }\n    }\n    class p {\n      constructor(e, t = new l()) {\n        (this.context = e), (this.replies = t);\n      }\n      broadcast(e, t) {\n        return r.a(this, void 0, void 0, function*() {\n          if (s.a.getWindowEnv() !== c.a.ServiceWorker) return;\n          const i = yield self.clients.matchAll({\n            type: \"window\",\n            includeUncontrolled: !0\n          });\n          for (const n of i)\n            u.a.debug(\n              `[Worker Messenger] [SW -> Page] Broadcasting '${e.toString()}' to window client ${\n                n.url\n              }.`\n            ),\n              n.postMessage({ command: e, payload: t });\n        });\n      }\n      unicast(e, t, i) {\n        return r.a(this, void 0, void 0, function*() {\n          if (s.a.getWindowEnv() === c.a.ServiceWorker) {\n            if (!i) throw new o.a(\"windowClient\", o.b.Empty);\n            u.a.debug(\n              `[Worker Messenger] [SW -> Page] Unicasting '${e.toString()}' to window client ${\n                i.url\n              }.`\n            ),\n              i.postMessage({ command: e, payload: t });\n          } else (yield this.isWorkerControllingPage()) || u.a.debug(\"[Worker Messenger] The page is not controlled by the service worker yet. Waiting...\", self.registration), yield this.waitUntilWorkerControlsPage(), u.a.debug(`[Worker Messenger] [Page -> SW] Unicasting '${e.toString()}' to service worker.`), navigator.serviceWorker.controller.postMessage({ command: e, payload: t });\n        });\n      }\n      listen(e) {\n        return r.a(this, void 0, void 0, function*() {\n          if (!d.a.supportsServiceWorkers()) return;\n          s.a.getWindowEnv() === c.a.ServiceWorker\n            ? (self.addEventListener(\n                \"message\",\n                this.onWorkerMessageReceivedFromPage.bind(this)\n              ),\n              u.a.debug(\n                \"[Worker Messenger] Service worker is now listening for messages.\"\n              ))\n            : yield this.listenForPage(e);\n        });\n      }\n      listenForPage(e) {\n        return r.a(this, void 0, void 0, function*() {\n          e ||\n            ((yield this.isWorkerControllingPage()) ||\n              u.a.debug(\n                `(${location.origin}) [Worker Messenger] The page is not controlled by the service worker yet. Waiting...`,\n                self.registration\n              ),\n            yield this.waitUntilWorkerControlsPage(),\n            u.a.debug(\n              `(${location.origin}) [Worker Messenger] The page is now controlled by the service worker.`\n            )),\n            navigator.serviceWorker.addEventListener(\n              \"message\",\n              this.onPageMessageReceivedFromServiceWorker.bind(this)\n            ),\n            u.a.debug(\n              `(${location.origin}) [Worker Messenger] Page is now listening for messages.`\n            );\n        });\n      }\n      onWorkerMessageReceivedFromPage(e) {\n        const t = e.data;\n        if (!t || !t.command) return;\n        const i = this.replies.findListenersForMessage(t.command),\n          n = [],\n          r = [];\n        u.a.debug(\n          \"[Worker Messenger] Service worker received message:\",\n          e.data\n        );\n        for (let e of i) e.onceListenerOnly && n.push(e), r.push(e);\n        for (let e = n.length - 1; e >= 0; e--) {\n          const i = n[e];\n          this.replies.deleteListenerRecord(t.command, i);\n        }\n        for (let e of r) e.callback.apply(null, [t.payload]);\n      }\n      onPageMessageReceivedFromServiceWorker(e) {\n        const t = e.data;\n        if (!t || !t.command) return;\n        const i = this.replies.findListenersForMessage(t.command),\n          n = [],\n          r = [];\n        u.a.debug(\"[Worker Messenger] Page received message:\", e.data);\n        for (let e of i) e.onceListenerOnly && n.push(e), r.push(e);\n        for (let e = n.length - 1; e >= 0; e--) {\n          const i = n[e];\n          this.replies.deleteListenerRecord(t.command, i);\n        }\n        for (let e of r) e.callback.apply(null, [t.payload]);\n      }\n      on(e, t) {\n        this.replies.addListener(e, t, !1);\n      }\n      once(e, t) {\n        this.replies.addListener(e, t, !0);\n      }\n      off(e) {\n        e\n          ? this.replies.deleteListenerRecords(e)\n          : this.replies.deleteAllListenerRecords();\n      }\n      isWorkerControllingPage() {\n        return r.a(this, void 0, void 0, function*() {\n          if (s.a.getWindowEnv() === c.a.ServiceWorker)\n            return !!self.registration.active;\n          {\n            const e = yield this.context.serviceWorkerManager.getActiveState();\n            return e === a.a.WorkerA || e === a.a.WorkerB;\n          }\n        });\n      }\n      waitUntilWorkerControlsPage() {\n        return r.a(this, void 0, void 0, function*() {\n          return new Promise(e =>\n            r.a(this, void 0, void 0, function*() {\n              if (yield this.isWorkerControllingPage()) e();\n              else {\n                s.a.getWindowEnv() === c.a.ServiceWorker\n                  ? self.addEventListener(\"activate\", t =>\n                      r.a(this, void 0, void 0, function*() {\n                        (yield this.isWorkerControllingPage()) && e();\n                      })\n                    )\n                  : navigator.serviceWorker.addEventListener(\n                      \"controllerchange\",\n                      t =>\n                        r.a(this, void 0, void 0, function*() {\n                          (yield this.isWorkerControllingPage()) && e();\n                        })\n                    );\n              }\n            })\n          );\n        });\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    (function(e) {\n      i.d(t, \"a\", function() {\n        return d;\n      });\n      var n = i(11),\n        r = i.n(n),\n        o = i(3),\n        s = i(4),\n        a = i(1),\n        c = i(2);\n      class d {\n        static getBaseUrl() {\n          return location.origin;\n        }\n        static isLocalhostAllowedAsSecureOrigin() {\n          return (\n            OneSignal.config &&\n            OneSignal.config.userConfig &&\n            !0 === OneSignal.config.userConfig.allowLocalhostAsSecureOrigin\n          );\n        }\n        static isUsingSubscriptionWorkaround() {\n          const e = o.a.getWindowEnv();\n          if (!OneSignal.config)\n            throw new Error(\n              `(${e.toString()}) isUsingSubscriptionWorkaround() cannot be called until OneSignal.config exists.`\n            );\n          if (r.a.safari) return !1;\n          const t = this.isLocalhostAllowedAsSecureOrigin();\n          return d.internalIsUsingSubscriptionWorkaround(\n            OneSignal.config.subdomain,\n            t\n          );\n        }\n        static internalIsUsingSubscriptionWorkaround(e, t) {\n          if (r.a.safari) return !1;\n          if (\n            !0 === t &&\n            (\"localhost\" === location.hostname ||\n              \"127.0.0.1\" === location.hostname)\n          )\n            return !1;\n          const i = o.a.getWindowEnv();\n          return !(\n            (i !== s.a.Host && i !== s.a.CustomIframe) ||\n            (!e && \"http:\" !== location.protocol)\n          );\n        }\n        static redetectBrowserUserAgent() {\n          return \"\" === r.a.name && \"\" === r.a.version\n            ? r.a._detect(navigator.userAgent)\n            : r.a;\n        }\n        static isValidUuid(e) {\n          return /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/.test(\n            e\n          );\n        }\n        static getRandomUuid() {\n          let t = \"\";\n          const i =\n            \"undefined\" == typeof window\n              ? e.crypto\n              : window.crypto || window.msCrypto;\n          return (t = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(\n            /[xy]/g,\n            i\n              ? function(e) {\n                  var t = i.getRandomValues(new Uint8Array(1))[0] % 16 | 0;\n                  return (\"x\" == e ? t : (3 & t) | 8).toString(16);\n                }\n              : function(e) {\n                  var t = (16 * Math.random()) | 0;\n                  return (\"x\" == e ? t : (3 & t) | 8).toString(16);\n                }\n          ));\n        }\n        static logMethodCall(e, ...t) {\n          return a.a.debug(\n            `Called %c${e}(${t.map(c.a.stringify).join(\", \")})`,\n            c.a.getConsoleStyle(\"code\"),\n            \".\"\n          );\n        }\n      }\n      t.b = d;\n    }.call(this, i(32)));\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n;\n    i.d(t, \"a\", function() {\n      return n;\n    }),\n      (function(e) {\n        (e[(e.Default = 0)] = \"Default\"),\n          (e[(e.Subscribed = 1)] = \"Subscribed\"),\n          (e[(e.MutedByApi = -2)] = \"MutedByApi\"),\n          (e[(e.NotSubscribed = -10)] = \"NotSubscribed\"),\n          (e[(e.TemporaryWebRecord = -20)] = \"TemporaryWebRecord\"),\n          (e[(e.PermissionRevoked = -21)] = \"PermissionRevoked\"),\n          (e[(e.PushSubscriptionRevoked = -22)] = \"PushSubscriptionRevoked\"),\n          (e[(e.ServiceWorkerStatus403 = -23)] = \"ServiceWorkerStatus403\"),\n          (e[(e.ServiceWorkerStatus404 = -24)] = \"ServiceWorkerStatus404\");\n      })(n || (n = {}));\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return a;\n    });\n    var n = i(3),\n      r = i(4),\n      o = i(11),\n      s = i.n(o);\n    class a {\n      static isBrowser() {\n        return \"undefined\" != typeof window;\n      }\n      static isSafari() {\n        return a.isBrowser() && s.a.safari;\n      }\n      static version() {\n        return Number(150801);\n      }\n      static get TRADITIONAL_CHINESE_LANGUAGE_TAG() {\n        return [\"tw\", \"hant\"];\n      }\n      static get SIMPLIFIED_CHINESE_LANGUAGE_TAG() {\n        return [\"cn\", \"hans\"];\n      }\n      static getLanguage() {\n        let e = navigator.language;\n        if (e) {\n          let t = (e = e.toLowerCase()).split(\"-\");\n          if (\"zh\" == t[0]) {\n            for (let e of a.TRADITIONAL_CHINESE_LANGUAGE_TAG)\n              if (-1 !== t.indexOf(e)) return \"zh-Hant\";\n            for (let e of a.SIMPLIFIED_CHINESE_LANGUAGE_TAG)\n              if (-1 !== t.indexOf(e)) return \"zh-Hans\";\n            return \"zh-Hant\";\n          }\n          return t[0].substring(0, 2);\n        }\n        return \"en\";\n      }\n      static supportsServiceWorkers() {\n        switch (n.a.getWindowEnv()) {\n          case r.a.ServiceWorker:\n            return !0;\n          default:\n            return (\n              \"undefined\" != typeof navigator && \"serviceWorker\" in navigator\n            );\n        }\n      }\n      static getSdkStylesVersionHash() {\n        return \"undefined\" == typeof __SRC_STYLESHEETS_MD5_HASH__\n          ? \"1\"\n          : __SRC_STYLESHEETS_MD5_HASH__;\n      }\n    }\n  },\n  function(e, t, i) {\n    var n;\n    (n = function() {\n      var e = !0;\n      function t(t) {\n        function i(e) {\n          var i = t.match(e);\n          return (i && i.length > 1 && i[1]) || \"\";\n        }\n        var n,\n          r,\n          o,\n          s = i(/(ipod|iphone|ipad)/i).toLowerCase(),\n          a = !/like android/i.test(t) && /android/i.test(t),\n          c = /nexus\\s*[0-6]\\s*/i.test(t),\n          d = !c && /nexus\\s*[0-9]+/i.test(t),\n          u = /CrOS/.test(t),\n          l = /silk/i.test(t),\n          p = /sailfish/i.test(t),\n          g = /tizen/i.test(t),\n          f = /(web|hpw)os/i.test(t),\n          h = /windows phone/i.test(t),\n          b = (/SamsungBrowser/i.test(t), !h && /windows/i.test(t)),\n          m = !s && !l && /macintosh/i.test(t),\n          v = !a && !p && !g && !f && /linux/i.test(t),\n          S = i(/edge\\/(\\d+(\\.\\d+)?)/i),\n          y = i(/version\\/(\\d+(\\.\\d+)?)/i),\n          w = /tablet/i.test(t) && !/tablet pc/i.test(t),\n          P = !w && /[^-]mobi/i.test(t),\n          O = /xbox/i.test(t);\n        /opera/i.test(t)\n          ? (n = {\n              name: \"Opera\",\n              opera: e,\n              version: y || i(/(?:opera|opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i)\n            })\n          : /opr\\/|opios/i.test(t)\n          ? (n = {\n              name: \"Opera\",\n              opera: e,\n              version: i(/(?:opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i) || y\n            })\n          : /SamsungBrowser/i.test(t)\n          ? (n = {\n              name: \"Samsung Internet for Android\",\n              samsungBrowser: e,\n              version: y || i(/(?:SamsungBrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n            })\n          : /coast/i.test(t)\n          ? (n = {\n              name: \"Opera Coast\",\n              coast: e,\n              version: y || i(/(?:coast)[\\s\\/](\\d+(\\.\\d+)?)/i)\n            })\n          : /yabrowser/i.test(t)\n          ? (n = {\n              name: \"Yandex Browser\",\n              yandexbrowser: e,\n              version: y || i(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n            })\n          : /ucbrowser/i.test(t)\n          ? (n = {\n              name: \"UC Browser\",\n              ucbrowser: e,\n              version: i(/(?:ucbrowser)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n            })\n          : /mxios/i.test(t)\n          ? (n = {\n              name: \"Maxthon\",\n              maxthon: e,\n              version: i(/(?:mxios)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n            })\n          : /epiphany/i.test(t)\n          ? (n = {\n              name: \"Epiphany\",\n              epiphany: e,\n              version: i(/(?:epiphany)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n            })\n          : /puffin/i.test(t)\n          ? (n = {\n              name: \"Puffin\",\n              puffin: e,\n              version: i(/(?:puffin)[\\s\\/](\\d+(?:\\.\\d+)?)/i)\n            })\n          : /sleipnir/i.test(t)\n          ? (n = {\n              name: \"Sleipnir\",\n              sleipnir: e,\n              version: i(/(?:sleipnir)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n            })\n          : /k-meleon/i.test(t)\n          ? (n = {\n              name: \"K-Meleon\",\n              kMeleon: e,\n              version: i(/(?:k-meleon)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n            })\n          : h\n          ? ((n = { name: \"Windows Phone\", windowsphone: e }),\n            S\n              ? ((n.msedge = e), (n.version = S))\n              : ((n.msie = e), (n.version = i(/iemobile\\/(\\d+(\\.\\d+)?)/i))))\n          : /msie|trident/i.test(t)\n          ? (n = {\n              name: \"Internet Explorer\",\n              msie: e,\n              version: i(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i)\n            })\n          : u\n          ? (n = {\n              name: \"Chrome\",\n              chromeos: e,\n              chromeBook: e,\n              chrome: e,\n              version: i(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : /chrome.+? edge/i.test(t)\n          ? (n = { name: \"Microsoft Edge\", msedge: e, version: S })\n          : /vivaldi/i.test(t)\n          ? (n = {\n              name: \"Vivaldi\",\n              vivaldi: e,\n              version: i(/vivaldi\\/(\\d+(\\.\\d+)?)/i) || y\n            })\n          : p\n          ? (n = {\n              name: \"Sailfish\",\n              sailfish: e,\n              version: i(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : /seamonkey\\//i.test(t)\n          ? (n = {\n              name: \"SeaMonkey\",\n              seamonkey: e,\n              version: i(/seamonkey\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : /firefox|iceweasel|fxios/i.test(t)\n          ? ((n = {\n              name: \"Firefox\",\n              firefox: e,\n              version: i(/(?:firefox|iceweasel|fxios)[ \\/](\\d+(\\.\\d+)?)/i)\n            }),\n            /\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(t) &&\n              (n.firefoxos = e))\n          : l\n          ? (n = {\n              name: \"Amazon Silk\",\n              silk: e,\n              version: i(/silk\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : /phantom/i.test(t)\n          ? (n = {\n              name: \"PhantomJS\",\n              phantom: e,\n              version: i(/phantomjs\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : /slimerjs/i.test(t)\n          ? (n = {\n              name: \"SlimerJS\",\n              slimer: e,\n              version: i(/slimerjs\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : /blackberry|\\bbb\\d+/i.test(t) || /rim\\stablet/i.test(t)\n          ? (n = {\n              name: \"BlackBerry\",\n              blackberry: e,\n              version: y || i(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : f\n          ? ((n = {\n              name: \"WebOS\",\n              webos: e,\n              version: y || i(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)\n            }),\n            /touchpad\\//i.test(t) && (n.touchpad = e))\n          : /bada/i.test(t)\n          ? (n = {\n              name: \"Bada\",\n              bada: e,\n              version: i(/dolfin\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : g\n          ? (n = {\n              name: \"Tizen\",\n              tizen: e,\n              version: i(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i) || y\n            })\n          : /qupzilla/i.test(t)\n          ? (n = {\n              name: \"QupZilla\",\n              qupzilla: e,\n              version: i(/(?:qupzilla)[\\s\\/](\\d+(?:\\.\\d+)+)/i) || y\n            })\n          : /chromium/i.test(t)\n          ? (n = {\n              name: \"Chromium\",\n              chromium: e,\n              version: i(/(?:chromium)[\\s\\/](\\d+(?:\\.\\d+)?)/i) || y\n            })\n          : /chrome|crios|crmo/i.test(t)\n          ? (n = {\n              name: \"Chrome\",\n              chrome: e,\n              version: i(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n            })\n          : a\n          ? (n = { name: \"Android\", version: y })\n          : /safari|applewebkit/i.test(t)\n          ? ((n = { name: \"Safari\", safari: e }), y && (n.version = y))\n          : s\n          ? ((n = {\n              name: \"iphone\" == s ? \"iPhone\" : \"ipad\" == s ? \"iPad\" : \"iPod\"\n            }),\n            y && (n.version = y))\n          : (n = /googlebot/i.test(t)\n              ? {\n                  name: \"Googlebot\",\n                  googlebot: e,\n                  version: i(/googlebot\\/(\\d+(\\.\\d+))/i) || y\n                }\n              : {\n                  name: i(/^(.*)\\/(.*) /),\n                  version:\n                    ((r = /^(.*)\\/(.*) /),\n                    (o = t.match(r)),\n                    (o && o.length > 1 && o[2]) || \"\")\n                }),\n          !n.msedge && /(apple)?webkit/i.test(t)\n            ? (/(apple)?webkit\\/537\\.36/i.test(t)\n                ? ((n.name = n.name || \"Blink\"), (n.blink = e))\n                : ((n.name = n.name || \"Webkit\"), (n.webkit = e)),\n              !n.version && y && (n.version = y))\n            : !n.opera &&\n              /gecko\\//i.test(t) &&\n              ((n.name = n.name || \"Gecko\"),\n              (n.gecko = e),\n              (n.version = n.version || i(/gecko\\/(\\d+(\\.\\d+)?)/i))),\n          n.windowsphone || n.msedge || (!a && !n.silk)\n            ? n.windowsphone || n.msedge || !s\n              ? m\n                ? (n.mac = e)\n                : O\n                ? (n.xbox = e)\n                : b\n                ? (n.windows = e)\n                : v && (n.linux = e)\n              : ((n[s] = e), (n.ios = e))\n            : (n.android = e);\n        var k = \"\";\n        n.windows\n          ? (k = (function(e) {\n              switch (e) {\n                case \"NT\":\n                  return \"NT\";\n                case \"XP\":\n                  return \"XP\";\n                case \"NT 5.0\":\n                  return \"2000\";\n                case \"NT 5.1\":\n                  return \"XP\";\n                case \"NT 5.2\":\n                  return \"2003\";\n                case \"NT 6.0\":\n                  return \"Vista\";\n                case \"NT 6.1\":\n                  return \"7\";\n                case \"NT 6.2\":\n                  return \"8\";\n                case \"NT 6.3\":\n                  return \"8.1\";\n                case \"NT 10.0\":\n                  return \"10\";\n                default:\n                  return;\n              }\n            })(i(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i)))\n          : n.windowsphone\n          ? (k = i(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i))\n          : n.mac\n          ? (k = (k = i(/Mac OS X (\\d+([_\\.\\s]\\d+)*)/i)).replace(/[_\\s]/g, \".\"))\n          : s\n          ? (k = (k = i(/os (\\d+([_\\s]\\d+)*) like mac os x/i)).replace(\n              /[_\\s]/g,\n              \".\"\n            ))\n          : a\n          ? (k = i(/android[ \\/-](\\d+(\\.\\d+)*)/i))\n          : n.webos\n          ? (k = i(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i))\n          : n.blackberry\n          ? (k = i(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i))\n          : n.bada\n          ? (k = i(/bada\\/(\\d+(\\.\\d+)*)/i))\n          : n.tizen && (k = i(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i)),\n          k && (n.osversion = k);\n        var I = !n.windows && k.split(\".\")[0];\n        return (\n          w || d || \"ipad\" == s || (a && (3 == I || (I >= 4 && !P))) || n.silk\n            ? (n.tablet = e)\n            : (P ||\n                \"iphone\" == s ||\n                \"ipod\" == s ||\n                a ||\n                c ||\n                n.blackberry ||\n                n.webos ||\n                n.bada) &&\n              (n.mobile = e),\n          n.msedge ||\n          (n.msie && n.version >= 10) ||\n          (n.yandexbrowser && n.version >= 15) ||\n          (n.vivaldi && n.version >= 1) ||\n          (n.chrome && n.version >= 20) ||\n          (n.samsungBrowser && n.version >= 4) ||\n          (n.firefox && n.version >= 20) ||\n          (n.safari && n.version >= 6) ||\n          (n.opera && n.version >= 10) ||\n          (n.ios && n.osversion && n.osversion.split(\".\")[0] >= 6) ||\n          (n.blackberry && n.version >= 10.1) ||\n          (n.chromium && n.version >= 20)\n            ? (n.a = e)\n            : (n.msie && n.version < 10) ||\n              (n.chrome && n.version < 20) ||\n              (n.firefox && n.version < 20) ||\n              (n.safari && n.version < 6) ||\n              (n.opera && n.version < 10) ||\n              (n.ios && n.osversion && n.osversion.split(\".\")[0] < 6) ||\n              (n.chromium && n.version < 20)\n            ? (n.c = e)\n            : (n.x = e),\n          n\n        );\n      }\n      var i = t((\"undefined\" != typeof navigator && navigator.userAgent) || \"\");\n      function n(e) {\n        return e.split(\".\").length;\n      }\n      function r(e, t) {\n        var i,\n          n = [];\n        if (Array.prototype.map) return Array.prototype.map.call(e, t);\n        for (i = 0; i < e.length; i++) n.push(t(e[i]));\n        return n;\n      }\n      function o(e) {\n        for (\n          var t = Math.max(n(e[0]), n(e[1])),\n            i = r(e, function(e) {\n              var i = t - n(e);\n              return r((e += new Array(i + 1).join(\".0\")).split(\".\"), function(\n                e\n              ) {\n                return new Array(20 - e.length).join(\"0\") + e;\n              }).reverse();\n            });\n          --t >= 0;\n\n        ) {\n          if (i[0][t] > i[1][t]) return 1;\n          if (i[0][t] !== i[1][t]) return -1;\n          if (0 === t) return 0;\n        }\n      }\n      function s(e, n, r) {\n        var s = i;\n        \"string\" == typeof n && ((r = n), (n = void 0)),\n          void 0 === n && (n = !1),\n          r && (s = t(r));\n        var a = \"\" + s.version;\n        for (var c in e)\n          if (e.hasOwnProperty(c) && s[c]) {\n            if (\"string\" != typeof e[c])\n              throw new Error(\n                \"Browser version in the minVersion map should be a string: \" +\n                  c +\n                  \": \" +\n                  String(e)\n              );\n            return o([a, e[c]]) < 0;\n          }\n        return n;\n      }\n      return (\n        (i.test = function(e) {\n          for (var t = 0; t < e.length; ++t) {\n            var n = e[t];\n            if (\"string\" == typeof n && n in i) return !0;\n          }\n          return !1;\n        }),\n        (i.isUnsupportedBrowser = s),\n        (i.compareVersions = o),\n        (i.check = function(e, t, i) {\n          return !s(e, t, i);\n        }),\n        (i._detect = t),\n        i\n      );\n    }),\n      void 0 !== e && e.exports ? (e.exports = n()) : i(34)(\"bowser\", n);\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n;\n    i.d(t, \"a\", function() {\n      return n;\n    }),\n      (function(e) {\n        (e.Default = \"default\"), (e.Granted = \"granted\"), (e.Denied = \"denied\");\n      })(n || (n = {}));\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return n;\n    });\n    class n extends Error {\n      constructor(e = \"\") {\n        super(e),\n          Object.defineProperty(this, \"message\", {\n            configurable: !0,\n            enumerable: !1,\n            value: e,\n            writable: !0\n          }),\n          Object.defineProperty(this, \"name\", {\n            configurable: !0,\n            enumerable: !1,\n            value: this.constructor.name,\n            writable: !0\n          }),\n          Error.hasOwnProperty(\"captureStackTrace\")\n            ? Error.captureStackTrace(this, this.constructor)\n            : (Object.defineProperty(this, \"stack\", {\n                configurable: !0,\n                enumerable: !1,\n                value: new Error(e).stack,\n                writable: !0\n              }),\n              Object.setPrototypeOf(this, n.prototype));\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"b\", function() {\n      return n;\n    }),\n      i.d(t, \"a\", function() {\n        return InvalidArgumentError;\n      });\n    var n,\n      r = i(13);\n    !(function(e) {\n      (e[(e.Empty = 0)] = \"Empty\"),\n        (e[(e.Malformed = 1)] = \"Malformed\"),\n        (e[(e.EnumOutOfRange = 2)] = \"EnumOutOfRange\");\n    })(n || (n = {}));\n    class InvalidArgumentError extends r.a {\n      constructor(e, t) {\n        switch (t) {\n          case n.Empty:\n            super(`Supply a non-empty value to '${e}'.`);\n            break;\n          case n.Malformed:\n            super(`The value for '${e}' was malformed.`);\n            break;\n          case n.EnumOutOfRange:\n            super(\n              `The value for '${e}' was out of range of the expected input enum.`\n            );\n        }\n        (this.argument = e),\n          (this.reason = n[t]),\n          Object.setPrototypeOf(this, InvalidArgumentError.prototype);\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n;\n    i.d(t, \"a\", function() {\n      return n;\n    }),\n      (function(e) {\n        (e.Secure = \"Secure\"),\n          (e.SecureProxy = \"Secure Proxy\"),\n          (e.InsecureProxy = \"Insecure Proxy\");\n      })(n || (n = {}));\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n,\n      r,\n      o,\n      s = i(13);\n    !(function(e) {\n      (e[(e.HttpsPermissionRequest = \"HTTPS permission request\")] =\n        \"HttpsPermissionRequest\"),\n        (e[\n          (e.FullscreenHttpPermissionMessage =\n            \"fullscreen HTTP permission message\")\n        ] = \"FullscreenHttpPermissionMessage\"),\n        (e[\n          (e.FullscreenHttpsPermissionMessage =\n            \"fullscreen HTTPS permission message\")\n        ] = \"FullscreenHttpsPermissionMessage\"),\n        (e[(e.SlidedownPermissionMessage = \"slidedown permission message\")] =\n          \"SlidedownPermissionMessage\"),\n        (e[(e.SubscriptionBell = \"subscription bell\")] = \"SubscriptionBell\");\n    })(n || (n = {})),\n      i.d(t, \"b\", function() {\n        return r;\n      }),\n      i.d(t, \"a\", function() {\n        return a;\n      }),\n      ((o = r || (r = {}))[(o.MissingAppId = 0)] = \"MissingAppId\"),\n      (o[(o.RedundantPermissionMessage = 1)] = \"RedundantPermissionMessage\"),\n      (o[(o.PushPermissionAlreadyGranted = 2)] =\n        \"PushPermissionAlreadyGranted\"),\n      (o[(o.UnsupportedEnvironment = 3)] = \"UnsupportedEnvironment\"),\n      (o[(o.MissingDomElement = 4)] = \"MissingDomElement\"),\n      (o[(o.ServiceWorkerNotActivated = 5)] = \"ServiceWorkerNotActivated\"),\n      (o[(o.NoProxyFrame = 6)] = \"NoProxyFrame\");\n    class a extends s.a {\n      constructor(e, t) {\n        switch (e) {\n          case r.MissingAppId:\n            super(\"Missing required app ID.\");\n            break;\n          case r.RedundantPermissionMessage:\n            let i = \"\";\n            t &&\n              t.permissionPromptType &&\n              (i = `(${n[t.permissionPromptType]})`),\n              super(`Another permission message ${i} is being displayed.`);\n            break;\n          case r.PushPermissionAlreadyGranted:\n            super(\"Push permission has already been granted.\");\n            break;\n          case r.UnsupportedEnvironment:\n            super(\"The current environment does not support this operation.\");\n            break;\n          case r.ServiceWorkerNotActivated:\n            super(\"The service worker must be activated first.\");\n            break;\n          case r.NoProxyFrame:\n            super(\"No proxy frame.\");\n        }\n        (this.description = r[e]),\n          (this.reason = e),\n          Object.setPrototypeOf(this, a.prototype);\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return a;\n    });\n    var n = i(10),\n      r = i(3),\n      o = i(2),\n      s = i(22);\n    class a {\n      static get(e, t, i) {\n        return a.call(\"GET\", e, t, i);\n      }\n      static post(e, t, i) {\n        return a.call(\"POST\", e, t, i);\n      }\n      static put(e, t, i) {\n        return a.call(\"PUT\", e, t, i);\n      }\n      static delete(e, t, i) {\n        return a.call(\"DELETE\", e, t, i);\n      }\n      static call(e, t, i, o) {\n        if (\"GET\" === e) {\n          if (t.indexOf(\"players\") > -1 && -1 === t.indexOf(\"app_id=\"))\n            return (\n              console.error(\n                \"Calls to player api are not permitted without app_id\"\n              ),\n              Promise.reject(new s.a(s.b.MissingAppId))\n            );\n        } else if (t.indexOf(\"players\") > -1 && (!i || !i.app_id))\n          return (\n            console.error(\n              \"Calls to player api are not permitted without app_id\"\n            ),\n            Promise.reject(new s.a(s.b.MissingAppId))\n          );\n        let c = new Headers();\n        if (\n          (c.append(\"SDK-Version\", `onesignal/web/${n.a.version()}`),\n          c.append(\"Content-Type\", \"application/json;charset=UTF-8\"),\n          o)\n        )\n          for (let e of Object.keys(o)) c.append(e, o[e]);\n        const d = {\n          method: e || \"NO_METHOD_SPECIFIED\",\n          headers: c,\n          cache: \"no-cache\"\n        };\n        let u;\n        return (\n          i && (d.body = JSON.stringify(i)),\n          fetch(r.a.getOneSignalApiUrl().toString() + \"/\" + t, d)\n            .then(e => ((u = e.status), e.json()))\n            .then(e => {\n              if (u >= 200 && u < 300) return e;\n              if (\"no-user-id-error\" !== a.identifyError(e))\n                return Promise.reject(e);\n            })\n        );\n      }\n      static identifyError(e) {\n        if (!e || !e.errors) return \"no-error\";\n        let t = e.errors;\n        return o.a.contains(t, \"No user with this id found\") ||\n          o.a.contains(t, \"Could not find app_id for given player id.\")\n          ? \"no-user-id-error\"\n          : \"unknown-error\";\n      }\n    }\n    t.b = a;\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return r;\n    });\n    var n = i(13);\n    class r extends n.a {\n      constructor() {\n        super(\"This code is not implemented yet.\"),\n          Object.setPrototypeOf(this, r.prototype);\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return p;\n    });\n    var n = i(0),\n      r = i(10),\n      o = i(3),\n      s = i(4),\n      a = i(1),\n      c = i(2);\n    const d = [\n        \"notifyButtonHovering\",\n        \"notifyButtonHover\",\n        \"notifyButtonButtonClick\",\n        \"notifyButtonLauncherClick\",\n        \"animatedElementHiding\",\n        \"animatedElementHidden\",\n        \"animatedElementShowing\",\n        \"animatedElementShown\",\n        \"activeAnimatedElementActivating\",\n        \"activeAnimatedElementActive\",\n        \"activeAnimatedElementInactivating\",\n        \"activeAnimatedElementInactive\",\n        \"dbRetrieved\",\n        \"dbSet\",\n        \"testEvent\"\n      ],\n      u = [\n        \"onesignal.prompt.custom.clicked\",\n        \"onesignal.prompt.native.permissionchanged\",\n        \"onesignal.subscription.changed\",\n        \"onesignal.internal.subscriptionset\",\n        \"dbRebuilt\",\n        \"initialize\",\n        \"subscriptionSet\",\n        \"sendWelcomeNotification\",\n        \"subscriptionChange\",\n        \"notificationPermissionChange\",\n        \"dbSet\",\n        \"register\",\n        \"notificationDisplay\",\n        \"notificationDismiss\",\n        \"notificationClick\",\n        \"permissionPromptDisplay\",\n        \"testWouldDisplay\",\n        \"testInitOptionDisabled\",\n        \"popupWindowTimeout\"\n      ],\n      l = {\n        notificationPermissionChange:\n          \"onesignal.prompt.native.permissionchanged\",\n        subscriptionChange: \"onesignal.subscription.changed\",\n        customPromptClick: \"onesignal.prompt.custom.clicked\"\n      };\n    class p {\n      static trigger(e, t, i = null) {\n        return n.a(this, void 0, void 0, function*() {\n          if (!c.b.contains(d, e)) {\n            let n = t,\n              r = c.b.capitalize(o.a.getWindowEnv().toString());\n            i && (r = `${r}  ${c.b.capitalize(i)}`),\n              n || !1 === n\n                ? a.a.debug(\n                    `(${r})  %c${e}:`,\n                    c.b.getConsoleStyle(\"event\"),\n                    n\n                  )\n                : a.a.debug(`(${r})  %c${e}`, c.b.getConsoleStyle(\"event\"));\n          }\n          if (r.a.isBrowser()) {\n            if (e === OneSignal.EVENTS.SDK_INITIALIZED) {\n              if (OneSignal.initialized) return;\n              OneSignal.initialized = !0;\n            }\n            yield OneSignal.emitter.emit(e, t);\n          }\n          if (l.hasOwnProperty(e)) {\n            let i = l[e];\n            p._triggerLegacy(i, t);\n          }\n          if (\n            r.a.isBrowser() &&\n            (o.a.getWindowEnv() === s.a.OneSignalSubscriptionPopup ||\n              o.a.getWindowEnv() === s.a.OneSignalProxyFrame)\n          ) {\n            opener || parent\n              ? c.b.contains(u, e) &&\n                (o.a.getWindowEnv() === s.a.OneSignalSubscriptionPopup\n                  ? OneSignal.subscriptionPopup.message(\n                      OneSignal.POSTMAM_COMMANDS.REMOTE_RETRIGGER_EVENT,\n                      { eventName: e, eventData: t }\n                    )\n                  : OneSignal.proxyFrame.retriggerRemoteEvent(e, t))\n              : a.a.error(\n                  `Could not send event '${e}' back to host page because no creator (opener or parent) found!`\n                );\n          }\n        });\n      }\n      static _triggerLegacy(e, t) {\n        const i = new CustomEvent(e, {\n          bubbles: !0,\n          cancelable: !0,\n          detail: t\n        });\n        window.dispatchEvent(i);\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"b\", function() {\n      return n;\n    }),\n      i.d(t, \"a\", function() {\n        return SdkInitError;\n      });\n    var n,\n      r = i(13);\n    !(function(e) {\n      (e[(e.InvalidAppId = 0)] = \"InvalidAppId\"),\n        (e[(e.AppNotConfiguredForWebPush = 1)] = \"AppNotConfiguredForWebPush\"),\n        (e[(e.MissingSubdomain = 2)] = \"MissingSubdomain\"),\n        (e[(e.WrongSiteUrl = 3)] = \"WrongSiteUrl\"),\n        (e[(e.MultipleInitialization = 4)] = \"MultipleInitialization\"),\n        (e[(e.MissingSafariWebId = 5)] = \"MissingSafariWebId\"),\n        (e[(e.Unknown = 6)] = \"Unknown\");\n    })(n || (n = {}));\n    class SdkInitError extends r.a {\n      constructor(e, t) {\n        switch (e) {\n          case n.InvalidAppId:\n            super(\n              \"OneSignal: This app ID does not match any existing app. Double check your app ID.\"\n            );\n            break;\n          case n.AppNotConfiguredForWebPush:\n            super(\n              \"OneSignal: This app ID does not have any web platforms enabled. Double check your app ID, or see step 1 on our setup guide (https://goo.gl/01h7fZ).\"\n            );\n            break;\n          case n.MissingSubdomain:\n            super(\n              \"OneSignal: Non-HTTPS pages require a subdomain of OneSignal to be chosen on your dashboard. See step 1.4 on our setup guide (https://goo.gl/xip6JB).\"\n            );\n            break;\n          case n.WrongSiteUrl:\n            t && t.siteUrl\n              ? super(\n                  `OneSignal: This web push config can only be used on ${\n                    new URL(t.siteUrl).origin\n                  }. Your current origin is ${location.origin}.`\n                )\n              : super(\n                  \"OneSignal: This web push config can not be used on the current site.\"\n                );\n            break;\n          case n.MultipleInitialization:\n            super(\n              \"OneSignal: The OneSignal web SDK can only be initialized once. Extra initializations are ignored. Please remove calls initializing the SDK more than once.\"\n            );\n            break;\n          case n.MissingSafariWebId:\n            super(\n              \"OneSignal: Safari browser support on Mac OS X requires the Safari web platform to be enabled. Please see the Safari Support steps in our web setup guide.\"\n            );\n            break;\n          case n.Unknown:\n            super(\"OneSignal: An unknown initialization error occurred.\");\n        }\n        (this.reason = n[e]),\n          Object.setPrototypeOf(this, SdkInitError.prototype);\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return n;\n    });\n    class n {\n      isNewSubscription() {\n        return this.existingW3cPushSubscription\n          ? !!this.existingW3cPushSubscription.w3cEndpoint !=\n              !!this.w3cEndpoint ||\n              !(\n                !this.existingW3cPushSubscription.w3cEndpoint ||\n                !this.w3cEndpoint ||\n                this.existingW3cPushSubscription.w3cEndpoint.toString() ===\n                  this.w3cEndpoint.toString()\n              ) ||\n                this.existingW3cPushSubscription.w3cP256dh !== this.w3cP256dh ||\n                  this.existingW3cPushSubscription.w3cAuth !== this.w3cAuth\n          : !this.existingSafariDeviceToken ||\n              this.existingSafariDeviceToken !== this.safariDeviceToken;\n      }\n      static setFromW3cSubscription(e) {\n        const t = new n();\n        if (e && ((t.w3cEndpoint = new URL(e.endpoint)), e.getKey)) {\n          let i = null;\n          try {\n            i = e.getKey(\"p256dh\");\n          } catch (e) {}\n          let n = null;\n          try {\n            n = e.getKey(\"auth\");\n          } catch (e) {}\n          if (i) {\n            let e = btoa(String.fromCharCode.apply(null, new Uint8Array(i)));\n            t.w3cP256dh = e;\n          }\n          if (n) {\n            let e = btoa(String.fromCharCode.apply(null, new Uint8Array(n)));\n            t.w3cAuth = e;\n          }\n        }\n        return t;\n      }\n      setFromSafariSubscription(e) {\n        this.safariDeviceToken = e;\n      }\n      serialize() {\n        return {\n          w3cEndpoint: this.w3cEndpoint ? this.w3cEndpoint.toString() : null,\n          w3cP256dh: this.w3cP256dh,\n          w3cAuth: this.w3cAuth,\n          safariDeviceToken: this.safariDeviceToken,\n          existingPushSubscription: this.existingW3cPushSubscription\n            ? this.existingW3cPushSubscription.serialize()\n            : null,\n          existingSafariDeviceToken: this.existingSafariDeviceToken\n        };\n      }\n      static deserialize(e) {\n        const t = new n();\n        if (!e) return t;\n        try {\n          t.w3cEndpoint = new URL(e.w3cEndpoint);\n        } catch (e) {}\n        return (\n          (t.w3cP256dh = e.w3cP256dh),\n          (t.w3cAuth = e.w3cAuth),\n          (t.existingW3cPushSubscription = void 0),\n          e.existingW3cPushSubscription\n            ? (t.existingW3cPushSubscription = n.deserialize(\n                e.existingW3cPushSubscription\n              ))\n            : e.existingPushSubscription &&\n              (t.existingW3cPushSubscription = n.deserialize(\n                e.existingPushSubscription\n              )),\n          (t.safariDeviceToken = e.safariDeviceToken),\n          (t.existingSafariDeviceToken = e.existingSafariDeviceToken),\n          t\n        );\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"b\", function() {\n      return n;\n    }),\n      i.d(t, \"a\", function() {\n        return o;\n      });\n    var n,\n      r = i(13);\n    !(function(e) {\n      e[(e.MissingAppId = 0)] = \"MissingAppId\";\n    })(n || (n = {}));\n    class o extends r.a {\n      constructor(e) {\n        switch (e) {\n          case n.MissingAppId:\n            super(\"The API call is missing an app ID.\");\n        }\n        Object.setPrototypeOf(this, o.prototype);\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n;\n    i.d(t, \"a\", function() {\n      return n;\n    }),\n      (function(e) {\n        (e[(e.ChromeLike = 5)] = \"ChromeLike\"),\n          (e[(e.Safari = 7)] = \"Safari\"),\n          (e[(e.Firefox = 8)] = \"Firefox\"),\n          (e[(e.Edge = 12)] = \"Edge\"),\n          (e[(e.Email = 11)] = \"Email\");\n      })(n || (n = {}));\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return c;\n    });\n    var n = i(11),\n      r = i.n(n),\n      o = i(18),\n      s = i(9),\n      a = i(30);\n    class c extends a.a {\n      constructor(e) {\n        super(), (this.subscription = e);\n      }\n      serialize() {\n        const e = super.serialize();\n        return (\n          this.subscription &&\n            ((e.identifier = r.a.safari\n              ? this.subscription.safariDeviceToken\n              : this.subscription.w3cEndpoint\n              ? this.subscription.w3cEndpoint.toString()\n              : null),\n            (e.web_auth = this.subscription.w3cAuth),\n            (e.web_p256 = this.subscription.w3cP256dh)),\n          e\n        );\n      }\n      static createFromPushSubscription(e, t, i) {\n        const n = new c(t);\n        return (\n          (n.appId = e),\n          (n.subscriptionState = t ? s.a.Subscribed : s.a.NotSubscribed),\n          i && (n.subscriptionState = i),\n          n\n        );\n      }\n      deserialize(e) {\n        throw new o.a();\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n;\n    i.d(t, \"a\", function() {\n      return n;\n    }),\n      (function(e) {\n        (e.None = \"None\"), (e.UnitTesting = \"Unit Testing\");\n      })(n || (n = {}));\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n = i(7),\n      r = i(3),\n      o = i(4),\n      s = i(1);\n    class a {\n      constructor() {\n        this.incrementedPageViewCount = !1;\n      }\n      getPageViewCount() {\n        try {\n          const e = sessionStorage.getItem(a.SESSION_STORAGE_KEY_NAME),\n            t = e ? parseInt(e) : 0;\n          return isNaN(t) ? 0 : t;\n        } catch (e) {\n          return 0;\n        }\n      }\n      setPageViewCount(e) {\n        try {\n          sessionStorage.setItem(a.SESSION_STORAGE_KEY_NAME, e.toString()),\n            r.a.getWindowEnv() === o.a.OneSignalSubscriptionPopup &&\n              OneSignal.subscriptionPopup &&\n              OneSignal.subscriptionPopup.message(\n                OneSignal.POSTMAM_COMMANDS.SET_SESSION_COUNT\n              );\n        } catch (e) {}\n      }\n      incrementPageViewCount() {\n        if (this.incrementedPageViewCount) return;\n        const e = this.getPageViewCount() + 1;\n        this.setPageViewCount(e),\n          s.a.debug(`Incremented page view count to ${e}.`),\n          (this.incrementedPageViewCount = !0);\n      }\n      simulatePageNavigationOrRefresh() {\n        this.incrementedPageViewCount = !1;\n      }\n      isFirstPageView() {\n        return 1 === this.getPageViewCount();\n      }\n    }\n    a.SESSION_STORAGE_KEY_NAME = \"onesignal-pageview-count\";\n    var c = i(0),\n      d = i(8),\n      u = i(11),\n      l = i.n(u),\n      InvalidArgumentError = i(14),\n      p = i(12);\n    const g = \"isOptedOut\",\n      f = \"isPushNotificationsEnabled\";\n    class h {\n      static getIsOptedOut() {\n        return \"true\" === localStorage.getItem(g);\n      }\n      static getIsPushNotificationsEnabled() {\n        return \"true\" === localStorage.getItem(f);\n      }\n      static setIsOptedOut(e) {\n        localStorage.setItem(g, e.toString());\n      }\n      static setIsPushNotificationsEnabled(e) {\n        localStorage.setItem(f, e.toString());\n      }\n      static setStoredPermission(e) {\n        localStorage.setItem(b.STORED_PERMISSION_KEY, e);\n      }\n      static getStoredPermission() {\n        switch (localStorage.getItem(b.STORED_PERMISSION_KEY) || \"default\") {\n          case \"granted\":\n            return p.a.Granted;\n          case \"denied\":\n            return p.a.Denied;\n          default:\n            return p.a.Default;\n        }\n      }\n    }\n    class b {\n      static get STORED_PERMISSION_KEY() {\n        return \"storedNotificationPermission\";\n      }\n      getNotificationPermission(e) {\n        return c.a(this, void 0, void 0, function*() {\n          const t = yield this.getReportedNotificationPermission(e);\n          return (yield this.isPermissionEnvironmentAmbiguous(t))\n            ? yield this.getInterpretedAmbiguousPermission(t)\n            : t;\n        });\n      }\n      getReportedNotificationPermission(e) {\n        return c.a(this, void 0, void 0, function*() {\n          return l.a.safari\n            ? b.getSafariNotificationPermission(e)\n            : d.b.isUsingSubscriptionWorkaround()\n            ? yield this.getOneSignalSubdomainNotificationPermission(e)\n            : this.getW3cNotificationPermission();\n        });\n      }\n      static getSafariNotificationPermission(e) {\n        if (e) return window.safari.pushNotification.permission(e).permission;\n        throw new InvalidArgumentError.a(\n          \"safariWebId\",\n          InvalidArgumentError.b.Empty\n        );\n      }\n      getW3cNotificationPermission() {\n        return window.Notification.permission;\n      }\n      getOneSignalSubdomainNotificationPermission(e) {\n        return c.a(this, void 0, void 0, function*() {\n          return new Promise(t => {\n            OneSignal.proxyFrameHost.message(\n              OneSignal.POSTMAM_COMMANDS.REMOTE_NOTIFICATION_PERMISSION,\n              { safariWebId: e },\n              e => {\n                let i = e.data;\n                t(i);\n              }\n            );\n          });\n        });\n      }\n      isPermissionEnvironmentAmbiguous(e) {\n        return c.a(this, void 0, void 0, function*() {\n          const t = d.b.redetectBrowserUserAgent();\n          return (\n            !t.safari &&\n            !t.firefox &&\n            e === p.a.Denied &&\n            (this.isCurrentFrameContextCrossOrigin() ||\n              (yield r.a.isFrameContextInsecure()) ||\n              d.b.isUsingSubscriptionWorkaround() ||\n              r.a.isInsecureOrigin())\n          );\n        });\n      }\n      isCurrentFrameContextCrossOrigin() {\n        let e;\n        try {\n          e = window.top.location.origin;\n        } catch (e) {\n          return !0;\n        }\n        return window.top !== window && e !== window.location.origin;\n      }\n      getInterpretedAmbiguousPermission(e) {\n        return c.a(this, void 0, void 0, function*() {\n          switch (e) {\n            case p.a.Denied:\n              const t = this.getStoredPermission();\n              return t || p.a.Default;\n            default:\n              return e;\n          }\n        });\n      }\n      getStoredPermission() {\n        return h.getStoredPermission();\n      }\n      setStoredPermission(e) {\n        h.setStoredPermission(e);\n      }\n      updateStoredPermission() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = yield this.getNotificationPermission();\n          return this.setStoredPermission(e);\n        });\n      }\n    }\n    var m = i(10);\n    class v {\n      constructor(e) {\n        if (!e)\n          throw new InvalidArgumentError.a(\n            \"path\",\n            InvalidArgumentError.b.Empty\n          );\n        this.path = e.trim();\n      }\n      getQueryString() {\n        const e = this.path.indexOf(\"?\");\n        return -1 === e\n          ? null\n          : this.path.length > e\n          ? this.path.substring(e + 1)\n          : null;\n      }\n      getWithoutQueryString() {\n        return this.path.split(v.QUERY_STRING)[0];\n      }\n      getFileName() {\n        return this.getWithoutQueryString()\n          .split(\"\\\\\")\n          .pop()\n          .split(\"/\")\n          .pop();\n      }\n      getFileNameWithQuery() {\n        return this.path\n          .split(\"\\\\\")\n          .pop()\n          .split(\"/\")\n          .pop();\n      }\n      getFullPath() {\n        return this.path;\n      }\n      getPathWithoutFileName() {\n        const e = this.getWithoutQueryString(),\n          t = e.lastIndexOf(this.getFileName());\n        let i = e.substring(0, t);\n        return (i = i.replace(/[\\\\\\/]$/, \"\"));\n      }\n    }\n    v.QUERY_STRING = \"?\";\n    var S = i(5),\n      y = i(15),\n      w = i(18),\n      P = i(19),\n      O = i(13);\n    class k extends O.a {\n      constructor(e, t) {\n        super(\"Registration of a Service Worker failed.\"),\n          (this.status = e),\n          (this.statusText = t),\n          Object.setPrototypeOf(this, k.prototype);\n      }\n    }\n    var I = k,\n      E = i(6),\n      x = i(2);\n    class A {\n      constructor(e, t) {\n        (this.context = e), (this.config = t);\n      }\n      static getRegistration() {\n        return c.a(this, void 0, void 0, function*() {\n          return yield E.b.getRegistration();\n        });\n      }\n      getActiveState() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = yield r.a.getIntegration();\n          if (e === y.a.InsecureProxy) return E.a.Indeterminate;\n          if (e === y.a.SecureProxy) {\n            switch (r.a.getWindowEnv()) {\n              case o.a.Host:\n              case o.a.CustomIframe:\n                const e = OneSignal.proxyFrameHost;\n                return e\n                  ? yield e.runCommand(\n                      OneSignal.POSTMAM_COMMANDS.SERVICE_WORKER_STATE\n                    )\n                  : E.a.Indeterminate;\n              case o.a.OneSignalSubscriptionPopup:\n                break;\n              case o.a.OneSignalSubscriptionModal:\n                throw new w.a();\n            }\n          }\n          const t = yield A.getRegistration();\n          if (!t) return E.a.None;\n          if (t.installing) return E.a.Installing;\n          if (!t.active) return E.a.ThirdParty;\n          const i = A.activeSwFileName(t),\n            n = this.swActiveStateByFileName(i);\n          return navigator.serviceWorker.controller ||\n            (n !== E.a.WorkerA && n !== E.a.WorkerB)\n            ? n\n            : E.a.Bypassed;\n        });\n      }\n      static activeSwFileName(e) {\n        if (!e.active) return null;\n        const t = new URL(e.active.scriptURL).pathname,\n          i = new v(t).getFileName();\n        if (\"akam-sw.js\" == i) {\n          const t = new URLSearchParams(new URL(e.active.scriptURL).search).get(\n            \"othersw\"\n          );\n          if (t)\n            return (\n              s.a.debug(\n                \"Found a ServiceWorker under Akamai's akam-sw.js?othersw=\",\n                t\n              ),\n              new v(new URL(t).pathname).getFileName()\n            );\n        }\n        return i;\n      }\n      swActiveStateByFileName(e) {\n        return e\n          ? e == this.config.workerAPath.getFileName()\n            ? E.a.WorkerA\n            : e == this.config.workerBPath.getFileName()\n            ? E.a.WorkerB\n            : E.a.ThirdParty\n          : E.a.None;\n      }\n      getWorkerVersion() {\n        return c.a(this, void 0, void 0, function*() {\n          return new Promise(e =>\n            c.a(this, void 0, void 0, function*() {\n              if (d.b.isUsingSubscriptionWorkaround()) {\n                const t = OneSignal.proxyFrameHost;\n                if (t) {\n                  const i = yield t.runCommand(\n                    OneSignal.POSTMAM_COMMANDS.GET_WORKER_VERSION\n                  );\n                  e(i);\n                } else e(NaN);\n              } else\n                this.context.workerMessenger.once(n.b.WorkerVersion, t => {\n                  e(t);\n                }),\n                  this.context.workerMessenger.unicast(n.b.WorkerVersion);\n            })\n          );\n        });\n      }\n      shouldInstallWorker() {\n        return c.a(this, void 0, void 0, function*() {\n          if (!m.a.supportsServiceWorkers()) return !1;\n          if (!OneSignal.config) return !1;\n          if (OneSignal.config.subdomain && r.a.getWindowEnv() == o.a.Host)\n            return !1;\n          const e = yield this.getActiveState();\n          if (e === E.a.None || e === E.a.ThirdParty) {\n            return (\n              \"granted\" ===\n              (yield OneSignal.context.permissionManager.getNotificationPermission(\n                OneSignal.config.safariWebId\n              ))\n            );\n          }\n          return this.workerNeedsUpdate();\n        });\n      }\n      workerNeedsUpdate() {\n        return c.a(this, void 0, void 0, function*() {\n          let e;\n          s.a.info(\n            \"[Service Worker Update] Checking service worker version...\"\n          );\n          try {\n            e = yield x.a.timeoutPromise(this.getWorkerVersion(), 2e3);\n          } catch (e) {\n            return (\n              s.a.info(\n                \"[Service Worker Update] Worker did not reply to version query; assuming older version and updating.\"\n              ),\n              !0\n            );\n          }\n          return e !== m.a.version()\n            ? (s.a.info(\n                `[Service Worker Update] Updating service worker from ${e} --\\x3e ${m.a.version()}.`\n              ),\n              !0)\n            : (s.a.info(\n                `[Service Worker Update] Service worker version is current at ${e} (no update required).`\n              ),\n              !1);\n        });\n      }\n      installWorker() {\n        return c.a(this, void 0, void 0, function*() {\n          if (!(yield this.shouldInstallWorker())) return;\n          const e = yield this.getActiveState();\n          yield this.installAlternatingWorker(),\n            yield new Promise(t =>\n              c.a(this, void 0, void 0, function*() {\n                const i = yield this.getActiveState();\n                s.a.debug(\n                  \"installWorker - Comparing pre and post states\",\n                  e,\n                  i\n                ),\n                  e !== i && i !== E.a.Installing\n                    ? t()\n                    : (s.a.debug(\n                        \"installWorker - Awaiting on navigator.serviceWorker's 'controllerchange' event\"\n                      ),\n                      navigator.serviceWorker.addEventListener(\n                        \"controllerchange\",\n                        i =>\n                          c.a(this, void 0, void 0, function*() {\n                            const i = yield this.getActiveState();\n                            i !== e && i !== E.a.Installing\n                              ? t()\n                              : s.a.error(\n                                  \"installWorker - SW's 'controllerchange' fired but no state change!\"\n                                );\n                          })\n                      ));\n              })\n            ),\n            (yield this.getActiveState()) === E.a.WorkerB &&\n              (yield this.installAlternatingWorker()),\n            yield this.establishServiceWorkerChannel();\n        });\n      }\n      establishServiceWorkerChannel() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = this.context.workerMessenger;\n          e.off(),\n            e.on(n.b.NotificationDisplayed, e => {\n              s.a.debug(\n                location.origin,\n                \"Received notification display event from service worker.\"\n              ),\n                P.a.trigger(OneSignal.EVENTS.NOTIFICATION_DISPLAYED, e);\n            }),\n            e.on(n.b.NotificationClicked, e =>\n              c.a(this, void 0, void 0, function*() {\n                let t;\n                if (\n                  0 ===\n                  (t =\n                    r.a.getWindowEnv() === o.a.OneSignalProxyFrame\n                      ? yield new Promise(e => {\n                          const t = OneSignal.proxyFrame;\n                          t &&\n                            t.messenger.message(\n                              OneSignal.POSTMAM_COMMANDS\n                                .GET_EVENT_LISTENER_COUNT,\n                              OneSignal.EVENTS.NOTIFICATION_CLICKED,\n                              t => {\n                                let i = t.data;\n                                e(i);\n                              }\n                            );\n                        })\n                      : OneSignal.emitter.numberOfListeners(\n                          OneSignal.EVENTS.NOTIFICATION_CLICKED\n                        ))\n                ) {\n                  s.a.debug(\n                    \"notification.clicked event received, but no event listeners; storing event in IndexedDb for later retrieval.\"\n                  );\n                  let t = e.url;\n                  e.url || (t = location.href),\n                    yield S.a.put(\"NotificationOpened\", {\n                      url: t,\n                      data: e,\n                      timestamp: Date.now()\n                    });\n                } else P.a.trigger(OneSignal.EVENTS.NOTIFICATION_CLICKED, e);\n              })\n            ),\n            e.on(n.b.RedirectPage, e => {\n              s.a.debug(\n                `${r.a\n                  .getWindowEnv()\n                  .toString()} Picked up command.redirect to ${e}, forwarding to host page.`\n              );\n              const t = OneSignal.proxyFrame;\n              t &&\n                t.messenger.message(\n                  OneSignal.POSTMAM_COMMANDS.SERVICEWORKER_COMMAND_REDIRECT,\n                  e\n                );\n            }),\n            e.on(n.b.NotificationDismissed, e => {\n              P.a.trigger(OneSignal.EVENTS.NOTIFICATION_DISMISSED, e);\n            });\n        });\n      }\n      installAlternatingWorker() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = yield this.getActiveState();\n          e === E.a.ThirdParty &&\n            s.a.info(\n              \"[Service Worker Installation] 3rd party service worker detected.\"\n            );\n          const t = `${E.b.getServiceWorkerHref(\n            e,\n            this.config\n          )}?${x.a.encodeHashAsUriComponent({\n            appId: this.context.appConfig.appId\n          })}`;\n          s.a.info(\n            `[Service Worker Installation] Installing service worker ${t}.`\n          );\n          try {\n            yield navigator.serviceWorker.register(t, {\n              scope: `${d.b.getBaseUrl()}${\n                this.config.registrationOptions.scope\n              }`\n            });\n          } catch (e) {\n            if (\n              (s.a.error(\n                `[Service Worker Installation] Installing service worker failed ${e}`\n              ),\n              r.a.getWindowEnv() === o.a.OneSignalSubscriptionPopup)\n            )\n              throw e;\n            const i = yield fetch(t);\n            if (403 === i.status || 404 === i.status)\n              throw new I(i.status, i.statusText);\n            throw e;\n          }\n          s.a.debug(\"[Service Worker Installation] Service worker installed.\");\n        });\n      }\n    }\n    var N = i(22),\n      W = i(23),\n      T = i(30);\n    class C extends T.a {\n      constructor(e, t, i) {\n        super(),\n          (this.email = e),\n          (this.emailAuthHash = t),\n          (this.pushDeviceRecordId = i),\n          (this.deliveryPlatform = W.a.Email);\n      }\n      serialize() {\n        const e = super.serialize();\n        return (\n          this.email && (e.identifier = this.email),\n          this.emailAuthHash && (e.email_auth_hash = this.emailAuthHash),\n          this.pushDeviceRecordId &&\n            (e.device_player_id = this.pushDeviceRecordId),\n          e\n        );\n      }\n      deserialize(e) {\n        throw new w.a();\n      }\n    }\n    var M = i(17);\n    class _ {\n      static getPlayer(e, t) {\n        return (\n          x.b.enforceAppId(e),\n          x.b.enforcePlayerId(t),\n          M.b.get(`players/${t}?app_id=${e}`)\n        );\n      }\n      static updatePlayer(e, t, i) {\n        return (\n          x.b.enforceAppId(e),\n          x.b.enforcePlayerId(t),\n          M.b.put(`players/${t}`, Object.assign({ app_id: e }, i))\n        );\n      }\n      static sendNotification(e, t, i, n, r, o, s, a) {\n        var c = {\n          app_id: e,\n          contents: n,\n          include_player_ids: t,\n          isAnyWeb: !0,\n          data: s,\n          web_buttons: a\n        };\n        return (\n          i && (c.headings = i),\n          r && (c.url = r),\n          o && ((c.chrome_web_icon = o), (c.firefox_icon = o)),\n          x.b.trimUndefined(c),\n          M.b.post(\"notifications\", c)\n        );\n      }\n      static createUser(e) {\n        return c.a(this, void 0, void 0, function*() {\n          const t = e.serialize();\n          x.b.enforceAppId(t.app_id);\n          const i = yield M.b.post(\"players\", t);\n          return i && i.success ? i.id : null;\n        });\n      }\n      static createEmailRecord(e, t, i) {\n        return c.a(this, void 0, void 0, function*() {\n          x.b.enforceAppId(e.appId);\n          const n = new C(t.emailAddress, t.emailAuthHash, i);\n          n.appId = e.appId;\n          const r = yield M.b.post(\"players\", n.serialize());\n          return r && r.success ? r.id : null;\n        });\n      }\n      static updateEmailRecord(e, t, i) {\n        return c.a(this, void 0, void 0, function*() {\n          x.b.enforceAppId(e.appId), x.b.enforcePlayerId(t.emailId);\n          const n = new C(t.emailAddress, t.emailAuthHash, i);\n          n.appId = e.appId;\n          const r = yield M.b.put(`players/${t.emailId}`, n.serialize());\n          return r && r.success ? r.id : null;\n        });\n      }\n      static logoutEmail(e, t, i) {\n        return c.a(this, void 0, void 0, function*() {\n          x.b.enforceAppId(e.appId), x.b.enforcePlayerId(i);\n          const n = yield M.b.post(`players/${i}/email_logout`, {\n            app_id: e.appId,\n            parent_player_id: t.emailId,\n            email_auth_hash: t.emailAuthHash ? t.emailAuthHash : void 0\n          });\n          return !(!n || !n.success);\n        });\n      }\n      static updateUserSession(e, t) {\n        return c.a(this, void 0, void 0, function*() {\n          try {\n            const i = t.serialize();\n            x.b.enforceAppId(i.app_id), x.b.enforcePlayerId(e);\n            const n = yield M.b.post(`players/${e}/on_session`, i);\n            return n.id ? n.id : e;\n          } catch (e) {\n            throw e &&\n            Array.isArray(e.errors) &&\n            e.errors.length > 0 &&\n            x.b.contains(e.errors[0], \"app_id not found\")\n              ? new N.a(N.b.MissingAppId)\n              : e;\n          }\n        });\n      }\n    }\n    var D,\n      R,\n      U = i(21),\n      F = i(9),\n      B = i(24),\n      InvalidStateError = i(16);\n    ((R = D || (D = {}))[(R.Blocked = 0)] = \"Blocked\"),\n      (R[(R.Dismissed = 1)] = \"Dismissed\"),\n      (R[(R.Default = 2)] = \"Default\");\n    class L extends O.a {\n      constructor(e) {\n        switch (e) {\n          case D.Dismissed:\n            super(\"The user dismissed the permission prompt.\");\n            break;\n          case D.Blocked:\n            super(\"Notification permissions are blocked.\");\n            break;\n          case D.Default:\n            super(\"Notification permissions have not been granted yet.\");\n        }\n        (this.reason = e), Object.setPrototypeOf(this, L.prototype);\n      }\n    }\n    var V,\n      $,\n      SdkInitError = i(20);\n    (($ = V || (V = {}))[($.InvalidSafariSetup = 0)] = \"InvalidSafariSetup\"),\n      ($[($.Blocked = 1)] = \"Blocked\"),\n      ($[($.Dismissed = 2)] = \"Dismissed\");\n    class H extends O.a {\n      constructor(e) {\n        switch (e) {\n          case V.InvalidSafariSetup:\n            super(\n              \"The Safari site URL, icon size, or push certificate is invalid, or Safari is in a private session.\"\n            );\n            break;\n          case V.Blocked:\n            super(\"Notification permissions are blocked.\");\n            break;\n          case V.Dismissed:\n            super(\"The notification permission prompt was dismissed.\");\n        }\n        Object.setPrototypeOf(this, H.prototype);\n      }\n    }\n    var j = i(27);\n    class z {\n      constructor(e, t) {\n        (this.context = e), (this.config = t);\n      }\n      static isSafari() {\n        return m.a.isSafari();\n      }\n      subscribe(e) {\n        return c.a(this, void 0, void 0, function*() {\n          const t = r.a.getWindowEnv();\n          switch (t) {\n            case o.a.CustomIframe:\n            case o.a.Unknown:\n            case o.a.OneSignalProxyFrame:\n              throw new InvalidStateError.a(\n                InvalidStateError.b.UnsupportedEnvironment\n              );\n          }\n          let i;\n          switch (t) {\n            case o.a.ServiceWorker:\n              i = yield this.subscribeFcmFromWorker(e);\n              break;\n            case o.a.Host:\n            case o.a.OneSignalSubscriptionModal:\n            case o.a.OneSignalSubscriptionPopup:\n              if (\n                (yield OneSignal.privateGetNotificationPermission()) ===\n                p.a.Denied\n              )\n                throw new L(D.Blocked);\n              i = z.isSafari()\n                ? yield this.subscribeSafari()\n                : yield this.subscribeFcmFromPage(e);\n              break;\n            default:\n              throw new InvalidStateError.a(\n                InvalidStateError.b.UnsupportedEnvironment\n              );\n          }\n          return i;\n        });\n      }\n      registerSubscription(e, t) {\n        return c.a(this, void 0, void 0, function*() {\n          e && (e = U.a.deserialize(e));\n          const i = B.a.createFromPushSubscription(this.config.appId, e, t);\n          let n = void 0;\n          (yield this.isAlreadyRegisteredWithOneSignal())\n            ? yield this.context.updateManager.sendPlayerUpdate(i)\n            : (n = yield this.context.updateManager.sendPlayerCreate(i)) &&\n              (yield this.associateSubscriptionWithEmail(n));\n          const s = yield S.a.getSubscription();\n          return (\n            (s.deviceId = n),\n            (s.optedOut = !1),\n            e\n              ? z.isSafari()\n                ? (s.subscriptionToken = e.safariDeviceToken)\n                : (s.subscriptionToken = e.w3cEndpoint\n                    ? e.w3cEndpoint.toString()\n                    : null)\n              : (s.subscriptionToken = null),\n            yield S.a.setSubscription(s),\n            r.a.getWindowEnv() !== o.a.ServiceWorker &&\n              P.a.trigger(OneSignal.EVENTS.REGISTERED),\n            \"undefined\" != typeof OneSignal &&\n              (OneSignal._sessionInitAlreadyRunning = !1),\n            s\n          );\n        });\n      }\n      static requestPresubscribeNotificationPermission() {\n        return c.a(this, void 0, void 0, function*() {\n          return yield z.requestNotificationPermission();\n        });\n      }\n      unsubscribe(e) {\n        return c.a(this, void 0, void 0, function*() {\n          if (0 === e) throw new w.a();\n          if (1 !== e) throw new w.a();\n          if (r.a.getWindowEnv() !== o.a.ServiceWorker) throw new w.a();\n          {\n            const { deviceId: e } = yield S.a.getSubscription();\n            yield _.updatePlayer(this.context.appConfig.appId, e, {\n              notification_types: F.a.MutedByApi\n            }),\n              yield S.a.put(\"Options\", { key: \"optedOut\", value: !0 });\n          }\n        });\n      }\n      static requestNotificationPermission() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = yield window.Notification.requestPermission();\n          return p.a[e];\n        });\n      }\n      associateSubscriptionWithEmail(e) {\n        return c.a(this, void 0, void 0, function*() {\n          const t = yield S.a.getEmailProfile();\n          t.emailId &&\n            (yield _.updatePlayer(this.config.appId, e, {\n              parent_player_id: t.emailId,\n              email: t.emailAddress\n            }));\n        });\n      }\n      isAlreadyRegisteredWithOneSignal() {\n        return c.a(this, void 0, void 0, function*() {\n          const { deviceId: e } = yield S.a.getSubscription();\n          return !!e;\n        });\n      }\n      subscribeSafariPromptPermission() {\n        return new Promise(e => {\n          window.safari.pushNotification.requestPermission(\n            `${r.a.getOneSignalApiUrl().toString()}/safari`,\n            this.config.safariWebId,\n            { app_id: this.config.appId },\n            t => {\n              t.deviceToken ? e(t.deviceToken.toLowerCase()) : e(null);\n            }\n          );\n        });\n      }\n      subscribeSafari() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = new U.a();\n          if (!this.config.safariWebId)\n            throw new SdkInitError.a(SdkInitError.b.MissingSafariWebId);\n          const { deviceToken: t } = window.safari.pushNotification.permission(\n            this.config.safariWebId\n          );\n          (e.existingSafariDeviceToken = t),\n            t || P.a.trigger(OneSignal.EVENTS.PERMISSION_PROMPT_DISPLAYED);\n          const i = yield this.subscribeSafariPromptPermission();\n          if ((j.a.triggerNotificationPermissionChanged(), !i))\n            throw new H(V.InvalidSafariSetup);\n          return e.setFromSafariSubscription(i), e;\n        });\n      }\n      subscribeFcmFromPage(e) {\n        return c.a(this, void 0, void 0, function*() {\n          if (\n            r.a.getWindowEnv() !== o.a.ServiceWorker &&\n            window.Notification.permission === p.a.Default\n          ) {\n            yield P.a.trigger(OneSignal.EVENTS.PERMISSION_PROMPT_DISPLAYED);\n            const e = yield z.requestPresubscribeNotificationPermission();\n            switch (\n              (e === p.a.Default &&\n                (yield j.a.triggerNotificationPermissionChanged(!0)),\n              e)\n            ) {\n              case p.a.Default:\n                throw (s.a.debug(\n                  \"Exiting subscription and not registering worker because the permission was dismissed.\"\n                ),\n                (OneSignal._sessionInitAlreadyRunning = !1),\n                (OneSignal._isRegisteringForPush = !1),\n                new L(D.Dismissed));\n              case p.a.Denied:\n                throw (s.a.debug(\n                  \"Exiting subscription and not registering worker because the permission was blocked.\"\n                ),\n                (OneSignal._sessionInitAlreadyRunning = !1),\n                (OneSignal._isRegisteringForPush = !1),\n                new L(D.Blocked));\n            }\n          }\n          try {\n            yield this.context.serviceWorkerManager.installWorker();\n          } catch (e) {\n            throw (e instanceof I &&\n              (403 === e.status\n                ? yield this.context.subscriptionManager.registerFailedSubscription(\n                    F.a.ServiceWorkerStatus403,\n                    this.context\n                  )\n                : 404 === e.status &&\n                  (yield this.context.subscriptionManager.registerFailedSubscription(\n                    F.a.ServiceWorkerStatus404,\n                    this.context\n                  ))),\n            e);\n          }\n          s.a.debug(\"Waiting for the service worker to activate...\");\n          const t = yield navigator.serviceWorker.ready;\n          return (\n            s.a.debug(\"Service worker is ready to continue subscribing.\"),\n            yield this.subscribeWithVapidKey(t.pushManager, e)\n          );\n        });\n      }\n      subscribeFcmFromWorker(e) {\n        return c.a(this, void 0, void 0, function*() {\n          const t = self.registration;\n          if (!t.active && !l.a.firefox)\n            throw new InvalidStateError.a(\n              InvalidStateError.b.ServiceWorkerNotActivated\n            );\n          const i = yield t.pushManager.permissionState({\n            userVisibleOnly: !0\n          });\n          if (\"denied\" === i) throw new L(D.Blocked);\n          if (\"prompt\" === i) throw new L(D.Default);\n          return yield this.subscribeWithVapidKey(t.pushManager, e);\n        });\n      }\n      getVapidKeyForBrowser() {\n        let e = void 0;\n        return (e = l.a.firefox\n          ? this.config.onesignalVapidPublicKey\n          : this.config.vapidPublicKey)\n          ? (function(e) {\n              const t = (e + \"=\".repeat((4 - (e.length % 4)) % 4))\n                  .replace(/\\-/g, \"+\")\n                  .replace(/_/g, \"/\"),\n                i = atob(t),\n                n = new Uint8Array(i.length);\n              for (let e = 0; e < i.length; ++e) n[e] = i.charCodeAt(e);\n              return n;\n            })(e).buffer\n          : void 0;\n      }\n      subscribeWithVapidKey(e, t) {\n        return c.a(this, void 0, void 0, function*() {\n          const i = yield e.getSubscription();\n          switch (t) {\n            case 0:\n              if (!i) break;\n              i.options\n                ? s.a.debug(\n                    \"[Subscription Manager] An existing push subscription exists and it's options is not null.\"\n                  )\n                : (s.a.debug(\n                    \"[Subscription Manager] An existing push subscription exists and options is null. Unsubscribing from push first now.\"\n                  ),\n                  yield z.doPushUnsubscribe(i));\n              break;\n            case 1:\n              i && (yield z.doPushUnsubscribe(i));\n          }\n          const [n, r] = yield z.doPushSubscribe(\n            e,\n            this.getVapidKeyForBrowser()\n          );\n          yield z.updateSubscriptionTime(r, n.expirationTime);\n          const o = U.a.setFromW3cSubscription(n);\n          return (\n            i &&\n              (o.existingW3cPushSubscription = U.a.setFromW3cSubscription(i)),\n            o\n          );\n        });\n      }\n      static updateSubscriptionTime(e, t) {\n        return c.a(this, void 0, void 0, function*() {\n          const i = yield S.a.getSubscription();\n          e && (i.createdAt = new Date().getTime()),\n            (i.expirationTime = t),\n            yield S.a.setSubscription(i);\n        });\n      }\n      static doPushUnsubscribe(e) {\n        return c.a(this, void 0, void 0, function*() {\n          s.a.debug(\n            \"[Subscription Manager] Unsubscribing existing push subscription.\"\n          );\n          const t = yield e.unsubscribe();\n          return (\n            s.a.debug(\n              `[Subscription Manager] Unsubscribing existing push subscription result: ${t}`\n            ),\n            t\n          );\n        });\n      }\n      static doPushSubscribe(e, t) {\n        return c.a(this, void 0, void 0, function*() {\n          if (!t)\n            throw new Error(\n              \"Missing required 'applicationServerKey' to subscribe for push notifications!\"\n            );\n          const i = { userVisibleOnly: !0, applicationServerKey: t };\n          s.a.debug(\n            \"[Subscription Manager] Subscribing to web push with these options:\",\n            i\n          );\n          try {\n            const t = yield e.getSubscription();\n            return [yield e.subscribe(i), !t];\n          } catch (t) {\n            if (\"InvalidStateError\" == t.name)\n              return (\n                s.a.warn(\n                  \"[Subscription Manager] Couldn't re-subscribe due to applicationServerKey changing, unsubscribe and attempting to subscribe with new key.\",\n                  t\n                ),\n                yield z.doPushUnsubscribe(yield e.getSubscription()),\n                [yield e.subscribe(i), !0]\n              );\n            throw t;\n          }\n        });\n      }\n      isSubscriptionExpiring() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = yield r.a.getIntegration(),\n            t = r.a.getWindowEnv();\n          switch (e) {\n            case y.a.Secure:\n              return yield this.isSubscriptionExpiringForSecureIntegration();\n            case y.a.SecureProxy:\n              if (t === o.a.Host) {\n                const e = OneSignal.proxyFrameHost;\n                if (e)\n                  return yield e.runCommand(\n                    OneSignal.POSTMAM_COMMANDS.SUBSCRIPTION_EXPIRATION_STATE\n                  );\n                throw new InvalidStateError.a(InvalidStateError.b.NoProxyFrame);\n              }\n              return yield this.isSubscriptionExpiringForSecureIntegration();\n            case y.a.InsecureProxy:\n              const { expirationTime: i } = yield S.a.getSubscription();\n              return !!i && new Date().getTime() >= i;\n          }\n        });\n      }\n      isSubscriptionExpiringForSecureIntegration() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = yield this.context.serviceWorkerManager.getActiveState();\n          if (e !== E.a.WorkerA && e !== E.a.WorkerB) return !1;\n          const t = yield A.getRegistration();\n          if (!t) return !1;\n          if (!t.pushManager) return !1;\n          const i = yield t.pushManager.getSubscription();\n          if (!i) return !1;\n          if (!i.expirationTime) return !1;\n          let { createdAt: n } = yield S.a.getSubscription();\n          if (!n) {\n            const e = 31536e6;\n            n = new Date().getTime() + e;\n          }\n          const r = n + (i.expirationTime - n) / 2;\n          return (\n            !!i.expirationTime &&\n            (new Date().getTime() >= i.expirationTime ||\n              new Date().getTime() >= r)\n          );\n        });\n      }\n      getSubscriptionState() {\n        return c.a(this, void 0, void 0, function*() {\n          if (z.isSafari()) return this.getSubscriptionStateForSecure();\n          const e = r.a.getWindowEnv();\n          switch (e) {\n            case o.a.ServiceWorker:\n              const t = yield self.registration.pushManager.getSubscription(),\n                { optedOut: i } = yield S.a.getSubscription();\n              return { subscribed: !!t, optedOut: !!i };\n            default:\n              switch (yield r.a.getIntegration()) {\n                case y.a.Secure:\n                  return this.getSubscriptionStateForSecure();\n                case y.a.SecureProxy:\n                  switch (e) {\n                    case o.a.OneSignalProxyFrame:\n                    case o.a.OneSignalSubscriptionPopup:\n                    case o.a.OneSignalSubscriptionModal:\n                      return this.getSubscriptionStateForSecure();\n                    default:\n                      return yield OneSignal.proxyFrameHost.runCommand(\n                        OneSignal.POSTMAM_COMMANDS.GET_SUBSCRIPTION_STATE\n                      );\n                  }\n                case y.a.InsecureProxy:\n                  return yield this.getSubscriptionStateForInsecure();\n                default:\n                  throw new InvalidStateError.a(\n                    InvalidStateError.b.UnsupportedEnvironment\n                  );\n              }\n          }\n        });\n      }\n      getSubscriptionStateForSecure() {\n        return c.a(this, void 0, void 0, function*() {\n          const { deviceId: e, optedOut: t } = yield S.a.getSubscription();\n          if (z.isSafari()) {\n            const i = window.safari.pushNotification.permission(\n              this.config.safariWebId\n            );\n            return {\n              subscribed: !(\"granted\" !== i.permission || !i.deviceToken || !e),\n              optedOut: !!t\n            };\n          }\n          const i = yield this.context.serviceWorkerManager.getActiveState(),\n            n = yield A.getRegistration(),\n            r = yield this.context.permissionManager.getNotificationPermission(\n              this.context.appConfig.safariWebId\n            ),\n            o = i === E.a.WorkerA || i === E.a.WorkerB;\n          return n\n            ? { subscribed: !(!e || r !== p.a.Granted || !o), optedOut: !!t }\n            : { subscribed: !1, optedOut: !!t };\n        });\n      }\n      getSubscriptionStateForInsecure() {\n        return c.a(this, void 0, void 0, function*() {\n          const {\n              deviceId: e,\n              subscriptionToken: t,\n              optedOut: i\n            } = yield S.a.getSubscription(),\n            n = yield this.context.permissionManager.getNotificationPermission(\n              this.context.appConfig.safariWebId\n            );\n          return {\n            subscribed: !(!e || !t || n !== p.a.Granted),\n            optedOut: !!i\n          };\n        });\n      }\n      registerFailedSubscription(e, t) {\n        return c.a(this, void 0, void 0, function*() {\n          t.sessionManager.isFirstPageView() &&\n            (t.subscriptionManager.registerSubscription(new U.a(), e),\n            t.sessionManager.incrementPageViewCount());\n        });\n      }\n    }\n    var K,\n      G,\n      q = class {\n        static getServiceWorkerManager(e) {\n          const t = e.appConfig,\n            i = r.a.getBuildEnvPrefix(),\n            n = {\n              workerAPath: new v(`/${i}OneSignalSDKWorker.js`),\n              workerBPath: new v(`/${i}OneSignalSDKUpdaterWorker.js`),\n              registrationOptions: { scope: \"/\" }\n            };\n          return (\n            t.userConfig &&\n              (t.userConfig.path &&\n                ((n.workerAPath = new v(\n                  `${t.userConfig.path}${i}${t.userConfig.serviceWorkerPath}`\n                )),\n                (n.workerBPath = new v(\n                  `${t.userConfig.path}${i}${t.userConfig.serviceWorkerUpdaterPath}`\n                ))),\n              t.userConfig.serviceWorkerParam &&\n                (n.registrationOptions = t.userConfig.serviceWorkerParam)),\n            new A(e, n)\n          );\n        }\n        static getSubscriptionManager(e) {\n          const t = e.appConfig,\n            i = {\n              safariWebId: t.safariWebId,\n              appId: t.appId,\n              vapidPublicKey: t.vapidPublicKey,\n              onesignalVapidPublicKey: t.onesignalVapidPublicKey\n            };\n          return new z(e, i);\n        }\n      };\n    ((G = K || (K = {}))[(G.Unknown = 0)] = \"Unknown\"),\n      (G[(G.NoDeviceId = 1)] = \"NoDeviceId\"),\n      (G[(G.NoEmailSet = 2)] = \"NoEmailSet\"),\n      (G[(G.OptedOut = 3)] = \"OptedOut\");\n    class J extends O.a {\n      constructor(e) {\n        switch (e) {\n          case K.Unknown || K.NoDeviceId:\n            super(\n              \"This operation can only be performed after the user is subscribed.\"\n            );\n            break;\n          case K.NoEmailSet:\n            super(\"No email is currently set.\");\n            break;\n          case K.OptedOut:\n            super(\n              \"The user has manually opted out of receiving of notifications. This operation can only be performed after the user is fully resubscribed.\"\n            );\n        }\n        (this.reason = K[e]), Object.setPrototypeOf(this, J.prototype);\n      }\n    }\n    var Y = i(29);\n    class Q {\n      constructor(e) {\n        (this.context = e),\n          (this.onSessionSent = e.sessionManager.getPageViewCount() > 1);\n      }\n      getDeviceId() {\n        return c.a(this, void 0, void 0, function*() {\n          const { deviceId: e } = yield S.a.getSubscription();\n          if (!e) throw new J(K.NoDeviceId);\n          return e;\n        });\n      }\n      createDeviceRecord() {\n        return c.a(this, void 0, void 0, function*() {\n          const e = new B.a();\n          return (\n            (e.appId = this.context.appConfig.appId),\n            (e.subscriptionState = yield Y.a.getCurrentNotificationType()),\n            e\n          );\n        });\n      }\n      sendPlayerUpdate(e) {\n        return c.a(this, void 0, void 0, function*() {\n          if (\n            !(yield this.context.subscriptionManager.isAlreadyRegisteredWithOneSignal())\n          )\n            return void s.a.debug(\n              \"Not sending the update because user is not registered with OneSignal (no device id)\"\n            );\n          const t = yield this.getDeviceId();\n          e || (e = yield this.createDeviceRecord()),\n            this.onSessionSent\n              ? yield _.updatePlayer(\n                  this.context.appConfig.appId,\n                  t,\n                  Object.assign(\n                    { notification_types: F.a.Subscribed },\n                    e.serialize()\n                  )\n                )\n              : yield this.sendOnSessionUpdate(e);\n        });\n      }\n      sendOnSessionUpdate(e) {\n        return c.a(this, void 0, void 0, function*() {\n          if (this.onSessionSent) return;\n          if (!this.context.sessionManager.isFirstPageView()) return;\n          if (\n            !(yield this.context.subscriptionManager.isAlreadyRegisteredWithOneSignal())\n          )\n            return void s.a.debug(\n              \"Not sending the on session because user is not registered with OneSignal (no device id)\"\n            );\n          const t = yield this.getDeviceId();\n          if (\n            (e || (e = yield this.createDeviceRecord()),\n            e.subscriptionState === F.a.Subscribed ||\n              !0 === OneSignal.config.enableOnSession)\n          )\n            try {\n              const i = yield _.updateUserSession(t, e);\n              if (((this.onSessionSent = !0), i !== t)) {\n                const e = yield S.a.getSubscription();\n                (e.deviceId = i), yield S.a.setSubscription(e);\n              }\n            } catch (e) {\n              s.a.error(\n                `Failed to update user session. Error \"${e.message}\" ${e.stack}`\n              );\n            }\n        });\n      }\n      sendPlayerCreate(e) {\n        return c.a(this, void 0, void 0, function*() {\n          try {\n            const t = yield _.createUser(e);\n            return t\n              ? (s.a.info(\n                  \"Subscribed to web push and registered with OneSignal\",\n                  e,\n                  t\n                ),\n                (this.onSessionSent = !0),\n                t)\n              : void s.a.error(\"Failed to create user.\");\n          } catch (e) {\n            return void s.a.error(\n              `Failed to create user. Error \"${e.message}\" ${e.stack}`\n            );\n          }\n        });\n      }\n      onSessionAlreadyCalled() {\n        return this.onSessionSent;\n      }\n      sendExternalUserIdUpdate(e) {\n        return c.a(this, void 0, void 0, function*() {\n          const t = yield this.getDeviceId();\n          yield _.updatePlayer(this.context.appConfig.appId, t, {\n            external_user_id: x.b.getValueOrDefault(e, \"\")\n          });\n        });\n      }\n    }\n    i.d(t, \"a\", function() {\n      return X;\n    });\n    class X {\n      constructor(e) {\n        (this.appConfig = e),\n          (this.subscriptionManager = q.getSubscriptionManager(this)),\n          (this.serviceWorkerManager = q.getServiceWorkerManager(this)),\n          (this.sessionManager = new a()),\n          (this.permissionManager = new b()),\n          (this.workerMessenger = new n.a(this)),\n          (this.updateManager = new Q(this));\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return s;\n    });\n    var n = i(0),\n      r = i(5),\n      o = i(19);\n    class s {\n      static triggerNotificationPermissionChanged(e = !1) {\n        return n.a(this, void 0, void 0, function*() {\n          const t = yield OneSignal.privateGetNotificationPermission();\n          (t !== (yield r.a.get(\"Options\", \"notificationPermission\")) || e) &&\n            (yield r.a.put(\"Options\", {\n              key: \"notificationPermission\",\n              value: t\n            }),\n            o.a.trigger(OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, {\n              to: t\n            }));\n        });\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n = i(0),\n      r = i(17),\n      o = i(9),\n      s = i(1),\n      a = i(2);\n    t.a = class {\n      static downloadServerAppConfig(e) {\n        return n.a(this, void 0, void 0, function*() {\n          return (\n            a.a.enforceAppId(e),\n            yield new Promise((t, i) => {\n              t(r.a.get(`sync/${e}/web`, null));\n            })\n          );\n        });\n      }\n      static getUserIdFromSubscriptionIdentifier(e, t, i) {\n        return (\n          a.a.enforceAppId(e),\n          r.a\n            .post(\"players\", {\n              app_id: e,\n              device_type: t,\n              identifier: i,\n              notification_types: o.a.TemporaryWebRecord\n            })\n            .then(e => (e && e.id ? e.id : null))\n            .catch(\n              e => (\n                s.a.debug(\n                  \"Error getting user ID from subscription identifier:\",\n                  e\n                ),\n                null\n              )\n            )\n        );\n      }\n      static updatePlayer(e, t, i) {\n        return (\n          a.a.enforceAppId(e),\n          a.a.enforcePlayerId(t),\n          r.a.put(`players/${t}`, Object.assign({ app_id: e }, i))\n        );\n      }\n    };\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n = i(0),\n      InvalidStateError = i(16),\n      r = i(19),\n      o = i(3),\n      s = i(5);\n    class a {\n      static isLocalStorageSupported() {\n        try {\n          return (\n            \"undefined\" != typeof localStorage &&\n            (localStorage.getItem(\"test\"), !0)\n          );\n        } catch (e) {\n          return !1;\n        }\n      }\n      static setItem(e, t, i) {\n        if (!a.isLocalStorageSupported()) return;\n        const n = void 0 !== i ? 60 * i * 1e3 : 0,\n          r = {\n            value: JSON.stringify(t),\n            timestamp: void 0 !== i ? new Date().getTime() + n : void 0\n          };\n        localStorage.setItem(e, JSON.stringify(r));\n      }\n      static getItem(e) {\n        if (!a.isLocalStorageSupported()) return null;\n        const t = localStorage.getItem(e);\n        let i;\n        try {\n          i = JSON.parse(t);\n        } catch (e) {\n          return null;\n        }\n        if (null === i) return null;\n        if (i.timestamp && new Date().getTime() >= i.timestamp)\n          return localStorage.removeItem(e), null;\n        let n = i.value;\n        try {\n          n = JSON.parse(i.value);\n        } catch (e) {\n          return n;\n        }\n        return n;\n      }\n      static removeItem(e) {\n        if (!a.isLocalStorageSupported()) return null;\n        localStorage.removeItem(e);\n      }\n    }\n    var c = i(1),\n      d = i(9),\n      u = i(12),\n      l = i(8),\n      p = i(27),\n      g = i(2);\n    i.d(t, \"a\", function() {\n      return f;\n    });\n    class f {\n      static getCurrentNotificationType() {\n        return n.a(this, void 0, void 0, function*() {\n          const e = yield OneSignal.context.permissionManager.getNotificationPermission(\n            OneSignal.context.appConfig.safariWebId\n          );\n          if (e === u.a.Default) return d.a.Default;\n          if (e === u.a.Denied)\n            return l.a.isUsingSubscriptionWorkaround()\n              ? d.a.Default\n              : d.a.NotSubscribed;\n          const t = yield OneSignal.context.subscriptionManager.isAlreadyRegisteredWithOneSignal();\n          if (e === u.a.Granted && t) {\n            return (yield OneSignal.privateIsPushNotificationsEnabled())\n              ? d.a.Subscribed\n              : d.a.MutedByApi;\n          }\n          return d.a.Default;\n        });\n      }\n      static getNotificationTypeFromOptIn(e) {\n        return 1 == e || null == e ? d.a.Subscribed : d.a.MutedByApi;\n      }\n      static wasHttpsNativePromptDismissed() {\n        return \"dismissed\" === a.getItem(\"onesignal-notification-prompt\");\n      }\n      static markHttpPopoverShown() {\n        sessionStorage.setItem(\"ONESIGNAL_HTTP_PROMPT_SHOWN\", \"true\");\n      }\n      static isHttpPromptAlreadyShown() {\n        return \"true\" == sessionStorage.getItem(\"ONESIGNAL_HTTP_PROMPT_SHOWN\");\n      }\n      static checkAndTriggerNotificationPermissionChanged() {\n        return n.a(this, void 0, void 0, function*() {\n          const e = yield s.a.get(\"Options\", \"notificationPermission\"),\n            t = yield OneSignal.getNotificationPermission();\n          e !== t &&\n            (yield p.a.triggerNotificationPermissionChanged(),\n            yield s.a.put(\"Options\", {\n              key: \"notificationPermission\",\n              value: t\n            }));\n        });\n      }\n      static getNotificationIcons() {\n        return n.a(this, void 0, void 0, function*() {\n          const e = yield f.getAppId();\n          if (!e)\n            throw new InvalidStateError.a(InvalidStateError.b.MissingAppId);\n          var t = `${o.a.getOneSignalApiUrl().toString()}/apps/${e}/icon`;\n          const i = yield (yield fetch(t)).json();\n          if (i.errors)\n            throw (c.a.error(\n              `API call %c${t}`,\n              g.a.getConsoleStyle(\"code\"),\n              \"failed with:\",\n              i.errors\n            ),\n            new Error(\"Failed to get notification icons.\"));\n          return i;\n        });\n      }\n      static getSlidedownPermissionMessageOptions(e) {\n        const t =\n          \"We'd like to show you notifications for the latest news and updates.\";\n        return e\n          ? e.slidedown\n            ? {\n                enabled: e.slidedown.enabled,\n                autoPrompt: e.slidedown.autoPrompt,\n                actionMessage: e.slidedown.actionMessage || t,\n                acceptButtonText: e.slidedown.acceptButtonText || \"Allow\",\n                cancelButtonText: e.slidedown.cancelButtonText || \"No Thanks\"\n              }\n            : {\n                enabled: !1,\n                autoPrompt: !1,\n                actionMessage: e.actionMessage || t,\n                acceptButtonText: e.acceptButtonText || \"Allow\",\n                cancelButtonText: e.cancelButtonText || \"No Thanks\"\n              }\n          : {\n              enabled: !1,\n              autoPrompt: !1,\n              actionMessage: t,\n              acceptButtonText: \"Allow\",\n              cancelButtonText: \"No Thanks\"\n            };\n      }\n      static getFullscreenPermissionMessageOptions(e) {\n        return e\n          ? e.fullscreen\n            ? {\n                autoAcceptTitle: e.fullscreen.autoAcceptTitle,\n                actionMessage: e.fullscreen.actionMessage,\n                exampleNotificationTitleDesktop: e.fullscreen.title,\n                exampleNotificationTitleMobile: e.fullscreen.title,\n                exampleNotificationMessageDesktop: e.fullscreen.message,\n                exampleNotificationMessageMobile: e.fullscreen.message,\n                exampleNotificationCaption: e.fullscreen.caption,\n                acceptButtonText: e.fullscreen.acceptButton,\n                cancelButtonText: e.fullscreen.cancelButton\n              }\n            : e\n          : null;\n      }\n      static getPromptOptionsQueryString() {\n        let e = \"\";\n        if (\n          f.getFullscreenPermissionMessageOptions(\n            OneSignal.config.userConfig.promptOptions\n          )\n        ) {\n          let t = f.getPromptOptionsPostHash();\n          for (let i of Object.keys(t)) {\n            e += \"&\" + i + \"=\" + t[i];\n          }\n        }\n        return e;\n      }\n      static getPromptOptionsPostHash() {\n        let e = f.getFullscreenPermissionMessageOptions(\n          OneSignal.config.userConfig.promptOptions\n        );\n        if (e) {\n          var t = {\n            exampleNotificationTitleDesktop: \"exampleNotificationTitle\",\n            exampleNotificationMessageDesktop: \"exampleNotificationMessage\",\n            exampleNotificationTitleMobile: \"exampleNotificationTitle\",\n            exampleNotificationMessageMobile: \"exampleNotificationMessage\"\n          };\n          for (let i of Object.keys(t)) {\n            let n = t[i];\n            e[i] && (e[n] = e[i]);\n          }\n          for (\n            var i = [\n                \"autoAcceptTitle\",\n                \"siteName\",\n                \"autoAcceptTitle\",\n                \"subscribeText\",\n                \"showGraphic\",\n                \"actionMessage\",\n                \"exampleNotificationTitle\",\n                \"exampleNotificationMessage\",\n                \"exampleNotificationCaption\",\n                \"acceptButtonText\",\n                \"cancelButtonText\",\n                \"timeout\"\n              ],\n              n = {},\n              r = 0;\n            r < i.length;\n            r++\n          ) {\n            var o = i[r],\n              s = e[o],\n              a = encodeURIComponent(s);\n            (s || !1 === s || \"\" === s) && (n[o] = a);\n          }\n        }\n        return n;\n      }\n      static triggerCustomPromptClicked(e) {\n        r.a.trigger(OneSignal.EVENTS.CUSTOM_PROMPT_CLICKED, { result: e });\n      }\n      static getAppId() {\n        return n.a(this, void 0, void 0, function*() {\n          if (OneSignal.config.appId)\n            return Promise.resolve(OneSignal.config.appId);\n          return yield s.a.get(\"Ids\", \"appId\");\n        });\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.d(t, \"a\", function() {\n      return d;\n    });\n    var n = i(11),\n      r = i.n(n),\n      o = i(10),\n      s = i(18),\n      a = i(23),\n      c = i(8);\n    class d {\n      constructor() {\n        (this.language = o.a.getLanguage()),\n          (this.timezone = -60 * new Date().getTimezoneOffset());\n        const e = parseInt(String(r.a.version), 10);\n        (this.browserVersion = isNaN(e) ? -1 : e),\n          (this.deviceModel = navigator.platform),\n          (this.sdkVersion = o.a.version().toString()),\n          (this.deliveryPlatform = this.getDeliveryPlatform());\n      }\n      isSafari() {\n        return (\n          r.a.safari &&\n          void 0 !== window.safari &&\n          void 0 !== window.safari.pushNotification\n        );\n      }\n      getDeliveryPlatform() {\n        const e = c.a.redetectBrowserUserAgent();\n        return this.isSafari()\n          ? a.a.Safari\n          : e.firefox\n          ? a.a.Firefox\n          : e.msedge\n          ? a.a.Edge\n          : a.a.ChromeLike;\n      }\n      serialize() {\n        const e = {\n          device_type: this.deliveryPlatform,\n          language: this.language,\n          timezone: this.timezone,\n          device_os: this.browserVersion,\n          device_model: this.deviceModel,\n          sdk: this.sdkVersion,\n          notification_types: this.subscriptionState\n        };\n        return this.appId && (e.app_id = this.appId), e;\n      }\n      deserialize(e) {\n        throw new s.a();\n      }\n    }\n  },\n  function(e, t, i) {\n    \"use strict\";\n    var n,\n      r,\n      o,\n      s = i(0);\n    !(function(e) {\n      (e.TypicalSite = \"typical\"),\n        (e.WordPress = \"wordpress\"),\n        (e.Shopify = \"shopify\"),\n        (e.Blogger = \"blogger\"),\n        (e.Magento = \"magento\"),\n        (e.Drupal = \"drupal\"),\n        (e.SquareSpace = \"squarespace\"),\n        (e.Joomla = \"joomla\"),\n        (e.Weebly = \"weebly\"),\n        (e.Wix = \"wix\"),\n        (e.Custom = \"custom\");\n    })(n || (n = {})),\n      (function(e) {\n        (e.Exact = \"exact\"), (e.Origin = \"origin\");\n      })(r || (r = {})),\n      (function(e) {\n        (e.Navigate = \"navigate\"), (e.Focus = \"focus\");\n      })(o || (o = {}));\n    var a,\n      c,\n      d = i(4),\n      SdkInitError = i(20),\n      u = i(3),\n      l = i(8),\n      p = i(2),\n      g = i(29);\n    i.d(t, \"a\", function() {\n      return f;\n    }),\n      ((c = a || (a = {}))[(c.Dashboard = 0)] = \"Dashboard\"),\n      (c[(c.JavaScript = 1)] = \"JavaScript\");\n    class f {\n      static getAppConfig(e, t) {\n        return s.a(this, void 0, void 0, function*() {\n          try {\n            if (!e || !e.appId || !l.b.isValidUuid(e.appId))\n              throw new SdkInitError.a(SdkInitError.b.InvalidAppId);\n            const i = yield t(e.appId),\n              n = this.getMergedConfig(e, i);\n            return this.checkRestrictedOrigin(n), n;\n          } catch (e) {\n            if (e) {\n              if (1 === e.code)\n                throw new SdkInitError.a(SdkInitError.b.InvalidAppId);\n              if (2 === e.code)\n                throw new SdkInitError.a(\n                  SdkInitError.b.AppNotConfiguredForWebPush\n                );\n            }\n            throw e;\n          }\n        });\n      }\n      static checkRestrictedOrigin(e) {\n        if (\n          e.restrictedOriginEnabled &&\n          u.a.getWindowEnv() !== d.a.ServiceWorker &&\n          window.top === window &&\n          !p.b.contains(window.location.hostname, \".os.tc\") &&\n          !p.b.contains(window.location.hostname, \".onesignal.com\") &&\n          !this.doesCurrentOriginMatchConfigOrigin(e.origin)\n        )\n          throw new SdkInitError.a(SdkInitError.b.WrongSiteUrl, {\n            siteUrl: e.origin\n          });\n      }\n      static doesCurrentOriginMatchConfigOrigin(e) {\n        try {\n          return location.origin === new URL(e).origin;\n        } catch (e) {\n          return !1;\n        }\n      }\n      static getIntegrationCapabilities(e) {\n        switch (e) {\n          case n.Custom:\n          case n.WordPress:\n            return { configuration: a.JavaScript };\n          default:\n            return { configuration: a.Dashboard };\n        }\n      }\n      static getMergedConfig(e, t) {\n        const i = this.getConfigIntegrationKind(t),\n          n = this.getSubdomainForConfigIntegrationKind(i, e, t),\n          r = t.config.setupBehavior\n            ? t.config.setupBehavior.allowLocalhostAsSecureOrigin\n            : e.allowLocalhostAsSecureOrigin,\n          o = l.b.internalIsUsingSubscriptionWorkaround(n, r),\n          s = this.getUserConfigForConfigIntegrationKind(i, e, t, o);\n        return {\n          appId: t.app_id,\n          subdomain: n,\n          origin: t.config.origin,\n          httpUseOneSignalCom: t.config.http_use_onesignal_com,\n          cookieSyncEnabled: t.features.cookie_sync.enable,\n          restrictedOriginEnabled:\n            t.features.restrict_origin && t.features.restrict_origin.enable,\n          metrics: {\n            enable: t.features.metrics.enable,\n            mixpanelReportingToken: t.features.metrics.mixpanel_reporting_token\n          },\n          safariWebId: t.config.safari_web_id,\n          vapidPublicKey: t.config.vapid_public_key,\n          onesignalVapidPublicKey: t.config.onesignal_vapid_public_key,\n          emailAuthRequired: t.features.email && t.features.email.require_auth,\n          userConfig: s,\n          enableOnSession: t.features.enable_on_session || !1,\n          receiveReceiptsEnable: t.features.receive_receipts_enable || !1\n        };\n      }\n      static getConfigIntegrationKind(e) {\n        return e.config.integration ? e.config.integration.kind : n.Custom;\n      }\n      static getCustomLinkConfig(e) {\n        const t = {\n          enabled: !1,\n          style: \"button\",\n          size: \"medium\",\n          unsubscribeEnabled: !1,\n          text: { explanation: \"\", subscribe: \"\", unsubscribe: \"\" },\n          color: { button: \"\", text: \"\" }\n        };\n        if (\n          !(\n            e &&\n            e.config &&\n            e.config.staticPrompts &&\n            e.config.staticPrompts.customlink &&\n            e.config.staticPrompts.customlink.enabled\n          )\n        )\n          return t;\n        const i = e.config.staticPrompts.customlink;\n        return {\n          enabled: i.enabled,\n          style: i.style,\n          size: i.size,\n          unsubscribeEnabled: i.unsubscribeEnabled,\n          text: i.text\n            ? {\n                subscribe: i.text.subscribe,\n                unsubscribe: i.text.unsubscribe,\n                explanation: i.text.explanation\n              }\n            : t.text,\n          color: i.color\n            ? { button: i.color.button, text: i.color.text }\n            : t.color\n        };\n      }\n      static injectDefaultsIntoPromptOptions(e, t, i, n = !1) {\n        let r = { enabled: !1 };\n        e && e.customlink && (r = e.customlink);\n        const o = t.customlink,\n          s = Object.assign({}, e, {\n            customlink: {\n              enabled: p.b.getValueOrDefault(r.enabled, o.enabled),\n              style: p.b.getValueOrDefault(r.style, o.style),\n              size: p.b.getValueOrDefault(r.size, o.size),\n              unsubscribeEnabled: p.b.getValueOrDefault(\n                r.unsubscribeEnabled,\n                o.unsubscribeEnabled\n              ),\n              text: {\n                subscribe: p.b.getValueOrDefault(\n                  r.text ? r.text.subscribe : void 0,\n                  o.text.subscribe\n                ),\n                unsubscribe: p.b.getValueOrDefault(\n                  r.text ? r.text.unsubscribe : void 0,\n                  o.text.unsubscribe\n                ),\n                explanation: p.b.getValueOrDefault(\n                  r.text ? r.text.explanation : void 0,\n                  o.text.explanation\n                )\n              },\n              color: {\n                button: p.b.getValueOrDefault(\n                  r.color ? r.color.button : void 0,\n                  o.color.button\n                ),\n                text: p.b.getValueOrDefault(\n                  r.color ? r.color.text : void 0,\n                  o.color.text\n                )\n              }\n            }\n          });\n        return (\n          s.slidedown\n            ? ((s.slidedown.enabled = !!s.slidedown.enabled),\n              (s.slidedown.autoPrompt = s.slidedown.hasOwnProperty(\"autoPrompt\")\n                ? !!s.slidedown.enabled && !!s.slidedown.autoPrompt\n                : !!s.slidedown.enabled))\n            : ((s.slidedown = g.a.getSlidedownPermissionMessageOptions(s)),\n              (s.slidedown.enabled = !1),\n              (s.slidedown.autoPrompt = !1)),\n          s.native\n            ? ((s.native.enabled = !!s.native.enabled),\n              (s.native.autoPrompt = s.native.hasOwnProperty(\"autoPrompt\")\n                ? !!s.native.enabled && !!s.native.autoPrompt\n                : !!s.native.enabled))\n            : (s.native = { enabled: !1, autoPrompt: !1 }),\n          !0 === i.autoRegister &&\n            (n\n              ? ((s.native.enabled = !1),\n                (s.native.autoPrompt = !1),\n                (s.slidedown.enabled = !0),\n                (s.slidedown.autoPrompt = !0))\n              : ((s.native.enabled = !0), (s.native.autoPrompt = !0))),\n          (s.autoPrompt = s.native.autoPrompt || s.slidedown.autoPrompt),\n          s\n        );\n      }\n      static getPromptOptionsForDashboardConfiguration(e) {\n        const t = e.config.staticPrompts,\n          i = t.native\n            ? {\n                enabled: t.native.enabled,\n                autoPrompt: t.native.enabled && !1 !== t.native.autoPrompt\n              }\n            : { enabled: !1, autoPrompt: !1 },\n          n = {\n            enabled: t.slidedown.enabled,\n            autoPrompt: t.slidedown.enabled && !1 !== t.slidedown.autoPrompt,\n            actionMessage: t.slidedown.actionMessage,\n            acceptButtonText: t.slidedown.acceptButton,\n            cancelButtonText: t.slidedown.cancelButton\n          };\n        return {\n          autoPrompt: i.autoPrompt || n.autoPrompt,\n          native: i,\n          slidedown: n,\n          fullscreen: {\n            enabled: t.fullscreen.enabled,\n            actionMessage: t.fullscreen.actionMessage,\n            acceptButton: t.fullscreen.acceptButton,\n            cancelButton: t.fullscreen.cancelButton,\n            title: t.fullscreen.title,\n            message: t.fullscreen.message,\n            caption: t.fullscreen.caption,\n            autoAcceptTitle: t.fullscreen.autoAcceptTitle\n          },\n          customlink: this.getCustomLinkConfig(e)\n        };\n      }\n      static getUserConfigForConfigIntegrationKind(e, t, i, n = !1) {\n        switch (this.getIntegrationCapabilities(e).configuration) {\n          case a.Dashboard:\n            return {\n              appId: i.app_id,\n              autoRegister: !1,\n              autoResubscribe: i.config.autoResubscribe,\n              path: i.config.serviceWorker.path,\n              serviceWorkerPath: i.config.serviceWorker.workerName,\n              serviceWorkerUpdaterPath:\n                i.config.serviceWorker.updaterWorkerName,\n              serviceWorkerParam: {\n                scope: i.config.serviceWorker.registrationScope\n              },\n              subdomainName: i.config.siteInfo.proxyOrigin,\n              promptOptions: this.getPromptOptionsForDashboardConfiguration(i),\n              welcomeNotification: {\n                disable: !i.config.welcomeNotification.enable,\n                title: i.config.welcomeNotification.title,\n                message: i.config.welcomeNotification.message,\n                url: i.config.welcomeNotification.url\n              },\n              notifyButton: {\n                enable: i.config.staticPrompts.bell.enabled,\n                displayPredicate: i.config.staticPrompts.bell.hideWhenSubscribed\n                  ? () => OneSignal.isPushNotificationsEnabled().then(e => !e)\n                  : null,\n                size: i.config.staticPrompts.bell.size,\n                position: i.config.staticPrompts.bell.location,\n                showCredit: !1,\n                offset: {\n                  bottom: i.config.staticPrompts.bell.offset.bottom + \"px\",\n                  left: i.config.staticPrompts.bell.offset.left + \"px\",\n                  right: i.config.staticPrompts.bell.offset.right + \"px\"\n                },\n                colors: {\n                  \"circle.background\": i.config.staticPrompts.bell.color.main,\n                  \"circle.foreground\": i.config.staticPrompts.bell.color.accent,\n                  \"badge.background\": \"black\",\n                  \"badge.foreground\": \"white\",\n                  \"badge.bordercolor\": \"black\",\n                  \"pulse.color\": i.config.staticPrompts.bell.color.accent,\n                  \"dialog.button.background.hovering\":\n                    i.config.staticPrompts.bell.color.main,\n                  \"dialog.button.background.active\":\n                    i.config.staticPrompts.bell.color.main,\n                  \"dialog.button.background\":\n                    i.config.staticPrompts.bell.color.main,\n                  \"dialog.button.foreground\": \"white\"\n                },\n                text: {\n                  \"tip.state.unsubscribed\":\n                    i.config.staticPrompts.bell.tooltip.unsubscribed,\n                  \"tip.state.subscribed\":\n                    i.config.staticPrompts.bell.tooltip.subscribed,\n                  \"tip.state.blocked\":\n                    i.config.staticPrompts.bell.tooltip.blocked,\n                  \"message.prenotify\":\n                    i.config.staticPrompts.bell.tooltip.unsubscribed,\n                  \"message.action.subscribing\":\n                    i.config.staticPrompts.bell.message.subscribing,\n                  \"message.action.subscribed\":\n                    i.config.staticPrompts.bell.message.subscribing,\n                  \"message.action.resubscribed\":\n                    i.config.staticPrompts.bell.message.subscribing,\n                  \"message.action.unsubscribed\":\n                    i.config.staticPrompts.bell.message.unsubscribing,\n                  \"dialog.main.title\":\n                    i.config.staticPrompts.bell.dialog.main.title,\n                  \"dialog.main.button.subscribe\":\n                    i.config.staticPrompts.bell.dialog.main.subscribeButton,\n                  \"dialog.main.button.unsubscribe\":\n                    i.config.staticPrompts.bell.dialog.main.unsubscribeButton,\n                  \"dialog.blocked.title\":\n                    i.config.staticPrompts.bell.dialog.blocked.title,\n                  \"dialog.blocked.message\":\n                    i.config.staticPrompts.bell.dialog.blocked.message\n                }\n              },\n              persistNotification: i.config.notificationBehavior\n                ? i.config.notificationBehavior.display.persist\n                : void 0,\n              webhooks: {\n                cors: i.config.webhooks.corsEnable,\n                \"notification.displayed\":\n                  i.config.webhooks.notificationDisplayedHook,\n                \"notification.clicked\":\n                  i.config.webhooks.notificationClickedHook,\n                \"notification.dismissed\":\n                  i.config.webhooks.notificationDismissedHook\n              },\n              notificationClickHandlerMatch: i.config.notificationBehavior\n                ? i.config.notificationBehavior.click.match\n                : void 0,\n              notificationClickHandlerAction: i.config.notificationBehavior\n                ? i.config.notificationBehavior.click.action\n                : void 0,\n              allowLocalhostAsSecureOrigin: i.config.setupBehavior\n                ? i.config.setupBehavior.allowLocalhostAsSecureOrigin\n                : void 0,\n              requiresUserPrivacyConsent: t.requiresUserPrivacyConsent\n            };\n          case a.JavaScript:\n            const r = Object.assign(\n              {},\n              t,\n              {\n                promptOptions: this.injectDefaultsIntoPromptOptions(\n                  t.promptOptions,\n                  i.config.staticPrompts,\n                  t,\n                  n\n                )\n              },\n              {\n                serviceWorkerParam:\n                  \"undefined\" != typeof OneSignal &&\n                  OneSignal.SERVICE_WORKER_PARAM\n                    ? OneSignal.SERVICE_WORKER_PARAM\n                    : { scope: \"/\" },\n                serviceWorkerPath:\n                  \"undefined\" != typeof OneSignal &&\n                  OneSignal.SERVICE_WORKER_PATH\n                    ? OneSignal.SERVICE_WORKER_PATH\n                    : \"OneSignalSDKWorker.js\",\n                serviceWorkerUpdaterPath:\n                  \"undefined\" != typeof OneSignal &&\n                  OneSignal.SERVICE_WORKER_UPDATER_PATH\n                    ? OneSignal.SERVICE_WORKER_UPDATER_PATH\n                    : \"OneSignalSDUpdaterKWorker.js\",\n                path: t.path ? t.path : \"/\"\n              }\n            );\n            return (\n              t.hasOwnProperty(\"autoResubscribe\")\n                ? (r.autoResubscribe = !!t.autoResubscribe)\n                : t.hasOwnProperty(\"autoRegister\")\n                ? (r.autoResubscribe = !!t.autoRegister)\n                : (r.autoResubscribe = !!i.config.autoResubscribe),\n              r\n            );\n        }\n      }\n      static getSubdomainForConfigIntegrationKind(e, t, i) {\n        const n = this.getIntegrationCapabilities(e);\n        let r = t.subdomainName,\n          o = \"\";\n        switch (n.configuration) {\n          case a.Dashboard:\n            o = i.config.siteInfo.proxyOriginEnabled\n              ? i.config.siteInfo.proxyOrigin\n              : void 0;\n            break;\n          case a.JavaScript:\n            o = i.config.subdomain;\n        }\n        return o && !this.shouldUseServerConfigSubdomain(r, n) ? void 0 : o;\n      }\n      static shouldUseServerConfigSubdomain(e, t) {\n        switch (t.configuration) {\n          case a.Dashboard:\n            return !0;\n          case a.JavaScript:\n            switch (location.protocol) {\n              case \"https:\":\n                return !!e;\n              case \"http:\":\n                return !0;\n              default:\n                return !1;\n            }\n        }\n      }\n    }\n  },\n  function(e, t) {\n    var i;\n    i = (function() {\n      return this;\n    })();\n    try {\n      i = i || Function(\"return this\")() || (0, eval)(\"this\");\n    } catch (e) {\n      \"object\" == typeof window && (i = window);\n    }\n    e.exports = i;\n  },\n  function(e, t, i) {\n    \"use strict\";\n    (function(e) {\n      i.d(t, \"a\", function() {\n        return y;\n      });\n      var n = i(0),\n        r = i(11),\n        o = i.n(r),\n        s = i(10),\n        a = i(7),\n        c = i(3),\n        d = i(26),\n        u = i(17),\n        l = i(28),\n        p = i(5),\n        g = i(21),\n        f = i(9),\n        h = i(24),\n        b = i(1),\n        m = i(31),\n        v = i(8),\n        S = i(2);\n      class y {\n        static get VERSION() {\n          return s.a.version();\n        }\n        static get environment() {\n          return s.a;\n        }\n        static get log() {\n          return b.a;\n        }\n        static get database() {\n          return p.a;\n        }\n        static get browser() {\n          return o.a;\n        }\n        static get workerMessenger() {\n          return (\n            self.workerMessenger || (self.workerMessenger = new a.a(null)),\n            self.workerMessenger\n          );\n        }\n        static run() {\n          self.addEventListener(\"push\", y.onPushReceived),\n            self.addEventListener(\"notificationclose\", y.onNotificationClosed),\n            self.addEventListener(\"notificationclick\", e =>\n              e.waitUntil(y.onNotificationClicked(e))\n            ),\n            self.addEventListener(\"install\", y.onServiceWorkerInstalled),\n            self.addEventListener(\"activate\", y.onServiceWorkerActivated),\n            self.addEventListener(\"pushsubscriptionchange\", e => {\n              e.waitUntil(y.onPushSubscriptionChange(e));\n            }),\n            b.a.debug(\"Setting up message listeners.\"),\n            y.workerMessenger.listen(),\n            y.setupMessageListeners();\n        }\n        static getAppId() {\n          return n.a(this, void 0, void 0, function*() {\n            if (self.location.search) {\n              const e = self.location.search.match(/appId=([0-9a-z-]+)&?/i);\n              if (e && e.length > 1) {\n                return e[1];\n              }\n            }\n            const { appId: e } = yield p.a.getAppConfig();\n            return e;\n          });\n        }\n        static setupMessageListeners() {\n          y.workerMessenger.on(a.b.WorkerVersion, e => {\n            b.a.debug(\"[Service Worker] Received worker version message.\"),\n              y.workerMessenger.broadcast(a.b.WorkerVersion, s.a.version());\n          }),\n            y.workerMessenger.on(a.b.Subscribe, e =>\n              n.a(this, void 0, void 0, function*() {\n                const t = e;\n                b.a.debug(\"[Service Worker] Received subscribe message.\");\n                const i = new d.a(t),\n                  n = yield i.subscriptionManager.subscribe(0),\n                  r = yield i.subscriptionManager.registerSubscription(n);\n                y.workerMessenger.broadcast(a.b.Subscribe, r.serialize());\n              })\n            ),\n            y.workerMessenger.on(a.b.SubscribeNew, e =>\n              n.a(this, void 0, void 0, function*() {\n                const t = e;\n                b.a.debug(\"[Service Worker] Received subscribe new message.\");\n                const i = new d.a(t),\n                  n = yield i.subscriptionManager.subscribe(1),\n                  r = yield i.subscriptionManager.registerSubscription(n);\n                y.workerMessenger.broadcast(a.b.SubscribeNew, r.serialize());\n              })\n            ),\n            y.workerMessenger.on(a.b.AmpSubscriptionState, e =>\n              n.a(this, void 0, void 0, function*() {\n                b.a.debug(\n                  \"[Service Worker] Received AMP subscription state message.\"\n                );\n                const e = yield self.registration.pushManager.getSubscription();\n                if (e) {\n                  const t = yield self.registration.pushManager.permissionState(\n                      e.options\n                    ),\n                    { optedOut: i } = yield p.a.getSubscription(),\n                    n = !!e && \"granted\" === t && !0 !== i;\n                  y.workerMessenger.broadcast(a.b.AmpSubscriptionState, n);\n                } else y.workerMessenger.broadcast(a.b.AmpSubscriptionState, !1);\n              })\n            ),\n            y.workerMessenger.on(a.b.AmpSubscribe, () =>\n              n.a(this, void 0, void 0, function*() {\n                b.a.debug(\"[Service Worker] Received AMP subscribe message.\");\n                const e = yield y.getAppId(),\n                  t = yield m.a.getAppConfig(\n                    { appId: e },\n                    l.a.downloadServerAppConfig\n                  ),\n                  i = new d.a(t),\n                  n = yield i.subscriptionManager.subscribe(0),\n                  r = yield i.subscriptionManager.registerSubscription(n);\n                y.workerMessenger.broadcast(a.b.AmpSubscribe, r.deviceId);\n              })\n            ),\n            y.workerMessenger.on(a.b.AmpUnsubscribe, () =>\n              n.a(this, void 0, void 0, function*() {\n                b.a.debug(\"[Service Worker] Received AMP unsubscribe message.\");\n                const e = yield y.getAppId(),\n                  t = yield m.a.getAppConfig(\n                    { appId: e },\n                    l.a.downloadServerAppConfig\n                  );\n                yield new d.a(t).subscriptionManager.unsubscribe(1),\n                  y.workerMessenger.broadcast(a.b.AmpUnsubscribe, null);\n              })\n            );\n        }\n        static onPushReceived(e) {\n          b.a.debug(\n            `Called %conPushReceived(${JSON.stringify(e, null, 4)}):`,\n            S.a.getConsoleStyle(\"code\"),\n            e\n          ),\n            e.waitUntil(\n              y\n                .parseOrFetchNotifications(e)\n                .then(e => {\n                  let t = [];\n                  for (let i of e) {\n                    b.a.debug(\"Raw Notification from OneSignal:\", i);\n                    let e = y.buildStructuredNotificationObject(i);\n                    t.push(\n                      (e =>\n                        y\n                          .displayNotification(e)\n                          .then(() =>\n                            y.workerMessenger\n                              .broadcast(a.b.NotificationDisplayed, e)\n                              .catch(e => b.a.error(e))\n                          )\n                          .then(() =>\n                            y\n                              .executeWebhooks(\"notification.displayed\", e)\n                              .then(() => y.sendConfirmedDelivery(e))\n                              .catch(e => b.a.error(e))\n                          )).bind(null, e)\n                    );\n                  }\n                  return t.reduce((e, t) => e.then(t), Promise.resolve());\n                })\n                .catch(e => {\n                  b.a.debug(\"Failed to display a notification:\", e),\n                    y.UNSUBSCRIBED_FROM_NOTIFICATIONS &&\n                      b.a.debug(\n                        \"Because we have just unsubscribed from notifications, we will not show anything.\"\n                      );\n                })\n            );\n        }\n        static executeWebhooks(e, t) {\n          return n.a(this, void 0, void 0, function*() {\n            const i = yield p.a.get(\"Options\", `webhooks.${e}`);\n            if (!i) return null;\n            const { deviceId: n } = yield p.a.getSubscription(),\n              r = yield p.a.get(\"Options\", \"webhooks.cors\"),\n              o = {\n                event: e,\n                id: t.id,\n                userId: n,\n                action: t.action,\n                buttons: t.buttons,\n                heading: t.heading,\n                content: t.content,\n                url: t.url,\n                icon: t.icon,\n                data: t.data\n              },\n              s = { method: \"post\", mode: \"no-cors\", body: JSON.stringify(o) };\n            return (\n              r &&\n                ((s.mode = \"cors\"),\n                (s.headers = {\n                  \"X-OneSignal-Event\": e,\n                  \"Content-Type\": \"application/json\"\n                })),\n              b.a.debug(\n                `Executing ${e} webhook ${\n                  r ? \"with\" : \"without\"\n                } CORS %cPOST ${i}`,\n                S.a.getConsoleStyle(\"code\"),\n                \":\",\n                o\n              ),\n              yield fetch(i, s)\n            );\n          });\n        }\n        static sendConfirmedDelivery(e) {\n          return n.a(this, void 0, void 0, function*() {\n            if (!e) return null;\n            if (\"y\" !== e.rr) return null;\n            const t = yield y.getAppId(),\n              { deviceId: i } = yield p.a.getSubscription();\n            if (!!(!t || !e.id)) return null;\n            const n = { player_id: i, app_id: t };\n            return (\n              b.a.debug(\n                `Called %csendConfirmedDelivery(${JSON.stringify(e, null, 4)})`,\n                S.a.getConsoleStyle(\"code\")\n              ),\n              yield u.b.put(`notifications/${e.id}/report_received`, n)\n            );\n          });\n        }\n        static getActiveClients() {\n          return n.a(this, void 0, void 0, function*() {\n            const e = yield self.clients.matchAll({\n                type: \"window\",\n                includeUncontrolled: !0\n              }),\n              t = [];\n            for (const i of e) {\n              if (i.frameType && \"nested\" === i.frameType) {\n                if (\n                  !S.a.contains(i.url, c.a.getOneSignalApiUrl().host) &&\n                  !S.a.contains(i.url, \".os.tc\")\n                )\n                  continue;\n                i.isSubdomainIframe = !0;\n              }\n              t.push(i);\n            }\n            return t;\n          });\n        }\n        static buildStructuredNotificationObject(e) {\n          let t = {\n            id: e.custom.i,\n            heading: e.title,\n            content: e.alert,\n            data: e.custom.a,\n            url: e.custom.u,\n            rr: e.custom.rr,\n            icon: e.icon,\n            image: e.image,\n            tag: e.tag,\n            badge: e.badge,\n            vibrate: e.vibrate\n          };\n          if (e.o) {\n            t.buttons = [];\n            for (let i of e.o)\n              t.buttons.push({ action: i.i, title: i.n, icon: i.p, url: i.u });\n          }\n          return S.a.trimUndefined(t);\n        }\n        static ensureImageResourceHttps(e) {\n          if (!e) return null;\n          try {\n            let t = new URL(e);\n            return \"localhost\" === t.hostname ||\n              -1 !== t.hostname.indexOf(\"192.168\") ||\n              \"127.0.0.1\" === t.hostname ||\n              \"https:\" === t.protocol\n              ? e\n              : \"i0.wp.com\" === t.hostname ||\n                \"i1.wp.com\" === t.hostname ||\n                \"i2.wp.com\" === t.hostname ||\n                \"i3.wp.com\" === t.hostname\n              ? `https://${t.hostname}${t.pathname}`\n              : `https://i0.wp.com/${t.host + t.pathname}`;\n          } catch (e) {}\n        }\n        static ensureNotificationResourcesHttps(e) {\n          if (\n            e &&\n            (e.icon && (e.icon = y.ensureImageResourceHttps(e.icon)),\n            e.image && (e.image = y.ensureImageResourceHttps(e.image)),\n            e.buttons && e.buttons.length > 0)\n          )\n            for (let t of e.buttons)\n              t.icon && (t.icon = y.ensureImageResourceHttps(t.icon));\n        }\n        static displayNotification(e, t) {\n          return n.a(this, void 0, void 0, function*() {\n            b.a.debug(\n              `Called %cdisplayNotification(${JSON.stringify(e, null, 4)}):`,\n              S.a.getConsoleStyle(\"code\"),\n              e\n            );\n            const i = yield y._getTitle(),\n              n = yield p.a.get(\"Options\", \"defaultIcon\"),\n              r = yield p.a.get(\"Options\", \"persistNotification\"),\n              o = yield y.getAppId();\n            (e.heading = e.heading ? e.heading : i),\n              (e.icon = e.icon ? e.icon : n || void 0);\n            const s = {};\n            (s.tag = e.tag || o),\n              (s.persistNotification = !1 !== r),\n              t || (t = {}),\n              (e = Object.assign({}, e, t)),\n              y.ensureNotificationResourcesHttps(e);\n            let a = {\n              body: e.content,\n              icon: e.icon,\n              image: e.image,\n              data: e,\n              actions: e.buttons,\n              tag: s.tag,\n              requireInteraction: s.persistNotification,\n              renotify: !0,\n              badge: e.badge,\n              vibrate: e.vibrate\n            };\n            return (\n              (a = y.fixPlatformSpecificDisplayIssues(a)),\n              self.registration.showNotification(e.heading, a)\n            );\n          });\n        }\n        static fixPlatformSpecificDisplayIssues(e) {\n          const t = Object.assign({}, e),\n            i = v.a.redetectBrowserUserAgent();\n          return (\n            i.chrome && i.mac && S.a.isVersionAtLeast(i.osversion, 10.15)\n              ? (t.requireInteraction = !1)\n              : i.opera &&\n                i.mac &&\n                S.a.isVersionAtLeast(i.osversion, 10.14) &&\n                (t.requireInteraction = !1),\n            t\n          );\n        }\n        static shouldOpenNotificationUrl(e) {\n          return (\n            \"javascript:void(0);\" !== e &&\n            \"do_not_open\" !== e &&\n            !S.a.contains(e, \"_osp=do_not_open\")\n          );\n        }\n        static onNotificationClosed(e) {\n          b.a.debug(\n            `Called %conNotificationClosed(${JSON.stringify(e, null, 4)}):`,\n            S.a.getConsoleStyle(\"code\"),\n            e\n          );\n          let t = e.notification.data;\n          y.workerMessenger\n            .broadcast(a.b.NotificationDismissed, t)\n            .catch(e => b.a.error(e)),\n            e.waitUntil(y.executeWebhooks(\"notification.dismissed\", t));\n        }\n        static getNotificationUrlToOpen(e) {\n          return n.a(this, void 0, void 0, function*() {\n            let t = self.registration.scope;\n            const { defaultNotificationUrl: i } = yield p.a.getAppState();\n            if ((i && (t = i), e.action))\n              for (let i of e.buttons)\n                i.action === e.action && i.url && \"\" !== i.url && (t = i.url);\n            else e.url && \"\" !== e.url && (t = e.url);\n            return t;\n          });\n        }\n        static onNotificationClicked(e) {\n          return n.a(this, void 0, void 0, function*() {\n            b.a.debug(\n              `Called %conNotificationClicked(${JSON.stringify(e, null, 4)}):`,\n              S.a.getConsoleStyle(\"code\"),\n              e\n            ),\n              e.notification.close();\n            const t = e.notification.data;\n            e.action && (t.action = e.action);\n            let i = \"exact\",\n              n = \"navigate\";\n            const r = yield p.a.get(\"Options\", \"notificationClickHandlerMatch\");\n            r && (i = r);\n            const o = yield this.database.get(\n              \"Options\",\n              \"notificationClickHandlerAction\"\n            );\n            o && (n = o);\n            const s = yield y.getActiveClients(),\n              c = yield y.getNotificationUrlToOpen(t),\n              d = y.shouldOpenNotificationUrl(c),\n              { appId: u } = yield p.a.getAppConfig(),\n              { deviceId: l } = yield p.a.getSubscription(),\n              g = y.sendConvertedAPIRequests(u, l, t);\n            let f = !1;\n            for (const e of s) {\n              let r = e.url;\n              if (e.isSubdomainIframe) {\n                const e = yield p.a.get(\"Options\", \"lastKnownHostUrl\");\n                (r = e), e || (r = yield p.a.get(\"Options\", \"defaultUrl\"));\n              }\n              let o = \"\";\n              try {\n                o = new URL(r).origin;\n              } catch (e) {\n                b.a.error(\"Failed to get the HTTP site's actual origin:\", e);\n              }\n              let s = null;\n              try {\n                s = new URL(c).origin;\n              } catch (e) {}\n              if ((\"exact\" === i && r === c) || (\"origin\" === i && o === s)) {\n                if (\n                  (e.isSubdomainIframe && r === c) ||\n                  (!e.isSubdomainIframe && e.url === c) ||\n                  (\"focus\" === n && o === s)\n                ) {\n                  y.workerMessenger.unicast(a.b.NotificationClicked, t, e);\n                  try {\n                    e instanceof WindowClient && (yield e.focus());\n                  } catch (t) {\n                    b.a.error(\"Failed to focus:\", e, t);\n                  }\n                } else if (e.isSubdomainIframe) {\n                  try {\n                    b.a.debug(\n                      \"Client is subdomain iFrame. Attempting to focus() client.\"\n                    ),\n                      e instanceof WindowClient && (yield e.focus());\n                  } catch (t) {\n                    b.a.error(\"Failed to focus:\", e, t);\n                  }\n                  d\n                    ? (b.a.debug(`Redirecting HTTP site to ${c}.`),\n                      yield p.a.put(\"NotificationOpened\", {\n                        url: c,\n                        data: t,\n                        timestamp: Date.now()\n                      }),\n                      y.workerMessenger.unicast(a.b.RedirectPage, c, e))\n                    : b.a.debug(\"Not navigating because link is special.\");\n                } else if (e instanceof WindowClient && e.navigate) {\n                  try {\n                    b.a.debug(\n                      \"Client is standard HTTPS site. Attempting to focus() client.\"\n                    ),\n                      e instanceof WindowClient && (yield e.focus());\n                  } catch (t) {\n                    b.a.error(\"Failed to focus:\", e, t);\n                  }\n                  try {\n                    d\n                      ? (b.a.debug(`Redirecting HTTPS site to (${c}).`),\n                        yield p.a.put(\"NotificationOpened\", {\n                          url: c,\n                          data: t,\n                          timestamp: Date.now()\n                        }),\n                        yield e.navigate(c))\n                      : b.a.debug(\"Not navigating because link is special.\");\n                  } catch (t) {\n                    b.a.error(\"Failed to navigate:\", e, c, t);\n                  }\n                } else\n                  yield p.a.put(\"NotificationOpened\", {\n                    url: c,\n                    data: t,\n                    timestamp: Date.now()\n                  }),\n                    yield y.openUrl(c);\n                f = !0;\n                break;\n              }\n            }\n            return (\n              d &&\n                !f &&\n                (yield p.a.put(\"NotificationOpened\", {\n                  url: c,\n                  data: t,\n                  timestamp: Date.now()\n                }),\n                yield y.openUrl(c)),\n              yield g\n            );\n          });\n        }\n        static sendConvertedAPIRequests(e, t, i) {\n          return n.a(this, void 0, void 0, function*() {\n            if (!i.id)\n              return void console.error(\n                \"No notification id, skipping networks calls to report open!\"\n              );\n            let n;\n            e\n              ? (n = u.b.put(`notifications/${i.id}`, {\n                  app_id: e,\n                  player_id: t,\n                  opened: !0\n                }))\n              : console.error(\n                  \"No app Id, skipping OneSignal API call for notification open!\"\n                ),\n              yield y.executeWebhooks(\"notification.clicked\", i),\n              n && (yield n);\n          });\n        }\n        static openUrl(e) {\n          return n.a(this, void 0, void 0, function*() {\n            b.a.debug(\"Opening notification URL:\", e);\n            try {\n              return yield self.clients.openWindow(e);\n            } catch (t) {\n              return b.a.warn(`Failed to open the URL '${e}':`, t), null;\n            }\n          });\n        }\n        static onServiceWorkerInstalled(e) {\n          e.waitUntil(self.skipWaiting());\n        }\n        static onServiceWorkerActivated(e) {\n          b.a.info(\n            `%cOneSignal Service Worker activated (version ${s.a.version()}, ${c.a\n              .getWindowEnv()\n              .toString()} environment).`,\n            S.a.getConsoleStyle(\"bold\")\n          ),\n            e.waitUntil(self.clients.claim());\n        }\n        static onPushSubscriptionChange(e) {\n          return n.a(this, void 0, void 0, function*() {\n            b.a.debug(\n              `Called %conPushSubscriptionChange(${JSON.stringify(\n                e,\n                null,\n                4\n              )}):`,\n              S.a.getConsoleStyle(\"code\"),\n              e\n            );\n            const t = yield y.getAppId();\n            if (!t) return;\n            const i = yield m.a.getAppConfig(\n              { appId: t },\n              l.a.downloadServerAppConfig\n            );\n            if (!i) return;\n            const n = new d.a(i);\n            let r, o;\n            {\n              let { deviceId: i } = yield p.a.getSubscription();\n              if (!(r = !!i) && e.oldSubscription) {\n                i = yield l.a.getUserIdFromSubscriptionIdentifier(\n                  t,\n                  h.a.prototype.getDeliveryPlatform(),\n                  e.oldSubscription.endpoint\n                );\n                const n = yield p.a.getSubscription();\n                (n.deviceId = i), yield p.a.setSubscription(n);\n              }\n              r = !!i;\n            }\n            const s = e.newSubscription;\n            if (s) o = g.a.setFromW3cSubscription(s);\n            else\n              try {\n                o = yield n.subscriptionManager.subscribe(1);\n              } catch (e) {}\n            if (r || !!o) {\n              let e = null;\n              \"granted\" !== Notification.permission\n                ? (e = f.a.PermissionRevoked)\n                : o || (e = f.a.PushSubscriptionRevoked),\n                yield n.subscriptionManager.registerSubscription(o, e);\n            } else yield p.a.remove(\"Ids\", \"userId\"), yield p.a.remove(\"Ids\", \"registrationId\");\n          });\n        }\n        static _getTitle() {\n          return new Promise(e => {\n            Promise.all([\n              p.a.get(\"Options\", \"defaultTitle\"),\n              p.a.get(\"Options\", \"pageTitle\")\n            ]).then(([t, i]) => {\n              e(null !== t ? t : null != i ? i : \"\");\n            });\n          });\n        }\n        static parseOrFetchNotifications(e) {\n          if (!e || !e.data)\n            return Promise.reject(\"Missing event.data on push payload!\");\n          return y.isValidPushPayload(e.data)\n            ? (b.a.debug(\"Received a valid encrypted push payload.\"),\n              Promise.resolve([e.data.json()]))\n            : Promise.reject(\n                `Unexpected push message payload received: ${e.data}`\n              );\n        }\n        static isValidPushPayload(e) {\n          try {\n            const t = e.json();\n            return (\n              !!(t && t.custom && t.custom.i && v.a.isValidUuid(t.custom.i)) ||\n              (b.a.debug(\n                \"isValidPushPayload: Valid JSON but missing notification UUID:\",\n                t\n              ),\n              !1)\n            );\n          } catch (e) {\n            return (\n              b.a.debug(\"isValidPushPayload: Parsing to JSON failed with:\", e),\n              !1\n            );\n          }\n        }\n      }\n      \"undefined\" == typeof self && void 0 !== e\n        ? (e.OneSignalWorker = y)\n        : (self.OneSignalWorker = y),\n        \"undefined\" != typeof self && y.run();\n    }.call(this, i(32)));\n  },\n  function(e, t) {\n    e.exports = function() {\n      throw new Error(\"define cannot be used indirect\");\n    };\n  },\n  function(e, t, i) {\n    \"use strict\";\n    i.r(t);\n    var n = i(33);\n    self.OneSignal = n.a;\n  }\n]);\n//# sourceMappingURL=OneSignalSDKWorker.js.map\n"]},"metadata":{},"sourceType":"script"}